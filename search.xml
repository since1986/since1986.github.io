<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä¸‰å…ƒè¡¨è¾¾å¼è¿”å›žç±»åž‹çš„ç¡®å®š]]></title>
    <url>%2F8ac5addf.html</url>
    <content type="text"><![CDATA[å‰è¨€åŽç«¯åœˆ ç¾¤å‹æäº†ä¸€ä¸ªå…³äºŽä¸‰å…ƒè¡¨è¾¾å¼è¿”å›žç±»åž‹æ€Žä¹ˆç¡®å®šçš„é—®é¢˜ã€‚ æ­£æ–‡ç¾¤å‹æé—®ï¼š 12345678910public static void main(String[] args) &#123; char c = &apos;c&apos;; int i = 129; boolean condition = true; System.out.println(condition ? c : 129); System.out.println(condition ? c : i);&#125;// ç¬¬ä¸€ä¸ªç»“æžœæ˜¯ char åž‹// ç¬¬äºŒä¸ªç»“æžœæ˜¯ int åž‹ æˆ‘çš„å›žç­”ï¼š ä¸‰å…ƒè¡¨è¾¾å¼åŽè¾¹ä¸¤ä¸ªè¡¨è¾¾å¼å“ªä¸ªä¼šè¿”å›žåœ¨ã€ŠJavaè¯­è¨€è§„èŒƒã€‹é‡Œæœ‰è¯´æ˜Žï¼Œæˆ‘ç²—ç•¥çš„çœ‹äº†ä¸€ä¸‹ï¼Œåƒè¿™ç§æƒ…å†µ true ? c : 0 æ ¹æ®è§„èŒƒçš„æè¿°åº”è¯¥æ˜¯è¿”å›ž char ç±»åž‹çš„ã€‚]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nullå¯è¢«å£°æ˜Žå¼ºè½¬ä¸ºæŸä¸ªç±»åž‹]]></title>
    <url>%2F5b253c16.html</url>
    <content type="text"><![CDATA[å‰è¨€ä¸€ä¸ªä»¥å‰æ²¡æœ‰æ³¨æ„åˆ°çš„ç‚¹ã€‚ æ­£æ–‡å‘çŽ°äº†ä¸€ä¸ªæœ‰æ„æ€çš„ç‚¹ï¼šnullä¹Ÿå¯ä»¥è¢«å£°æ˜Žå¼ºåˆ¶è½¬æ¢ä¸ºæŸä¸ªç±»åž‹çš„ã€‚ ä¸‹é¢ Socket ç±»ä¸­æœ‰ä¸¤ä¸ªæŽ¥å—ä¸¤ä¸ªå‚æ•°çš„æž„é€ å™¨ï¼šä¸€ä¸ªæ˜¯ (String, int) ä¸€ä¸ªæ˜¯ (InetAddress, int) è¦æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ç›´ä¼  null ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºè§¦å‘äº†æ¨¡æ£±ä¸¤å¯åŒ¹é…ï¼Œä½†æ˜¯å¦‚æžœæŠŠ null å¼ºè½¬ä¸ºæŒ‡å®šçš„ç±»åž‹å°±èƒ½ç¼–è¯‘è¿‡äº† ((String) null, 1111) ï¼Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ã€‚]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¯»ã€Štomcatå†…æ ¸è®¾è®¡å‰–æžã€‹å­¦åˆ°çš„ä¸€ä¸ªç‚¹]]></title>
    <url>%2F337ac5e1.html</url>
    <content type="text"><![CDATA[å‰è¨€è¯»ã€Štomcatå†…æ ¸è®¾è®¡å‰–æžã€‹å­¦åˆ°äº†ä¸€ä¸ªå°æŠ€å·§ï¼Œè®°å½•ä¸€ä¸‹ã€‚ æ­£æ–‡åœ¨ tomcat é‡ŒæŽ¢æŸ¥å¯èƒ½å­˜åœ¨çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨å¯¼è‡´å†…å­˜æ³„æ¼çš„åŠžæ³•ï¼šç”¨å¼±å¼•ç”¨é…åˆSystem.gc()ã€‚ å¤§è‡´çš„åŽŸç†æ˜¯ï¼šå¦‚æžœä¸€ä¸ªå¯¹è±¡åªè¢«å¼±å¼•ç”¨å¼•ç”¨ï¼Œé‚£ä¹ˆä¸‹æ¬¡ gc åŽä¼šè¢«å›žæ”¶ï¼›å¦‚æžœä¸€ä¸ªå¯¹è±¡ä¸åªè¢«å¼±å¼•ç”¨å¼•ç”¨è¿˜è¢«å¼ºå¼•ç”¨å¼•ç”¨ï¼Œé‚£ä¹ˆä¸‹æ¬¡ gc åŽä¸èƒ½è¢«å›žæ”¶ã€‚tomcat åˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼ŒæŠŠæ‰€æœ‰è‡ªå®šä¹‰ç±»åŠ è½½å™¨å¼•ç”¨éƒ½æ”¾å…¥WeakHashMapé‡Œï¼Œè¿™æ ·å°±éƒ½è¢«å¼±å¼•ç”¨å¼•ç”¨äº†ï¼Œç„¶åŽéœ€è¦æŽ¢æŸ¥æ³„æ¼æ—¶ï¼Œæ‰‹å·¥è§¦å‘ä¸€æ¬¡gcä¹Ÿå°±æ˜¯System.gc() çœ‹ä¸€ä¸‹è¿™ä¸ªWeakHashMapè¿˜å‰©è°ï¼Œå‰©ä¸‹çš„å°±æ˜¯è¿˜åœ¨å…¶ä»–åœ°æ–¹æœ‰å¼ºå¼•ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯æœ‰å†…å­˜æ³„æ¼çš„ã€‚æ„Ÿè§‰è¿™ä¸ªæ–¹æ³•å¾ˆå·§å¦™ã€‚]]></content>
      <tags>
        <tag>JVM</tag>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¸©äº†ä¸€ä¸ªjavaå‘½ä»¤è¡Œå‚æ•°é¡ºåºçš„å‘]]></title>
    <url>%2Fa6794556.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™å‡ å¤©çº¿ä¸Šå®žä¾‹ä¼šå¶å°”æŠ¥è­¦é‡å¯ï¼ŒæŸ¥äº†ä¸€ä¸‹é—®é¢˜ï¼Œå¶ç„¶å‘çŽ°äº†ä¸€ä¸ªjavaå‘½ä»¤å‚æ•°é¡ºåºçš„å‘ã€‚ æ­£æ–‡æˆ‘çº¿ä¸Šçš„å¯åŠ¨å‘½ä»¤è¡Œä¸ºï¼š 1java -jar app.jar -DcustomArgs=someCustomArgs -Xmx2048M -Xms2048M -XX:MaxMetaspaceSize=256M -XX:MetaspaceSize=256M -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+ParallelRefProcEnabled -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:ErrorFile=/log/hs_err_pid%p.log -Xloggc:/log/gc.log -XX:HeapDumpPath=/log è¿™ä¸ªå‘½ä»¤çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œè®¾ç½®äº†JVMå‚æ•°ï¼ŒGCæ—¥å¿—æ‰“å°ç­‰ç­‰ï¼Œçœ‹èµ·æ¥ä¸€åˆ‡OKã€‚ä½†æ˜¯ï¼Œå®žé™…ä¸Šï¼Œå½“çº¿ä¸Šå‡ºçŽ°é‡å¯åŽï¼Œæˆ‘åŽ»æŸ¥çœ‹gcæ—¥å¿—ï¼Œå´å‘çŽ°ï¼ŒåŽ‹æ ¹æ²¡æœ‰gcæ—¥å¿—çš„æ–‡ä»¶ï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œåº”å½“æ˜¯æˆ‘è®¾ç½®çš„å‚æ•°æ²¡æœ‰ç”Ÿæ•ˆï¼ŒäºŽæ˜¯ç”¨jps -lvmæŸ¥çœ‹ï¼Œç»“æžœå¦‚ä¸‹ï¼š 1448 app.jar -DcustomArgs=someCustomArgs -Xmx2048M -Xms2048M -XX:MaxMetaspaceSize=256M -XX:MetaspaceSize=256M -XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:+ParallelRefProcEnabled -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:ErrorFile=/log/hs_err_pid%p.log -Xloggc:/log/gc.log -XX:HeapDumpPath=/log çœ‹èµ·æ¥æ²¡é—®é¢˜å•Šï¼ŒäºŽæ˜¯æˆ‘åˆçœ‹äº†çœ‹javaå‘½ä»¤çš„æ“ä½œæ‰‹å†Œï¼Œå‘çŽ°äº†é—®é¢˜ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354java -hç”¨æ³•: java [-options] class [args...] (æ‰§è¡Œç±») æˆ– java [-options] -jar jarfile [args...] (æ‰§è¡Œ jar æ–‡ä»¶)å…¶ä¸­é€‰é¡¹åŒ…æ‹¬: -d32 ä½¿ç”¨ 32 ä½æ•°æ®æ¨¡åž‹ (å¦‚æžœå¯ç”¨) -d64 ä½¿ç”¨ 64 ä½æ•°æ®æ¨¡åž‹ (å¦‚æžœå¯ç”¨) -server é€‰æ‹© "server" VM é»˜è®¤ VM æ˜¯ server, å› ä¸ºæ‚¨æ˜¯åœ¨æœåŠ¡å™¨ç±»è®¡ç®—æœºä¸Šè¿è¡Œã€‚ -cp &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt; -classpath &lt;ç›®å½•å’Œ zip/jar æ–‡ä»¶çš„ç±»æœç´¢è·¯å¾„&gt; ç”¨ : åˆ†éš”çš„ç›®å½•, JAR æ¡£æ¡ˆ å’Œ ZIP æ¡£æ¡ˆåˆ—è¡¨, ç”¨äºŽæœç´¢ç±»æ–‡ä»¶ã€‚ -D&lt;åç§°&gt;=&lt;å€¼&gt; è®¾ç½®ç³»ç»Ÿå±žæ€§ -verbose:[class|gc|jni] å¯ç”¨è¯¦ç»†è¾“å‡º -version è¾“å‡ºäº§å“ç‰ˆæœ¬å¹¶é€€å‡º -version:&lt;å€¼&gt; è­¦å‘Š: æ­¤åŠŸèƒ½å·²è¿‡æ—¶, å°†åœ¨ æœªæ¥å‘è¡Œç‰ˆä¸­åˆ é™¤ã€‚ éœ€è¦æŒ‡å®šçš„ç‰ˆæœ¬æ‰èƒ½è¿è¡Œ -showversion è¾“å‡ºäº§å“ç‰ˆæœ¬å¹¶ç»§ç»­ -jre-restrict-search | -no-jre-restrict-search è­¦å‘Š: æ­¤åŠŸèƒ½å·²è¿‡æ—¶, å°†åœ¨ æœªæ¥å‘è¡Œç‰ˆä¸­åˆ é™¤ã€‚ åœ¨ç‰ˆæœ¬æœç´¢ä¸­åŒ…æ‹¬/æŽ’é™¤ç”¨æˆ·ä¸“ç”¨ JRE -? -help è¾“å‡ºæ­¤å¸®åŠ©æ¶ˆæ¯ -X è¾“å‡ºéžæ ‡å‡†é€‰é¡¹çš„å¸®åŠ© -ea[:&lt;packagename&gt;...|:&lt;classname&gt;] -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;] æŒ‰æŒ‡å®šçš„ç²’åº¦å¯ç”¨æ–­è¨€ -da[:&lt;packagename&gt;...|:&lt;classname&gt;] -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;] ç¦ç”¨å…·æœ‰æŒ‡å®šç²’åº¦çš„æ–­è¨€ -esa | -enablesystemassertions å¯ç”¨ç³»ç»Ÿæ–­è¨€ -dsa | -disablesystemassertions ç¦ç”¨ç³»ç»Ÿæ–­è¨€ -agentlib:&lt;libname&gt;[=&lt;é€‰é¡¹&gt;] åŠ è½½æœ¬æœºä»£ç†åº“ &lt;libname&gt;, ä¾‹å¦‚ -agentlib:hprof å¦è¯·å‚é˜… -agentlib:jdwp=help å’Œ -agentlib:hprof=help -agentpath:&lt;pathname&gt;[=&lt;é€‰é¡¹&gt;] æŒ‰å®Œæ•´è·¯å¾„ååŠ è½½æœ¬æœºä»£ç†åº“ -javaagent:&lt;jarpath&gt;[=&lt;é€‰é¡¹&gt;] åŠ è½½ Java ç¼–ç¨‹è¯­è¨€ä»£ç†, è¯·å‚é˜… java.lang.instrument -splash:&lt;imagepath&gt; ä½¿ç”¨æŒ‡å®šçš„å›¾åƒæ˜¾ç¤ºå¯åŠ¨å±å¹•æœ‰å…³è¯¦ç»†ä¿¡æ¯, è¯·å‚é˜… http://www.oracle.com/technetwork/java/javase/documentation/index.htmlã€‚ æ³¨æ„è¿™ä¸¤ç‚¹ï¼šjava [-options] -jar jarfile [args...] å’Œ -X è¾“å‡ºéžæ ‡å‡†é€‰é¡¹çš„å¸®åŠ© ä¹Ÿå°±æ˜¯è¯´ï¼Œjava è¿™ä¸ªå‘½ä»¤è¡ŒåŽè¾¹çš„[-options] æ˜¯åœ¨ -jar jarfile å‰é¢çš„ï¼Œæˆ‘é‚£ä¸ªå‘½ä»¤è¡Œé‡Œï¼Œæ­£å¥½æžåäº†ï¼Œæˆ‘çš„å‘½ä»¤è¡Œé‡Œçš„ä¸€å †-Xæˆ–è€…-XXåº”å½“éƒ½å±žäºŽ[-options]é‡Œé¢çš„ï¼Œè¿™ä¸€ç‚¹å¯ç”¨java -XéªŒè¯ï¼š 123456789101112131415161718192021222324252627282930313233 -Xmixed æ··åˆæ¨¡å¼æ‰§è¡Œ (é»˜è®¤) -Xint ä»…è§£é‡Šæ¨¡å¼æ‰§è¡Œ -Xbootclasspath:&lt;ç”¨ : åˆ†éš”çš„ç›®å½•å’Œ zip/jar æ–‡ä»¶&gt; è®¾ç½®æœç´¢è·¯å¾„ä»¥å¼•å¯¼ç±»å’Œèµ„æº -Xbootclasspath/a:&lt;ç”¨ : åˆ†éš”çš„ç›®å½•å’Œ zip/jar æ–‡ä»¶&gt; é™„åŠ åœ¨å¼•å¯¼ç±»è·¯å¾„æœ«å°¾ -Xbootclasspath/p:&lt;ç”¨ : åˆ†éš”çš„ç›®å½•å’Œ zip/jar æ–‡ä»¶&gt; ç½®äºŽå¼•å¯¼ç±»è·¯å¾„ä¹‹å‰ -Xdiag æ˜¾ç¤ºé™„åŠ è¯Šæ–­æ¶ˆæ¯ -Xnoclassgc ç¦ç”¨ç±»åžƒåœ¾æ”¶é›† -Xincgc å¯ç”¨å¢žé‡åžƒåœ¾æ”¶é›† -Xloggc:&lt;file&gt; å°† GC çŠ¶æ€è®°å½•åœ¨æ–‡ä»¶ä¸­ (å¸¦æ—¶é—´æˆ³) -Xbatch ç¦ç”¨åŽå°ç¼–è¯‘ -Xms&lt;size&gt; è®¾ç½®åˆå§‹ Java å †å¤§å° -Xmx&lt;size&gt; è®¾ç½®æœ€å¤§ Java å †å¤§å° -Xss&lt;size&gt; è®¾ç½® Java çº¿ç¨‹å †æ ˆå¤§å° -Xprof è¾“å‡º cpu é…ç½®æ–‡ä»¶æ•°æ® -Xfuture å¯ç”¨æœ€ä¸¥æ ¼çš„æ£€æŸ¥, é¢„æœŸå°†æ¥çš„é»˜è®¤å€¼ -Xrs å‡å°‘ Java/VM å¯¹æ“ä½œç³»ç»Ÿä¿¡å·çš„ä½¿ç”¨ (è¯·å‚é˜…æ–‡æ¡£) -Xcheck:jni å¯¹ JNI å‡½æ•°æ‰§è¡Œå…¶ä»–æ£€æŸ¥ -Xshare:off ä¸å°è¯•ä½¿ç”¨å…±äº«ç±»æ•°æ® -Xshare:auto åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨å…±äº«ç±»æ•°æ® (é»˜è®¤) -Xshare:on è¦æ±‚ä½¿ç”¨å…±äº«ç±»æ•°æ®, å¦åˆ™å°†å¤±è´¥ã€‚ -XshowSettings æ˜¾ç¤ºæ‰€æœ‰è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:all æ˜¾ç¤ºæ‰€æœ‰è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:vm æ˜¾ç¤ºæ‰€æœ‰ä¸Ž vm ç›¸å…³çš„è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:properties æ˜¾ç¤ºæ‰€æœ‰å±žæ€§è®¾ç½®å¹¶ç»§ç»­ -XshowSettings:locale æ˜¾ç¤ºæ‰€æœ‰ä¸ŽåŒºåŸŸè®¾ç½®ç›¸å…³çš„è®¾ç½®å¹¶ç»§ç»­-X é€‰é¡¹æ˜¯éžæ ‡å‡†é€‰é¡¹, å¦‚æœ‰æ›´æ”¹, æ•ä¸å¦è¡Œé€šçŸ¥ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘å› ä¸ºæžåäº†javaä¸­å‚æ•°çš„é¡ºåºï¼Œå¯¼è‡´äº†javaå¿½ç•¥æŽ‰äº†æˆ‘çš„å‚æ•°ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•çœ‹åˆ°å½“å‰JVMçœŸå®žåº”ç”¨äº†çš„å‚æ•°å‘¢ï¼Œæˆ‘æŸ¥äº†ä¸€ä¸‹ï¼Œå‘çŽ°å¯ä»¥ç”¨jinfo -flags &lt;pid&gt; æˆ– java -XX:+PrintFlagsFinal æˆ– java -XX:+PrintCommandLineFlags æ¥æŸ¥çœ‹ã€‚ è¿è¡Œjinfo -flags &lt;pid&gt;ä¼šæœ‰ä»¥ä¸‹è¾“å‡ºï¼š 123456Attaching to process ID 560, please wait...Debugger attached successfully.Server compiler detected.JVM version is 25.66-b17Non-default VM flags: -XX:CICompilerCount=15 -XX:InitialHeapSize=2147483648 -XX:MaxHeapSize=32210157568 -XX:MaxNewSize=10736369664 -XX:MinHeapDeltaBytes=524288 -XX:NewSize=715653120 -XX:OldSize=1431830528 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:+UseParallelGCCommand line: å¯ä»¥çœ‹åˆ° Non-default ä¸­ MaxHeapSize å’Œ MaxNewSize éƒ½æ˜¯å¤§çš„ç¦»è°±çš„æ•° 32G å’Œ 10G ï¼Œè¿™ä¸¤ä¸ªæ•°æ˜¯æ€Žä¹ˆæ¥çš„æˆ‘æš‚æ—¶æ²¡æ‰¾åˆ°æ¥æºç‚¹ï¼ˆçŒœæµ‹æ˜¯è¿ç»´å¹³å°è‡ªåŠ¨é™„åŠ çš„ï¼Ÿï¼‰ï¼ŒåŒæ—¶ï¼Œå¯ä»¥çœ‹åˆ° Command line: è¿™é‡Œæ˜¯ç©ºçš„ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åº”ç”¨å‘½ä»¤è¡Œä¸­çš„è®¾ç½®å‚æ•°ã€‚ æˆ‘ä»¬å†æ¥è¿è¡Œ java -XX:+PrintCommandLineFlagsï¼Œç»“æžœå¦‚ä¸‹ï¼š 1-XX:InitialHeapSize=2147483648 -XX:MaxHeapSize=32210157568 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseParallelGC å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å‘½ä»¤è¡Œä¸Šï¼Œåº”ç”¨äº†å‚æ•°ï¼Œå‚æ•°ä¸­è®¾ç½®äº†MaxHeapSize å’Œ MaxNewSize ä¸ºå¤§çš„ç¦»è°±çš„æ•° 32G å’Œ 10Gï¼Œå½“ç„¶ï¼Œè¿™ä¸ªå¹¶ä¸æ˜¯æˆ‘è®¾ç½®çš„ï¼Œä¼°è®¡æ˜¯ä¸€äº›å…¶ä»–çš„è„šæœ¬è®¾ç½®çš„ï¼ˆçŒœæµ‹ï¼Œå°šæœªæ‰¾åˆ°æºå¤´ï¼‰ã€‚ è¿™ä¸ªç®—æ˜¯ä¸ªä¸å¤§ä¸å°çš„å‘ï¼ˆè¿™ä¸ªå‘å’Œçº¿ä¸Šé—®é¢˜æœ‰æ²¡æœ‰å…³è”å°šæœªéªŒè¯ï¼Œæ€»ä¹‹æ˜¯ä¸ªå‘ï¼‰ï¼Œä»¥åŽéœ€è¦æ³¨æ„ã€‚ å‚è€ƒèµ„æ–™Javaçš„Xmså’ŒXmxæœ€å°å¯ä»¥æ˜¯å¤šå°‘ JVMä¸­çš„MaxHeapSizeå€¼ä¸ä¸€è‡´é—®é¢˜ JVMå®žç”¨å‚æ•°ï¼ˆä¸‰ï¼‰æ‰“å°æ‰€æœ‰XXå‚æ•°åŠå€¼ JVMç³»åˆ—ç¬¬12è®²ï¼šJVMå‚æ•°ä¹‹æŸ¥çœ‹JVMå‚æ•° jinfoå‘½ä»¤è¯¦è§£ whatâ€™s means of jinfo non-default vm flags 20190613æ›´æ–°æ„Ÿè°¢ @ç¥æ™“æ³¢ çš„æ›´æ­£ï¼Œå‰æ–‡æåˆ°çš„é‚£ä¸ªç¦»è°±çš„32Gï¼Œåº”å½“æ˜¯åœ¨æ²¡æœ‰æ˜Žç¡®æŒ‡å®š-Xmxæ—¶ï¼ŒJVMæ ¹æ®ç­–ç•¥è‡ªåŠ¨è®¡ç®—å‡ºçš„å †æœ€å¤§çš„å¤§å°ï¼Œç„¶åŽé‚£ä¸ª10Gçš„æ–°ç”Ÿä»£å¤§å°åŒæ ·ä¹Ÿæ˜¯ä¾æ®äºŽç­–ç•¥ç®—å‡ºæ¥çš„ï¼Œå…³äºŽå…¶ç­–ç•¥å¯å‚è€ƒå®˜æ–¹çš„Update Release Notesï¼š Garbage collection improvements Updated Client JVM heap configuration In the Client JVM, the default Java heap configuration has been modified to improve the performance of todayâ€™s rich client applications. Initial and maximum heap sizes are larger and settings related to generational garbage collection are better tuned. The default maximum heap size is half of the physical memory up to a physical memory size of 192 megabytes and otherwise one fourth of the physical memory up to a physical memory size of 1 gigabyte. For example, if your machine has 128 megabytes of physical memory, then the maximum heap size is 64 megabytes, and greater than or equal to 1 gigabyte of physical memory results in a maximum heap size of 256 megabytes. The maximum heap size is not actually used by the JVM unless your program creates enough objects to require it. A much smaller amount, termed the initial heap size, is allocated during JVM initialization. This amount is at least 8 megabytes and otherwise 1/64 of physical memory up to a physical memory size of 1 gigabyte. The maximum amount of space allocated to the young generation is one third of the total heap size. The updated heap configuration ergonomics apply to all collectors except Concurrent Mark-Sweep (CMS). CMS heap configuration ergonomics remain the same. Server JVM heap configuration ergonomics are now the same as the Client, except that the default maximum heap size for 32-bit JVMs is 1 gigabyte, corresponding to a physical memory size of 4 gigabytes, and for 64-bit JVMs is 32 gigabytes, corresponding to a physical memory size of 128 gigabytes. è¿˜å¯å‚è€ƒï¼š As of JDK6U18 following are configurations for the Heap Size. In the Client JVM, the default Java heap configuration has been modified to improve the performance of todayâ€™s rich client applications. Initial and maximum heap sizes are larger and settings related to generational garbage collection are better tuned. The default maximum heap size is half of the physical memory up to a physical memory size of 192 megabytes and otherwise one fourth of the physical memory up to a physical memory size of 1 gigabyte. For example, if your machine has 128 megabytes of physical memory, then the maximum heap size is 64 megabytes, and greater than or equal to 1 gigabyte of physical memory results in a maximum heap size of 256 megabytes. The maximum heap size is not actually used by the JVM unless your program creates enough objects to require it. A much smaller amount, termed the initial heap size, is allocated during JVM initialization. This amount is at least 8 megabytes and otherwise 1/64 of physical memory up to a physical memory size of 1 gigabyte. Source : http://www.oracle.com/technetwork/java/javase/6u18-142093.html To answer this question itâ€™s critical whether the Java VM is in CLIENT or SERVER mode. You can specify â€œ-clientâ€ or â€œ-serverâ€ options. Otherwise java uses internal rules; basically win32 is always client and Linux is always server, but see the table here: http://docs.oracle.com/javase/6/docs/technotes/guides/vm/server-class.html Sun/Oracle jre6u18 doc says re client: the VM gets 1/2 of physical memory if machine has &lt;= 192MB; 1/4 of memory if machine has &lt;= 1Gb; max 256Mb. In my test on a 32bit WindowsXP system with 2Gb phys mem, Java allocated 256Mb, which agrees with the doc. Sun/Oracle jre6u18 doc says re server: same as client, then adds confusing language: for 32bit JVM the default max is 1Gb, and for 64 bit JVM the default is 32Gb. In my test on a 64bit linux machine with 8Gb physical, Java allocates 2Gb, which is 1/4 of physical; on a 64bit linux machine with 128Gb physical Java allocates 32Gb, again 1/4 of physical. Thanks to this SO post for guiding me: Definition of server-class machine changed recently? å¦å¤–ï¼Œä»ŽJDKæºç hotspot\src\share\vm\runtime\arguments.cppä¹Ÿå¯çœ‹åˆ°ç›¸å…³é€»è¾‘ï¼ˆçŒœæµ‹æ˜¯è¿™é‡Œï¼Œå¹¶æœªçœ‹æ‡‚ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889void Arguments::set_heap_size() &#123; if (!FLAG_IS_DEFAULT(DefaultMaxRAMFraction)) &#123; // Deprecated flag FLAG_SET_CMDLINE(uintx, MaxRAMFraction, DefaultMaxRAMFraction); &#125; const julong phys_mem = FLAG_IS_DEFAULT(MaxRAM) ? MIN2(os::physical_memory(), (julong)MaxRAM) : (julong)MaxRAM; // If the maximum heap size has not been set with -Xmx, // then set it as fraction of the size of physical memory, // respecting the maximum and minimum sizes of the heap. if (FLAG_IS_DEFAULT(MaxHeapSize)) &#123; julong reasonable_max = phys_mem / MaxRAMFraction; if (phys_mem &lt;= MaxHeapSize * MinRAMFraction) &#123; // Small physical memory, so use a minimum fraction of it for the heap reasonable_max = phys_mem / MinRAMFraction; &#125; else &#123; // Not-small physical memory, so require a heap at least // as large as MaxHeapSize reasonable_max = MAX2(reasonable_max, (julong)MaxHeapSize); &#125; if (!FLAG_IS_DEFAULT(ErgoHeapSizeLimit) &amp;&amp; ErgoHeapSizeLimit != 0) &#123; // Limit the heap size to ErgoHeapSizeLimit reasonable_max = MIN2(reasonable_max, (julong)ErgoHeapSizeLimit); &#125; if (UseCompressedOops) &#123; // Limit the heap size to the maximum possible when using compressed oops julong max_coop_heap = (julong)max_heap_for_compressed_oops(); if (HeapBaseMinAddress + MaxHeapSize &lt; max_coop_heap) &#123; // Heap should be above HeapBaseMinAddress to get zero based compressed oops // but it should be not less than default MaxHeapSize. max_coop_heap -= HeapBaseMinAddress; &#125; reasonable_max = MIN2(reasonable_max, max_coop_heap); &#125; reasonable_max = limit_by_allocatable_memory(reasonable_max); if (!FLAG_IS_DEFAULT(InitialHeapSize)) &#123; // An initial heap size was specified on the command line, // so be sure that the maximum size is consistent. Done // after call to limit_by_allocatable_memory because that // method might reduce the allocation size. reasonable_max = MAX2(reasonable_max, (julong)InitialHeapSize); &#125; if (PrintGCDetails &amp;&amp; Verbose) &#123; // Cannot use gclog_or_tty yet. tty-&gt;print_cr(" Maximum heap size " SIZE_FORMAT, (size_t) reasonable_max); &#125; FLAG_SET_ERGO(uintx, MaxHeapSize, (uintx)reasonable_max); &#125; // If the minimum or initial heap_size have not been set or requested to be set // ergonomically, set them accordingly. if (InitialHeapSize == 0 || min_heap_size() == 0) &#123; julong reasonable_minimum = (julong)(OldSize + NewSize); reasonable_minimum = MIN2(reasonable_minimum, (julong)MaxHeapSize); reasonable_minimum = limit_by_allocatable_memory(reasonable_minimum); if (InitialHeapSize == 0) &#123; julong reasonable_initial = phys_mem / InitialRAMFraction; reasonable_initial = MAX3(reasonable_initial, reasonable_minimum, (julong)min_heap_size()); reasonable_initial = MIN2(reasonable_initial, (julong)MaxHeapSize); reasonable_initial = limit_by_allocatable_memory(reasonable_initial); if (PrintGCDetails &amp;&amp; Verbose) &#123; // Cannot use gclog_or_tty yet. tty-&gt;print_cr(" Initial heap size " SIZE_FORMAT, (uintx)reasonable_initial); &#125; FLAG_SET_ERGO(uintx, InitialHeapSize, (uintx)reasonable_initial); &#125; // If the minimum heap size has not been set (via -Xms), // synchronize with InitialHeapSize to avoid errors with the default value. if (min_heap_size() == 0) &#123; set_min_heap_size(MIN2((uintx)reasonable_minimum, InitialHeapSize)); if (PrintGCDetails &amp;&amp; Verbose) &#123; // Cannot use gclog_or_tty yet. tty-&gt;print_cr(" Minimum heap size " SIZE_FORMAT, min_heap_size()); &#125; &#125; &#125;&#125;]]></content>
      <tags>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring-securityçš„è¿‡æ»¤å™¨é“¾]]></title>
    <url>%2F4c9ae68d.html</url>
    <content type="text"><![CDATA[å‰è¨€æ¯æ¬¡åœ¨é¡¹ç›®ä¸­ä½¿ç”¨spring-securityéƒ½æƒ³è°ƒè¯•å…¶å†…éƒ¨é€»è¾‘ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹è°ƒè¯•çš„å…¥å£ç‚¹ï¼Œä»¥é˜²å¿˜è®°ã€‚ æ­£æ–‡è°ƒè¯•çš„å…¥å£åœ¨org.springframework.security.web.DefaultSecurityFilterChain#DefaultSecurityFilterChain(org.springframework.security.web.util.matcher.RequestMatcher, java.util.List&lt;javax.servlet.Filter&gt;) 12345public DefaultSecurityFilterChain(RequestMatcher requestMatcher, List&lt;Filter&gt; filters) &#123; logger.info("Creating filter chain: " + requestMatcher + ", " + filters); this.requestMatcher = requestMatcher; this.filters = new ArrayList&lt;&gt;(filters); // åœ¨è¿™é‡ŒåŠ æ–­ç‚¹å°±èƒ½çœ‹åˆ°æ•´ä¸ªè¿‡æ»¤å™¨é“¾äº†&#125; å¦å¤–è®°ä½ä¸€ç‚¹ï¼šå½“spring-mvcä¸­é…æœ‰CORSï¼Œå¹¶ä¸”åœ¨spring-securityé…ç½®ä¸­æ²¡æœ‰å°†CorsConfigurationSourceæ˜Žç¡®é…ç½®åˆ°corsFilterè¿™ä¸ªBeanä¸Šæ—¶ï¼Œspring-securityä¼šâ€œå€Ÿç”¨â€spring-mvcä¸­çš„CORSé…ç½®ï¼Œåˆ‡å‹¿é…ç½®å¤šä½™çš„CORSï¼Œå…³äºŽè¿™ä¸ªè¡Œä¸ºå¯ä»Žè°ƒè¯•org.springframework.web.filter.CorsFilterå¾—çŸ¥ï¼ˆå¦å¤–å®˜æ–¹æ–‡æ¡£ä¸Šä¹Ÿæ˜Žç¡®å†™äº†è¿™ä¸ªè¡Œä¸ºäº†ï¼‰ 1234567891011121314151617181920... // https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#cors private CorsConfigurationSource corsConfigurationSource() &#123; CorsConfiguration corsConfiguration = new CorsConfiguration(); corsConfiguration.setAllowedOrigins(Arrays.asList(webConfigurationProperties.getCors().getAllowedOrigins())); corsConfiguration.setAllowedMethods(Arrays.asList(webConfigurationProperties.getCors().getAllowedMethods())); corsConfiguration.setAllowedHeaders(Arrays.asList(webConfigurationProperties.getCors().getAllowedHeaders())); corsConfiguration.setExposedHeaders(Arrays.asList(webConfigurationProperties.getCors().getExposedHeaders())); corsConfiguration.setAllowCredentials(webConfigurationProperties.getCors().getAllowCredentials()); corsConfiguration.setMaxAge(webConfigurationProperties.getCors().getMaxAge()); UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource(); urlBasedCorsConfigurationSource.registerCorsConfiguration(webConfigurationProperties.getCors().getMapping(), corsConfiguration); return urlBasedCorsConfigurationSource; &#125; @Bean public CorsFilter corsFilter() &#123; return new CorsFilter(corsConfigurationSource()); &#125;...]]></content>
      <tags>
        <tag>spring-security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»™spring-securityæäº†ä¸€ä¸ªissue]]></title>
    <url>%2F61edb88e.html</url>
    <content type="text"><![CDATA[å‰è¨€ä»Šå¤©åœ¨ç”¨spring-securityçš„è§’è‰²ç»§æ‰¿æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªå‘ï¼Œé€šè¿‡è°ƒè¯•æºç è§£å†³äº†ï¼Œç„¶åŽå‘çŽ°è¿™åº”è¯¥æ˜¯spring-securityæœ¬èº«çš„ä¸€ä¸ªå°é—®é¢˜ï¼Œç„¶åŽå°±åœ¨Springå®˜æ–¹çš„GitHubä¸Šæäº†ä¸€ä¸ªissue æ­£æ–‡æˆ‘åœ¨ä½¿ç”¨spring-securityçš„è§’è‰²ç»§æ‰¿ï¼Œå…³é”®ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š 1234...// å®šä¹‰è§’è‰²ç»§æ‰¿ï¼Œä¸¤ä¸ªè§’è‰²ç»§æ‰¿ä¹‹é—´ç”¨ç©ºæ ¼æˆ–andè¿žæŽ¥roleHierarchyImpl.setHierarchy(&quot;ROLE_DEVELOPER &gt; ROLE_SUPERVISOR and ROLE_SUPERVISOR &gt; ROLE_ADMIN and ROLE_ADMIN &gt; ROLE_USER and ROLE_USER &gt; ROLE_ANONYMOUS&quot;);... 1234...// å®šä¹‰éœ€è¦çš„æƒé™è¡¨è¾¾å¼.access(&quot;hasRole(&apos;USER&apos;)&quot;)... ä¸Šè¾¹å…³äºŽè§’è‰²ç»§æ‰¿çš„å®šä¹‰æ–¹å¼ï¼Œæ˜¯æˆ‘åœ¨ä½¿ç”¨ä¹‹å‰ç‰ˆæœ¬çš„spring-securityèŽ·å¾—ç»éªŒï¼ŒåŒæ—¶ï¼Œé€šè¿‡spring-securityæºç çš„æ³¨é‡Šä¹Ÿå¯çœ‹åˆ°ç›¸å…³è¯´æ˜Ž 12345678910111213141516171819202122232425/** * The simple interface of a role hierarchy. * * @author Michael Mayr */public interface RoleHierarchy &#123; /** * Returns an array of all reachable authorities. * &lt;p&gt; * Reachable authorities are the directly assigned authorities plus all authorities * that are (transitively) reachable from them in the role hierarchy. * &lt;p&gt; * Example:&lt;br&gt; * Role hierarchy: ROLE_A &amp;gt; ROLE_B and ROLE_B &amp;gt; ROLE_C.&lt;br&gt; * Directly assigned authority: ROLE_A.&lt;br&gt; * Reachable authorities: ROLE_A, ROLE_B, ROLE_C. * * @param authorities - List of the directly assigned authorities. * @return List of all reachable authorities given the assigned authorities. */ public Collection&lt;? extends GrantedAuthority&gt; getReachableGrantedAuthorities( Collection&lt;? extends GrantedAuthority&gt; authorities);&#125; ä½†æ˜¯ï¼Œå½“æˆ‘å®žé™…è·‘èµ·æ¥åŽï¼Œå‘çŽ°æ ¹æœ¬ä¸è¡Œï¼Œè§’è‰²ç»§æ‰¿æ²¡ç”Ÿæ•ˆã€‚æˆ‘å°±å¾ˆçº³é—·äº†ï¼ŒåŽŸæ¥ç”¨è¿‡spring-securityå•Šï¼Œå°±æ˜¯è¿™æ ·å°±å¯ä»¥å•Šã€‚ç„¶åŽè¯•äº†æ”¹äº†æ”¹æƒé™è¡¨è¾¾å¼ï¼Œç»“æžœè¿˜æ˜¯ä¸è¡Œï¼Œç„¶åŽæˆ‘æƒ³äº†æƒ³ï¼Œè°ƒè¯•æºç å§ï¼Œè°ƒè¯•æºç ä¸€èˆ¬éƒ½æ˜¯å¿…æ€æŠ€ã€‚åœ¨è°ƒè¯•æºç çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€æ¸å‘çŽ°äº†é—®é¢˜æ‰€åœ¨ã€‚ æˆ‘å…ˆç»™å‡ºè§’è‰²è¡¨è¾¾å¼è§£æžä»¥åŠè§’è‰²ç»§æ‰¿è§£æžçš„ç›¸å…³ä»£ç è·¯å¾„ï¼Œå¤§å®¶å¯æŒ‰è¿™ä¸ªè·¯å¾„è·Ÿè¸ªã€‚è§’è‰²è¡¨è¾¾å¼è§£æžï¼š 12345678910111213141516171819202122232425262728293031323334// ç”±ä¸Šåˆ°ä¸‹ä¸ºæ‰§è¡Œè·¯å¾„ï¼Œæœ€ä¸Šç«¯æ˜¯å…¥å£ç‚¹org.springframework.security.web.FilterChainProxy.VirtualFilterChain#doFilterorg.springframework.security.web.access.intercept.FilterSecurityInterceptor#doFilterorg.springframework.security.access.intercept.AbstractSecurityInterceptor#beforeInvocationorg.springframework.security.web.access.intercept.FilterSecurityInterceptor#invokeorg.springframework.security.access.AccessDecisionManager#decideorg.springframework.security.access.vote.AffirmativeBased#decideorg.springframework.security.web.access.expression.WebExpressionVoter#voteorg.springframework.security.access.expression.ExpressionUtils#evaluateAsBooleanorg.springframework.expression.spel.standard.SpelExpression#getValue(org.springframework.expression.EvaluationContext, java.lang.Class&lt;T&gt;)org.springframework.expression.spel.ast.SpelNodeImpl#getTypedValueorg.springframework.expression.spel.ast.MethodReference#getValueInternal(org.springframework.expression.spel.ExpressionState)org.springframework.expression.spel.ast.MethodReference#getCachedExecutororg.springframework.expression.spel.support.ReflectiveMethodExecutor#executejava.lang.reflect.Method#invokeorg.springframework.security.access.expression.SecurityExpressionRoot#hasRoleorg.springframework.security.access.expression.SecurityExpressionRoot#hasAnyRoleorg.springframework.security.access.expression.SecurityExpressionRoot#hasAnyAuthorityName æ³¨æ„ä¸Šè¾¹æ‰§è¡Œè·¯å¾„ä¸­çš„ java.lang.reflect.Method#invoke å®žé™…ä¸Šï¼Œæƒé™æŽ§åˆ¶è¡¨è¾¾å¼å†…éƒ¨çš„åŽŸç†æ˜¯æ˜¯ç”¨åå°„åŽ»æ‰§è¡Œå¯¹åº”çš„ç”¨äºŽåˆ¤æ–­æ˜¯å¦æœ‰æƒé™æ–¹æ³•çš„ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ org.springframework.security.access.expression.SecurityExpressionRoot#hasRole æ‰§è¡Œåˆ°ä¸‹å›¾ä¸­è¿™é‡ŒåŽï¼Œè¿”å›žçš„æ˜¯falseä¹Ÿå°±æ˜¯æŽˆæƒæœªé€šè¿‡ï¼Œæ²¡æœ‰å¯¹åº”è§’è‰²ï¼Œå½“å‰æ‹¥æœ‰çš„è§’è‰²æ˜¯ä»Žorg.springframework.security.access.hierarchicalroles.RoleHierarchy#getReachableGrantedAuthoritiesèŽ·å¾—çš„ï¼Œé‡Œé¢å¹¶æ²¡æœ‰éœ€è¦çš„è§’è‰²â€ROLEâ€ï¼Œå› æ­¤è‡ªç„¶å°±æ˜¯false é‚£ä¹ˆä¸ºä»€ä¹ˆæ²¡æœ‰å‘¢ï¼ŒæŒ‰ç…§è§’è‰²ç»§æ‰¿çš„å®šä¹‰ï¼Œåº”è¯¥èƒ½å¤Ÿæœ‰æ‰å¯¹å•Šï¼Œè¿™æ˜¯æˆ‘ä»¬å°±éœ€è¦çœ‹è§’è‰²ç»§æ‰¿è¡¨è¾¾å¼ç”Ÿæˆå…·ä½“è§’è‰²çš„é€»è¾‘äº†ï¼Œè¿™ä¸ªé€»è¾‘çš„ä»£ç è·¯å¾„æ˜¯è¿™ä¸ªï¼š 12345org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl#setHierarchyorg.springframework.security.access.hierarchicalroles.RoleHierarchyImpl#buildRolesReachableInOneStepMaporg.springframework.security.access.hierarchicalroles.RoleHierarchyImpl#buildRolesReachableInOneOrMoreStepsMap é€šè¿‡è·Ÿè¸ªè¿™äº›ä»£ç ï¼Œæˆ‘ä»¬ä»Žä¸­å¯ä»¥çœ‹å‡ºï¼Œå®žé™…ä¸Šï¼Œæ­£ç¡®çš„è§’è‰²ç»§æ‰¿è¡¨è¾¾å¼åº”è¯¥è¿™æ ·å®šä¹‰ï¼š 123...roleHierarchyImpl.setHierarchy(&quot;ROLE_DEVELOPER &gt; ROLE_SUPERVISOR &gt; ROLE_ADMIN &gt; ROLE_USER &gt; ROLE_ANONYMOUS&quot;);... å®žé™…ä¸Šå®šä¹‰è§’è‰²ç»§æ‰¿è¡¨è¾¾å¼çš„è§„åˆ™å·²ç»å˜äº†ï¼Œç„¶è€Œï¼Œåœ¨spring-securityä»£ç åº“ä¸­çš„RoleHierarchyè¿™ä¸ªç±»çš„æ³¨é‡Šï¼Œè¿˜ä¿ç•™ç€æ—§ç‰ˆçš„è§’è‰²ç»§æ‰¿è¡¨è¾¾å¼çš„å®šä¹‰æ–¹å¼çš„è¯´æ˜Žï¼Œè¿™åº”å½“æ˜¯ä»£ç æ›´æ–°äº†ä½†æ˜¯æ³¨é‡Šæœªæ›´æ–°ï¼Œæˆ‘æŒ‰ç…§ä»¥å¾€çš„ç»éªŒä»¥åŠæ³¨é‡Šçš„è¯´æ˜ŽåŽ»å†™ï¼Œç»“æžœæŽ‰å‘é‡Œäº†ã€‚ æ€»ç»“é€šè¿‡è¿™æ¬¡é—®é¢˜çš„æŽ’æŸ¥ï¼Œå¯ä»¥è¯´æ˜Žï¼šå¿…è¦çš„æ³¨é‡Šå¯ä»¥æœ‰ï¼Œä½†æ˜¯ä¸è¦è¿‡åˆ†ä¾èµ–äºŽæ³¨é‡Šï¼Œè¦ç›¸ä¿¡ä»£ç æœ¬èº«ï¼Œæ­¤å¤–åœ¨è¿™æ¬¡è°ƒè¯•æºç çš„è¿‡ç¨‹ä¸­æˆ‘è¿˜å‘çŽ°äº†ä¸€ä¸ªè°ƒè¯•æºç çš„æŠ€å·§ï¼šåˆ©ç”¨Drop Frameï¼Œå¯ä»¥å€’æŽ¨ä»£ç çš„æ‰§è¡Œè·¯å¾„ã€‚ 20190613æ›´æ–°åŽæ¥æˆ‘å‘çŽ°ï¼Œåœ¨4.2.xçš„spring-securityä¸­ï¼Œè§’è‰²ç»§æ‰¿è¡¨è¾¾å¼ä¸ä»…ä»…å¯ä»¥ç”¨â€andâ€è¿žæŽ¥ç¬¦ï¼Œå®ƒç”¨ä»»ä½•ä¸€ç§è¿žæŽ¥ç¬¦éƒ½å¯ä»¥ã€‚ä»¥ä¸‹ä¸ºæˆ‘åœ¨issue pageä¸Šä¸Ž@rwinchçš„å¯¹è¯ï¼š Thanks for the clarification. RoleHiearchy isnâ€™t implementation specific. Instead it is trying to convey information rather than the configuration. That said, I can see how it might lead to confusion. Can you think of a way that makes the Javadoc in RoleHiearchy read better? If you do have a better wording, would you be willing to open a PR to change the RoleHiearchy Javadoc? Or, to put it another way, perhaps the current version of â€œRoleHierarchyImplâ€ is not compatible with the definition rules of the old version of the â€œrole inheritanceâ€ expression. Can you clarify why you believe RoleHierarchyImpl worked differently and when it did? The code has gone largely untouched for over 10 years. I reviewed my previous code these two days and learned that I used the version 4.2.2 before.Then, I looked at the source code for 4.2.2 and found out why the â€œandâ€ connector can be used in the â€œrole inheritanceâ€ expression in this version. In fact, in this version, the connector can be any string. Letâ€™s look at the code for details: 123456789101112131415161718192021222324252627282930313233/** * Parse input and build the map for the roles reachable in one step: the higher role * will become a key that references a set of the reachable lower roles. */private void buildRolesReachableInOneStepMap() &#123; Pattern pattern = Pattern.compile("(\\s*([^\\s&gt;]+)\\s*&gt;\\s*([^\\s&gt;]+))"); Matcher roleHierarchyMatcher = pattern .matcher(this.roleHierarchyStringRepresentation); this.rolesReachableInOneStepMap = new HashMap&lt;GrantedAuthority, Set&lt;GrantedAuthority&gt;&gt;(); while (roleHierarchyMatcher.find()) &#123; GrantedAuthority higherRole = new SimpleGrantedAuthority( roleHierarchyMatcher.group(2)); GrantedAuthority lowerRole = new SimpleGrantedAuthority( roleHierarchyMatcher.group(3)); Set&lt;GrantedAuthority&gt; rolesReachableInOneStepSet; if (!this.rolesReachableInOneStepMap.containsKey(higherRole)) &#123; rolesReachableInOneStepSet = new HashSet&lt;GrantedAuthority&gt;(); this.rolesReachableInOneStepMap.put(higherRole, rolesReachableInOneStepSet); &#125; else &#123; rolesReachableInOneStepSet = this.rolesReachableInOneStepMap .get(higherRole); &#125; addReachableRoles(rolesReachableInOneStepSet, lowerRole); logger.debug("buildRolesReachableInOneStepMap() - From role " + higherRole + " one can reach role " + lowerRole + " in one step."); &#125;&#125; In this code, a regular expression grouping match is used to find a group that matches the rule. In fact, the string to be matched can contain any kind of connector. Any kind of connector will not affect the result of the expression â€œroleHierarchyMatcher.find()â€ equal to true. 1234567891011121314151617181920212223@Testpublic void testRegexForRoleHierarchyString() &#123; Pattern pattern = Pattern.compile("(\\s*([^\\s&gt;]+)\\s*&gt;\\s*([^\\s&gt;]+))"); String roleHierarchyStringSplitByAnd = "ROLE_HIGHEST &gt; ROLE_HIGHER and ROLE_HIGHER &gt; ROLE_LOW and ROLE_LOW &gt; ROLE_LOWER"; String roleHierarchyStringSplitByOr = "ROLE_HIGHEST &gt; ROLE_HIGHER or ROLE_HIGHER &gt; ROLE_LOW or ROLE_LOW &gt; ROLE_LOWER"; String roleHierarchyStringSplitBySpace = "ROLE_HIGHEST &gt; ROLE_HIGHER ROLE_HIGHER &gt; ROLE_LOW ROLE_LOW &gt; ROLE_LOWER"; String roleHierarchyStringSplitByWhatever = "ROLE_HIGHEST &gt; ROLE_HIGHER xxx ROLE_HIGHER &gt; ROLE_LOW xxx ROLE_LOW &gt; ROLE_LOWER"; List&lt;String&gt; roleHierarchyStrings = new LinkedList&lt;String&gt;(); roleHierarchyStrings.add(roleHierarchyStringSplitByAnd); roleHierarchyStrings.add(roleHierarchyStringSplitByOr); roleHierarchyStrings.add(roleHierarchyStringSplitBySpace); roleHierarchyStrings.add(roleHierarchyStringSplitByWhatever); for (String roleHierarchyString : roleHierarchyStrings) &#123; Matcher roleHierarchyMatcher = pattern.matcher(roleHierarchyString); if (!roleHierarchyMatcher.find()) &#123; throw new RuntimeException("I'm dead. Xï¹X"); &#125; &#125; System.out.println("All pass");&#125; 123All passProcess finished with exit code 0 That is to say, in the version 4.2.2 or the adjacent version, the â€œRoleHierarchyâ€ comment is neither an error nor a correct one, XD. 12345678910111213141516171819202122232425/** * The simple interface of a role hierarchy. * * @author Michael Mayr */public interface RoleHierarchy &#123; /** * Returns an array of all reachable authorities. * &lt;p&gt; * Reachable authorities are the directly assigned authorities plus all authorities * that are (transitively) reachable from them in the role hierarchy. * &lt;p&gt; * Example:&lt;br&gt; * Role hierarchy: ROLE_A &amp;gt; ROLE_B and ROLE_B &amp;gt; ROLE_C.&lt;br&gt; * Directly assigned authority: ROLE_A.&lt;br&gt; * Reachable authorities: ROLE_A, ROLE_B, ROLE_C. * * @param authorities - List of the directly assigned authorities. * @return List of all reachable authorities given the assigned authorities. */ public Collection&lt;? extends GrantedAuthority&gt; getReachableGrantedAuthorities( Collection&lt;? extends GrantedAuthority&gt; authorities);&#125;]]></content>
      <tags>
        <tag>spring-security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WindowsçŽ¯å¢ƒä¸‹å¼€å¯log4j2å½©è‰²æ—¥å¿—è¾“å‡º]]></title>
    <url>%2Fae32ecc0.html</url>
    <content type="text"><![CDATA[æ­£æ–‡åˆšåˆšæ¢åˆ°äº†WindowsçŽ¯å¢ƒå¼€å‘ï¼Œå‘çŽ°åŽŸæ¥macOSä¸‹é…çš„å½©è‰²æ—¥å¿—å¤±æ•ˆäº†ï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œéœ€è¦åŠ å‚æ•°ï¼š-Dlog4j.skipJansi=falseï¼ŒåŠ ä¸ŠåŽå°±å¥½äº†ã€‚]]></content>
      <tags>
        <tag>log4j2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ThreadLocalçš„hashç®—æ³•ï¼ˆå…³äºŽ 0x61c88647ï¼‰]]></title>
    <url>%2F242f9cf5.html</url>
    <content type="text"><![CDATA[å‰è¨€æ­¤æ–‡åŽŸæ˜¯ã€Œç ”ä¹ å°ç»„ã€ä¸­çš„ä¸€ç¯‡ä¸»é¢˜ï¼Œå½“æ—¶æˆ‘åœ¨è¿™ä¸ªä¸»é¢˜ä¸ŠèŠ±äº†ä¸€ç•ªç²¾åŠ›ï¼Œæœ‰ä¸€äº›æ”¶èŽ·ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œå¤‡å¿˜ã€‚ æ­£æ–‡è¿™æ®µæ—¶é—´æˆ‘çœ‹äº†é™ˆåŒå­¦çš„ä¸€ç¯‡æ–‡ç« ï¼Œé‡Œé¢æåˆ°äº† ThreadLocal ï¼Œå®ƒçš„æºç æˆ‘ä»¥å‰æ²¡çœ‹è¿‡ï¼Œæ‰€ä»¥å°±å€Ÿç€è¿™ä¸ªæœºä¼šçœ‹äº†ä¸€ä¸‹ï¼Œæˆ‘å‘çŽ°äº†åœ¨ ThreadLocal é‡Œçš„ ThreadLocalMap å½“ä¸­ï¼Œä½¿ç”¨äº†ä¸€ç§è¢«ç§°ä¹‹ä¸º æ–æ³¢é‚£å¥‘æ•£åˆ— (å­˜ç–‘)çš„å“ˆå¸Œå‡½æ•°ï¼Œä»–çš„å¤§è‡´è¿‡ç¨‹æ˜¯ï¼š æ¯æ¬¡ç”¨ 0x61c88647 è¿™ä¸ªæ•°ç´¯åŠ ã€‚ï¼ˆè¿™é‡Œå¯¹åº”å“ˆå¸Œå‡½æ•°çš„ä¸€èˆ¬æ“ä½œæ­¥éª¤çš„ç¬¬ä¸€æ­¥ ï¼‰ 123// è¿™ä¸ªæ•°å¯ä»¥è¿™æ ·è®¡ç®—å‡ºæ¥ ~(2^32 / 1.618) + 0b1 (è¿™é‡Œ ^ ä»£è¡¨æ±‚å¹‚æ“ä½œ)BigDecimal goldenRatioResult = BigDecimal.valueOf(Math.pow(2, 32)).divide(new BigDecimal("1.618"), 0, ROUND_HALF_UP);int hashIncrenment = ~goldenRatioResult.intValue() + 0b1; // ç­‰æ•ˆäºŽ Math.abs() ç»“æžœæ˜¯ 1640531527 ä¹Ÿå°±æ˜¯åå…­è¿›åˆ¶çš„ 0x61c88647 å¾—åˆ°çš„ç»“æžœæŒ‰ä½å’Œ ThreadLocalMap çš„å®¹é‡-1 åš &amp; æ“ä½œã€‚ï¼ˆè¿™é‡Œå®žé™…ä¸Šå¯¹åº”äº†å“ˆå¸Œå‡½æ•°çš„ä¸€èˆ¬æ“ä½œæ­¥éª¤çš„ç¬¬äºŒæ­¥ï¼Œä¹Ÿå°±æ˜¯å°†ç¬¬ä¸€æ­¥è®¡ç®—çš„å€¼å’Œå“ˆå¸Œè¡¨çš„å®¹é‡åšå–æ¨¡æ“ä½œã€‚å¦å¤–ï¼Œè¿™é‡ŒThreadLocalMap çš„å®¹é‡å¿…é¡»ä¸º2çš„å¹‚ï¼Œä¹‹æ‰€ä»¥æœ‰è¿™æ ·çš„è§„å®šï¼Œæ˜¯å› ä¸ºï¼Œå½“æ±‚è§£ x % y æ—¶ï¼Œå¦‚æžœy = 2^n é‚£ä¹ˆå–æ¨¡æ“ä½œå¯ä»¥è½¬æ¢ä¸ºæŒ‰ä½ä¸Žæ“ä½œ x &amp; (y - 1)ï¼Œæ•ˆçŽ‡ä¼šæ¯”å–æ¨¡æ“ä½œé«˜ï¼Œå–æ¨¡æ“ä½œå¯ä»¥çœ‹ä½œæ˜¯é™¤æ“ä½œï¼Œè€Œé™¤æ“ä½œæ˜¯æ€§èƒ½æ¯”è¾ƒä½Žçš„ï¼‰ 12345678910111213/** * The difference between successively generated hash codes - turns * implicit sequential thread-local IDs into near-optimally spread * multiplicative hash values for power-of-two-sized tables. */private static final int HASH_INCREMENT = 0x61c88647;/** * Returns the next hash code. */private static int nextHashCode() &#123; return nextHashCode.getAndAdd(HASH_INCREMENT);&#125; å…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯1.618è¿™ä¸ªæ•°åˆå« é»„é‡‘åˆ†å‰² (é»„é‡‘åˆ†å‰²ä¹Ÿå¯ä»¥æ˜¯0.618ï¼Œ0.618å’Œ1.618äº’ä¸ºå€’æ•°ï¼Œä¹Ÿå°±æ˜¯1/1.618 = 0.618)ï¼Œè€Œè¿™ä¸ªé»„é‡‘åˆ†å‰²åˆæ˜¯å¯ä»¥ç”±æ–æ³¢é‚£å¥‘æ•°åˆ—æŽ¨å¯¼å‡ºæ¥çš„ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647Fibonacci numbers: F(n) = F(n-1) + F(n-2) with F(0) = 0 and F(1) = 1. n a(n)0 01 12 13 24 35 56 87 138 219 3410 5511 8912 14413 23314 37715 61016 98717 159718 258419 418120 676521 1094622 1771123 2865724 4636825 7502526 12139327 19641828 31781129 51422930 83204031 134626932 217830933 352457834 570288735 922746536 1493035237 2415781738 3908816939 6324598640 102334155102334155 / 63245986 = 1.61803ä»Žä¸Šè¾¹è§‚å¯Ÿï¼Œå¯¹äºŽè€ƒåŽçš„ n ï¼Œa(n+1) / a(n) çº¦ç­‰äºŽ 1.618 ã€ŒGolden ratioã€ã€ŒFibonacci numberã€ é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼š ä¸ºä»€ä¹ˆä¸€å®šè¦ç”¨é»„é‡‘åˆ†å‰²æ¥ç´¯åŠ ï¼Ÿæˆ‘çœ‹åˆ°æœ‰ä¸ªè§†é¢‘è¯´ç”¨é»„é‡‘åˆ†å‰²å¯ä»¥è®©hashå€¼åˆ†æ•£(å­˜ç–‘)ï¼Œä½†æ˜¯æˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œç”¨åˆ«çš„ä¸€ä¸ªä»€ä¹ˆæ•°ï¼Œä¸ç…§æ ·å¯ä»¥è®© hash åˆ†å¼€å—ï¼Ÿ å¦å¤– ThreadLocalMap çš„ hash æœ€åŽè¿˜éœ€è¦ç”¨æŒ‰ä½ä¸Žçš„æ–¹å¼ç”¨æŽ©ç æ¶ˆé™¤é«˜ä½ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆæ¶ˆé™¤é«˜ä½åŽä»èƒ½ä¿æŒå¾—åˆ°hashå€¼çš„åˆ†æ•£å‘¢ã€‚(å­˜ç–‘ï¼Œæœ‰å¯èƒ½åŽ‹æ ¹ä¸æ˜¯ä»ç„¶ä¿æŒåˆ†æ•£) æ¦‚å¿µä¸Žç†è®ºå“ˆå¸Œå‡½æ•°çš„ä¸€èˆ¬åˆ†ç±» Division Based Hash Functions h(x) = x % MBit-Shifting Hash Functions Using the Middle Square MethodMultiplicative Hash Functions æ–æ³¢é‚£å¥‘å“ˆå¸Œå±žäºŽMultiplicative Hash Functionsä¸­çš„ä¸€ç§å®žçŽ° In the multiplicative method, the multiplier A must be carefully chosen to scatter the numbers in âˆ’1 the table. A very good choice for the constant A is Ï† W , where Ï†, known as the golden ratio , is the positive root of the polynomialx 2 âˆ’ x âˆ’ 1This is because x is a solution to the polynomial if and only ifx 2 âˆ’ x âˆ’ 1=0 iff x 2 âˆ’ x =1iff x âˆ’ 11 = xIn other words, a solution x has the property that its inverse is x âˆ’ 1. The solution, Ï†, is called the golden ratio because it arises in nature in an astonishing number of places and because the ancient Greeks used this ratio in the design of many of their buildings, considering it a divine âˆ’1 2 proportion . Thus, Ï† and Ï† = Ï† âˆ’ 1 are both roots of x x1. Ï† is also the value to which th âˆ’1 f n /f nâˆ’1 converges as n â†’ âˆž, where f n is the n Fibonacci number. Since Ï† = Ï† âˆ’ 1, it is approximately 0.6180339887498948482045868343656. (Well approximately depends on your notionof approximation, doesnâ€™t it?)âˆ’1 When we let A = Ï† Was the multiplicative constant, the multiplicative method is called Fibonacci hashing . The constant has many remarkable and astonishing mathematical properties, but the property that makes it a good factor in the above hash function is the following fact.âˆ’1 âˆ’1 âˆ’1 First observe that the sequence of values Ï† , 2Ï† , 3Ï† , â€¦ lies entirely in the interval (0, 1). Remember that the curly braces mean, the fractional part of, so for example, 2Ï† âˆ’1 â‰ˆ âˆ’1 âˆ’1 1.236067977 andâ‰ˆ 0.236067977.2Ï†The rst value, two segments whose lengths are in the golden ratio. å“ˆå¸Œå‡½æ•°çš„ä¸€èˆ¬æ­¥éª¤ Main article: Hash functionThe idea of hashing is to distribute the entries (key/value pairs) across an array of buckets_index that suggests where the entry can be found:index = f(key, array_size)&gt; Often this is done in two steps:hash = hashfunc(key)index = hash % array_size&gt; In this method, the hash_reduced to an index (a number between 0 and array_size âˆ’ 1) using the modulo operator (%).In the case that the array size is a power of two, the remainder operation is reduced to masking, which improves speed, but can increase problems with a poor hash function.[5] ã€ŒHash tableã€ Modulo operations might be implemented such that a division with a remainder is calculated each time. For special cases, on some hardware, faster alternatives exist. For example, the modulo of powers of 2 can alternatively be expressed as a bitwise AND operation:x % 2 == x &amp; (2 - 1)Examples (assuming x is a positive integer):x % 2 == x &amp; 1``x % 4 == x &amp; 3``x % 8 == x &amp; 7In devices and software that implement bitwise operations more efficiently than modulo, these alternative forms can result in faster calculations.[11]Optimizing compilers may recognize expressions of the form expression % constant where constant is a power of two and automatically implement them as expression &amp; (constant-1). This can allow writing clearer code without compromising performance. This optimization is not possible for languages in which the result of the modulo operation has the sign of the dividend (including C), unless the dividend is of an unsigned integer type. This is because, if the dividend is negative, the modulo will be negative, whereas expression &amp; (constant-1) will always be positive. ã€ŒModulo operationã€ æ€Žæ ·æ˜¯å¥½çš„å“ˆå¸Œå‡½æ•° Properties of a Good Hash FunctionhashTo means to chop up or make a mess of things, liked hashed potatoes. A hash function is supposed to chop up its argument and reconstruct a value out of the chopped up little pieces. Good hash functionsâ€¢ make the original value intractably hard to reconstruct from the computed hash value,â€¢ are easy to compute (for speed), andâ€¢ randomly disperse keys evenly throughout the table, making sure that no two keys map to the same index. Choosing a hash functionA good hash function and implementation algorithm are essential for good hash table performance, but may be difficult to achieve.citation needed[6]A basic requirement is that the function should provide a uniform distribution of hash values. A non-uniform distribution increases the number of collisions and the cost of resolving them. Uniformity is sometimes difficult to ensure by design, but may be evaluated empirically using statistical tests, e.g., a Pearsonâ€™s chi-squared test for discrete uniform distributions.[7][8]The distribution needs to be uniform only for table sizes that occur in the application. In particular, if one uses dynamic resizing with exact doubling and halving of the table size, then the hash function needs to be uniform only when the size is a power of two. Here the index can be computed as some range of bits of the hash function. On the other hand, some hashing algorithms prefer to have the size be a prime number.[9] The modulus operation may provide some additional mixing; this is especially useful with a poor hash function.For open addressing schemes, the hash function should also avoid clustering, the mapping of two or more keys to consecutive slots. Such clustering may cause the lookup cost to skyrocket, even if the load factor is low and collisions are infrequent. The popular multiplicative hash[3] is claimed to have particularly poor clustering behavior.[9] å¥½çš„å“ˆå¸Œå‡½æ•°åº”è¯¥èƒ½åšåˆ°â€œdiscrete uniform distributionsâ€ï¼Œä¹Ÿå°±æ˜¯â€œç¦»æ•£å‡åŒ€åˆ†å¸ƒâ€ï¼Œè€Œæ–æ³¢é‚£å¥‘å“ˆå¸Œæ˜¯å¯ä»¥åšåˆ°å¾ˆå¥½çš„â€œç¦»æ•£å‡åŒ€åˆ†å¸ƒâ€çš„ï¼Œå–ä¸€ä¸ªåˆ«çš„å€¼ä¸ä¸€å®šèƒ½åšåˆ°ï¼ˆä¹Ÿå¹¶ä¸ä¸€å®šåšä¸åˆ°ï¼‰ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡ä¸€ä¸ªå®žéªŒè§‚å¯Ÿåˆ°ã€‚ä¸‹å›¾ä¸ºæˆ‘å†™çš„ä¸€ä¸ªDEMOï¼Œçº¢è‰²è™šçº¿æ¡†ä¸­æ˜¯æ–æ³¢é‚£å¥‘æ•£åˆ—ï¼Œå…¶ä»–çš„ä¸ºå…¶ä»–æ•°åšçš„å¯¹æ¯”ï¼šï¼ˆåœ¨ 0 - 1 å†…çš„åˆ†å¸ƒï¼‰ ä»¥ä¸‹ä¸º ThreadLocalMap è‡ªèº«çš„ hash å‡½æ•°çš„åˆ†å¸ƒæƒ…å†µï¼šï¼ˆå¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“å€¼ä¸º 1.618 æ—¶ï¼Œæ˜¯â€œç¦»æ•£å‡åŒ€åˆ†å¸ƒâ€çš„ï¼Œå…¶ä»–å€¼ï¼Œä¹Ÿèƒ½åšåˆ°ä¸€å®šçš„ç¦»æ•£å‡åŒ€åˆ†å¸ƒï¼Œä½†æ˜¯æœ‰çš„å€¼å°±åšä¸åˆ°ï¼‰(å­˜ç–‘) Re: Golden Ratio &amp; Hash TablesPosted: Nov 2, 2002 2:58 AM Click to see the message monospaced in plain text Plain Text Click to reply to this topic Replyâ€œAlexei A. Frounzeâ€ alexfru@chat.ru wrote in message news:apop0i$3ib1k$2@ID-57378.news.dfncis.deâ€¦ Can anybody enlighten me why golden ratio is so widely used when doing hashtables? Is it the only possible and effective value? Iâ€™ve not found anythingabout this particular choice in the Sedgewickâ€™s book, just the fact thatitâ€™s used. Any simple explanation?I believe Knuth has explanation, but I donâ€™t have the book handy and donâ€™tknow when Iâ€™ll be able to read it. Can you explain why (sqrt(5)-1)/2, butnot letâ€™s say (sqrt(3)-1)/2? Does this really have anything to do withFibonacci numbers, packing of seeds and thelike?TIA The usual explanation is that it provides the best dispersion ofconsecutive keys in a multiplicative hash table: that was Knuthâ€™sreason for advocating it.For a hash table of size 2^N, an index for each key K can beconstructed by multiplying K * M, where M is a prime number close to2^N * R, R being the inverse golden ratio (sqrt(5)-1)/2. Keep the Nmost significant bits as the hash index. Knuthâ€™s finding was that thedispersion of indexes for a sequence of consecutive keys is maximizedwhen M is chosen this way, thus a multiplicative hash table with adense set of keys will have the fewest possible collisions when Mapprox= 2^N * R.â€“Chris Green ã€ŒTopic: Golden Ratio &amp; Hash Tablesã€ x mod 2^k is not a desirable function because it does not depend on all the bits in the binary representation of x. Similarly, it is often tempting to let M be a power of two. E.g., for some integer k&gt;_1. In this case, the hash function simply extracts the bottom _k bits of the binary representation of x. While this hash function is quite easy to compute, it is not a desirable function because it does not depend on all the bits in the binary representation of x. ã€ŒDivision Methodã€ å“ˆå¸Œè¡¨çš„å†²çªå¤„ç† â€¢ separate chainingâ€¢ open addressing Open AddressingIn open addressing, there are no separate lists attached to the table. All values are in the table itself. When a collision occurs, the cells of the hash table itself are searched until an empty one is found. Which cells are searched depends upon the specic method of open addressing. All variations can be described generically by a sequence of functionsh 0 (x) h 1 (x)h k (x)= = â€¦ =h(x) + f(0, x) % M h(x) + f(1, x) % Mh(x) + f(k, x) % Mthwhere h i (x) is the ilocation tested and f(i, x) is a function that returns some integer value based on the values of i and x. The idea is that the hash function h(x) is rst used to nd a location in the hash table for x. If we are trying to insert x into the table, and the index h(x) is empty, we insert it there. Otherwise we need to search for another place in the table into which we can store x. The function f(i, x), called the collision resolution function , serves that purpose. We search the locationsh(x) + f(0, x) % M h(x) + f(1, x) % M h(x) + f(2, x) % M â€¦ h(x) + f(k, x)% Muntil either an empty cell is found or the search returns to a cell previously visited in the sequence. The function f(i, x) need not depend on both i and x. Soon, we will look at a few dierent collision resolution functions.To search for an item, the same collision resolution function is used. The hash function is applied to nd the rst index. If the key is there, the search stops. Otherwise, the table is searched until either the item is found or an empty cell is reached. If an empty cell is reached, it implies that the item is not in the table. This raises a question about how to delete items. If an item is deleted, then there will be no way to tell whether the search should stop when it reaches an empty cell, or just jump over the hole. The way around this problem is to lazy deletion . In lazy deletion, the cell is marked DELETED. Only when it is needed again is it re-used. Every cell is marked as eitherACTIVE: it has an item in itEMPTY: it has no item in itDELETED: it had an item that was deleted  it can be re-usedThese three constants are supposed to be dened for any hash table implementation in the ANSI standard.There are several dierent methods of collision resolution using open addressing: linear probing , quadratic probing , double hashing , and hopscotch hashing . å‚è€ƒèµ„æ–™ ã€ŒJavaä¸­Integerè¶Šç•Œçš„å¤„ç†ã€â€œ2çš„32æ¬¡æ–¹é™¤ä»¥1.618è¿™ä¸ªæ•°ï¼Œå¾—å‡ºæ¥ä¸€ä¸ªç»“æžœï¼Œæ¯æ¬¡ç”¨è¿™ä¸ªç»“æžœç´¯åŠ â€ï¼Œè¿™ä¸ªç´¯åŠ æ“ä½œå¾ˆå¿«å°±ä¼šé€ æˆæ•´æ•°è¶Šç•Œ ã€Œå…³äºŽâ€™äºŒè¡¥ç â€™(Twoâ€™s Complement)ã€è´Ÿæ•°è½¬æ­£æ•°æˆ–è€…æ­£æ•°è½¬è´Ÿæ•°çš„æ“ä½œéƒ½æ˜¯ç”¨çš„ äºŒè¡¥ç  è¿™ä¸ªæ“ä½œï¼Œè¿™ä¸ªæ“ä½œå†…å®¹å°±æ˜¯ï¼šæŒ‰ä½å–å + äºŒè¿›åˆ¶1 ã€ŒFibonacci Hashingã€ ã€ŒFibonacci Hashing &amp; Fastest Hashtableã€ ã€ŒHashing, Hash Tables and Scatter Tablesã€ ã€ŒFibonacci Hashing: The Optimization that the World Forgot (or: a Better Alternative to Integer Modulo)ã€è¿™ç¯‡æ˜¯æœ€æŽ¨èçš„ï¼ŒåŒæ—¶è¿˜æœ‰å…³äºŽè¿™ç¯‡çš„è¯„è®º ã€ŒHacker Newsã€ ã€ŒFibonacci Hashingã€ ã€Œä¸ºä»€ä¹ˆä½¿ç”¨0x61c88647ã€ ã€ŒWhy 0x61c88647?ã€ ã€Œæµ…è°ˆç®—æ³•å’Œæ•°æ®ç»“æž„: åä¸€ å“ˆå¸Œè¡¨ã€]]></content>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ³¨æ„è‡ªåŠ¨æ‹†ç®±å¯èƒ½å¼•èµ·ç©ºæŒ‡é’ˆ]]></title>
    <url>%2Fc821db80.html</url>
    <content type="text"><![CDATA[æ­£æ–‡ä»Šå¤©å¸®åŒäº‹çœ‹äº†ä¸€ä¸ªé—®é¢˜ï¼Œé—®é¢˜å¤§è‡´å¯ä»¥æŠ½è±¡æˆæ˜¯è¿™æ ·ï¼š 123456... Long nullLong = null; if (0 == nullLong) &#123; // do something &#125;... è¿™ä¸ªä¼šçˆ†å‡ºç©ºæŒ‡é’ˆ 1Exception in thread "main" java.lang.NullPointerException Why? æ³¨æ„ä»£ç çš„ç¬¬äºŒè¡Œif (0 == nullLong)ï¼Œè¿™é‡Œå®žé™…ä¸Šä¼šè§¦å‘ä¸€ä¸ªè‡ªåŠ¨æ‹†ç®±çš„æ“ä½œï¼Œè€Œç©ºæŒ‡é’ˆå°±æ˜¯è‡ªåŠ¨æ‹†ç®±è¿‡ç¨‹ä¸­å¼•å‘çš„ã€‚ä¸ºä»€ä¹ˆä¼šå¼•å‘ï¼Ÿæˆ‘ä»¬å¾—æ¥çœ‹è‡ªåŠ¨æ‹†ç®±æ˜¯æ€Žä¹ˆåšçš„ï¼Œå¯ä»¥ç¿»ä¸€ä¸‹.classæ–‡ä»¶ï¼Œå°±æ˜Žäº†äº†ï¼š 123456789...L1 LINENUMBER 7 L1 LCONST_0 ALOAD 1 INVOKEVIRTUAL java/lang/Long.longValue ()J LCMP IFNE L2... é€šè¿‡ä¸Šè¾¹çš„åæ±‡ç¼–çš„å†…å®¹å¯ä»¥çœ‹å‡ºæ¥ï¼Œè‡ªåŠ¨æ‹†ç®±å®žé™…ä¸Šæ˜¯ç¼–è¯‘å™¨éšå¼è°ƒç”¨äº†java/lang/Long.longValueè¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨è¢«è°ƒç”¨æ—¶ï¼Œæœ¬èº«è¢«è°ƒç”¨çš„ç›®æ ‡å¯¹è±¡æ˜¯nullï¼Œå½“ç„¶ä¼šæŠ¥ç©ºæŒ‡é’ˆçš„ã€‚ è¿™ä¸ªç®—æ˜¯ä¸€ä¸ªéšå½¢çš„å°å‘å§ï¼Œå¹³å¸¸æ²¡æ³¨æ„ï¼Œä¹Ÿå°±æ˜¯åŒäº‹æ­£å¥½å‡ºè¿™ä¸ªé—®é¢˜æ‰æ³¨æ„åˆ°ï¼Œè®°å½•ä¸€ä¸‹ï¼Œä»¥åŽå¯ä»¥é¿å…æŽ‰ã€‚]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ideaå†…ç½®çš„æ¯”å¯¹åŠŸèƒ½æ¯”è¾ƒå’Œæ›¿æ¢å·¥ç¨‹æ–‡ä»¶]]></title>
    <url>%2F36c2bce4.html</url>
    <content type="text"><![CDATA[å‰è¨€æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†å·¥ç¨‹é‡Œçš„ä¸€éƒ¨åˆ†æ–‡ä»¶å’Œå¤–éƒ¨çš„æ–‡ä»¶è¿›è¡Œæ¯”å¯¹å’Œæ›¿æ¢ï¼Œè¿™æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘ idea å†…ç½®çš„æ¯”å¯¹åŠŸèƒ½ã€‚è¿™å‡ å¤©ï¼Œåœ¨å·¥ä½œä¸­é‡åˆ°äº†éœ€è¦å°†å·¥ç¨‹é‡Œçš„æ–‡ä»¶å’Œå¤–éƒ¨æ–‡ä»¶è¿›è¡Œæ¯”å¯¹æ›¿æ¢çš„åœºæ™¯ï¼Œæˆ‘å°è¯•ä½¿ç”¨ idea å†…ç½®çš„æ¯”å¯¹å·¥å…·æ¥å®Œæˆï¼Œå‘çŽ°æ•ˆæžœä¸é”™ï¼Œè®°å½•ä¸€ä¸‹ æ­£æ–‡æ¯”å¯¹å·¥å…·çš„å…¥å£æ˜¯åœ¨éœ€è¦æ¯”å¯¹çš„ç›®å½•æˆ–æ–‡ä»¶ä¸Šç‚¹å³é”®ï¼Œç„¶åŽç‚¹å‡» Compare With... ç„¶åŽé€‰æ‹©å¤–éƒ¨ç›®å½•æˆ–æ–‡ä»¶å°±å¯ä»¥äº† æ¯”å¯¹çª—å£ä¸­ä¼šæŒ‰è¡ŒæŽ’åˆ—æ¯”å¯¹é¡¹ï¼Œåœ¨æ¯è¡Œä¸­æœ‰å·¦ç®­å¤´ï¼Œå³ç®­å¤´ï¼Œä¸ç­‰å·ç­‰å‡ ä¸ªå›¾ç¤ºï¼Œåˆ†åˆ«ä»£ä»Žå³è¡¨å¤åˆ¶åˆ°å·¦ã€ä»Žå·¦å¤åˆ¶åˆ°å³å’Œå·®å¼‚åˆå¹¶ï¼ˆç±»ä¼¼äºŽGitçš„Mergeï¼‰ï¼Œç„¶åŽï¼Œæœ€é‡è¦çš„æ˜¯ä¸Šè¾¹çš„åŒæ­¥æŒ‰é’®ï¼ŒSynchronize Selected å°±æ˜¯åŒæ­¥å½“å‰é€‰å®šçš„æ¯”å¯¹è¡Œï¼ŒåŒæ ·è¿˜æœ‰åŒæ­¥æ‰€æœ‰æ¯”å¯¹è¡Œçš„æŒ‰é’®ã€‚ å¦‚æžœæœ‰éœ€è¦å’Œå·¥ç¨‹å¤–æ–‡ä»¶æˆ–ç›®å½•æ¯”å¯¹çš„éœ€æ±‚ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚]]></content>
      <tags>
        <tag>idea</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Google Chromeçš„ä¸€ä¸ªå®žç”¨éšè—åŠŸèƒ½]]></title>
    <url>%2Fc1df7c9e.html</url>
    <content type="text"><![CDATA[å‘çŽ°äº†ä¸€ä¸ª Google Chrome é‡Œçš„å®žç”¨éšè—åŠŸèƒ½ã€‚ å½“å¼€å‘è€…å·¥å…·å¤„äºŽæ‰“å¼€çŠ¶æ€æ—¶ï¼Œåœ¨ Chrome é¡¶éƒ¨å·¥å…·æ çš„åˆ·æ–°é”®ä¸Šé•¿æŒ‰ï¼Œä¼šå‡ºçŽ°ä¸Šä¸‹æ–‡èœå•ï¼Œé‡Œé¢åŒ…å«äº†ç¡¬åˆ·æ–°ç­‰åŠŸèƒ½ï¼Œæ¯”è¾ƒå¥½ç”¨ã€‚]]></content>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Java8ä¸€è¡Œæžå®šç¼“å­˜é€»è¾‘]]></title>
    <url>%2F504abf90.html</url>
    <content type="text"><![CDATA[Show me the code: 12345678910111213...private static final ConcurrentHashMap&lt;String, String&gt; CACHE = new ConcurrentHashMap&lt;&gt;();public void someMethod() &#123; String value = CACHE.get("key") == null ? CACHE.getOrDefault("key", CACHE.putIfAbsent("key", genValue())) : CACHE.get("key");&#125;private String genValue() &#123; ... return value;&#125;...]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2018ï¼Œæˆ‘çš„å¹´ç»ˆæ€»ç»“]]></title>
    <url>%2F9eeaad15.html</url>
    <content type="text"><![CDATA[å‰è¨€æœ¬æ–‡å®žé™…ä¸Šæ˜¯æ˜¨å¤©æˆ‘åœ¨å…¬å¸é‡Œå†™çš„ä¸€ç¯‡å¹´ç»ˆæ€»ç»“ï¼Œæˆ‘æƒ³äº†æƒ³ï¼Œå‘åˆ°åšå®¢é‡Œå§ï¼ŒåŽ»æŽ‰äº†æ•æ„Ÿä¿¡æ¯ï¼Œå¦å¤–åšäº†å…¶ä»–çš„ä¸€äº›é€‚å½“çš„æ”¹åŠ¨ã€‚ æ­£æ–‡æˆ‘è‡ªå·±æ€»ç»“äº†ä¸€ä¸‹ï¼Œä»Žå…¥èŒåˆ°çŽ°åœ¨ï¼Œæˆ‘çš„å·¥ä½œé€æ­¥å½¢æˆäº†å››æ¡è·¯çº¿ï¼šä¸šåŠ¡å¼€å‘ã€æŠ€æœ¯æŽ¢ç´¢ã€å·¥ç¨‹æŽ¢ç´¢ä»¥åŠæ€§èƒ½ä¼˜åŒ–ã€‚æˆ‘å¤§è‡´æ€»ç»“ä¸€ä¸‹å››æ¡çº¿æˆ‘éƒ½åšäº†å“ªäº›äº‹ï¼Œé‡åˆ°äº†å“ªäº›æŒ‘æˆ˜ï¼Œä»¥åŠæœªæ¥çš„è§„åˆ’ã€‚ ä¸šåŠ¡å¼€å‘æ­¤æ®µä¸ºäº†è„±æ•ï¼Œåˆ æŽ‰ã€‚ æŠ€æœ¯æŽ¢ç´¢æŠ€æœ¯ä¸€ç›´æ˜¯æˆ‘å…³æ³¨çš„ç‚¹ï¼Œæ— è®ºæ˜¯åœ¨58è¿˜æ˜¯åœ¨ä¹‹å‰çš„å…¬å¸ã€‚åœ¨å…¥èŒåŽåˆ°çŽ°åœ¨ï¼Œæˆ‘åœ¨æŠ€æœ¯æŽ¢ç´¢æ–¹é¢åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š æˆ‘é€æ¸ç†è§£äº†58é›†å›¢çš„åŸºç¡€æž¶æž„ä¸­é—´ä»¶ SCF å’Œ WFï¼Œé˜…è¯»äº† SCF çš„éƒ¨åˆ†æºç ï¼Œå¹¶å’Œéƒ¨é—¨åŒäº‹åšäº†åˆ†äº«ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼Œç†è§£æ‰‹ä¸­å·¥å…·çš„åŽŸç†ï¼Œæ˜¯æžå…¶é‡è¦çš„ï¼Œä¸ç†è§£ï¼Œåœ¨å‡ºçŽ°é—®é¢˜åŽä¼šæ˜¯ç›²ç›®çš„ï¼Œå› æ­¤æœªæ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘ä»ä¼šç»§ç»­é˜…è¯»åŸºç¡€æž¶æž„ç»„ä»¶çš„æºç ï¼ˆä¸é™äºŽSCFï¼Œåªè¦æ˜¯æ—¥å¸¸ä¼šç”¨åˆ°çš„éƒ½å¯ä»¥ï¼‰ï¼Œå¹¶å°†é˜…è¯»å’Œç†è§£çš„æ‰€å¾—æ€»ç»“æˆæ–‡ç« åˆ†äº«å‡ºæ¥ï¼ŒåŒæ—¶å¸¦åŠ¨åŒäº‹å…±åŒå‚ä¸Žã€‚ åœ¨å®žè·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘çŽ°äº† SCF/WF çš„ä¸€äº›ç—›ç‚¹ï¼Œæƒ³è¦ç¼“è§£è¿™äº›ç—›ç‚¹ï¼Œæˆ‘è®¤ä¸ºï¼Œæ‹¥æŠ±å¼€æºæ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œæˆ‘å°è¯•å°† spring-boot å¼•å…¥è¿›æ¥ï¼Œï¼ˆä¸ä¼šå–ä»£ SCF çš„ï¼Œè€Œä¼šæƒ³åŠžæ³•ç»“åˆï¼‰ï¼Œå¹¶åœ¨å…·ä½“ä¸šåŠ¡ä¸­è¿›è¡Œäº†å®žè·µã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„æŒ‘æˆ˜æ˜¯ï¼Œä½ æ›¿æ¢æŽ‰äº†é›†å›¢çš„æ ‡å‡†å®žçŽ°ï¼Œå°±æ„å‘³ç€æ”¾å¼ƒäº†ä¸€éƒ¨åˆ†é›†å›¢æä¾›çš„åŸºç¡€èƒ½åŠ›ï¼Œæ¯”å¦‚ç›‘æŽ§ã€‚äº‹æƒ…æ€»æ˜¯æœ‰ä»£ä»·çš„ï¼Œæœ‰ä¸€å¾—å°±æœ‰ä¸€å¤±ï¼Œå¾ˆå¤šäº‹è¯´åˆ°åº•æ— éžéƒ½æ˜¯å–èˆã€‚åœ¨æœªæ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘ä¼šå°è¯•ç ”ç©¶æ€Žæ ·ç»§ç»­å…¼å®¹é›†å›¢æä¾›çš„èƒ½åŠ›ï¼Œå¹¶ä¸”å°è¯•å¼•å…¥å¼€æºçš„èƒ½åŠ›ã€‚ ååº”å¼ç¼–ç¨‹æ¨¡åž‹çš„æŽ¢ç´¢ã€‚åœ¨æˆ‘æ‰‹å¤´è´Ÿè´£çš„ä¸šåŠ¡ä¸­ï¼Œæˆ‘æ­£åœ¨å°è¯•ä¸ºå…¶å¼•å…¥æ–°çš„ç¼–ç¨‹æ¨¡åž‹ - ååº”å¼ç¼–ç¨‹æ¨¡åž‹ï¼ˆå…·ä½“æ‰¿è½½è€…ä¸º spring-webfluxï¼‰ã€‚çŽ°åœ¨æˆ‘å·²å°†åŸºæœ¬çš„ä¸šåŠ¡é€»è¾‘æž¶æž„ç”¨æ–°çš„ç¼–ç¨‹æ¨¡åž‹å®žçŽ°å®Œæˆï¼ˆæ‘’å¼ƒäº†æ—§çš„åŸºäºŽæ¨¡ç‰ˆæ–¹æ³•çš„æž¶æž„æ¨¡å¼ï¼Œæ”¹ä¸ºçµæ´»åº¦æ›´é«˜çš„ service-provider æ¨¡å¼ï¼‰ï¼Œå¹¶ä¸”å®Œæˆäº†ä¸€å°éƒ¨åˆ†å…·ä½“ä¸šåŠ¡ã€‚åœ¨å°†æ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘ä¼šé€æ­¥å®Œå–„ï¼Œå¹¶ä¸Šçº¿æµ‹è¯•ï¼Œæœ€ç»ˆå®žçŽ°ç”¨æ–°çš„æž¶æž„å½»åº•å–ä»£æ—§çš„æž¶æž„ã€‚ åœ¨å®žè·µä¸­æˆ‘å‘çŽ°ï¼ŒçŽ°æœ‰ SCF/WF å·¥ç¨‹ä¸­ç¼ºå°‘ IOC ä»¥åŠ AOP è¿™æ ·çš„åŸºæœ¬ç»“æž„ï¼Œå› æ­¤æˆ‘å°è¯•åœ¨å·¥ç¨‹ä¸­æŽ¥å…¥äº† Dagger2 å’Œ AspectJ è¿™ä¸¤ä¸ªæ¡†æž¶ï¼Œæ¥ä¸ºå·¥ç¨‹å¼•å…¥ IOC å’Œ AOP çš„èƒ½åŠ›ï¼Œå¹¶åœ¨ä¸šåŠ¡å·¥ç¨‹ä¸­è¿›è¡Œäº†å®žè·µã€‚ åœ¨å®žè·µä¸­é€æ­¥äº†è§£äº†é›†å›¢çš„å®¹å™¨å¹³å°ä»¥åŠå…¶ä»–çš„ï¼Œè¯¸å¦‚å¤§æ•°æ®ã€å·¥ç¨‹æ•ˆçŽ‡ï¼Œç­‰ç­‰å¹³å°çš„çŽ©æ³•ï¼Œå¹¶ç§¯æžå‘çŽ°å…¶é«˜çº§çŽ©æ³•ï¼Œå¦‚å®¹å™¨å¹³å°çš„è‡ªæœ‰æ—¥å¿—é‡‡é›†ï¼Œé€šè¿‡æŽ¥å…¥äº‘å¹³å°è‡ªæœ‰æ—¥å¿—é‡‡é›†ï¼Œå°†æ—¥å¿—é‡‡é›†é€»è¾‘ä»Žå…·ä½“ä¸šåŠ¡ä¸­å½»åº•åŽ»æŽ‰ï¼Œä¸šåŠ¡é€»è¾‘ä¸éœ€è¦åœ¨å…³å¿ƒåº•å±‚çš„é€»è¾‘ï¼Œåªéœ€è¦å…³å¿ƒå…¶è‡ªèº«ã€‚ æˆ‘ä¸ªäººä¸€ç›´ç›¸ä¿¡ä¸€ä¸ªè§‚ç‚¹ï¼Œæ–°çš„æ€»æ˜¯å¥½çš„ï¼ˆæ–°ï¼Œå®žé™…ä¸Šå°±æ˜¯æ—§ç‰ˆæœ¬ä¿®å¤ bugsï¼Œå¢žåŠ  featuresï¼‰ï¼Œå› æ­¤ï¼Œæˆ‘å°è¯•å°†æˆ‘è´Ÿè´£çš„ä¸šåŠ¡å·¥ç¨‹çš„ Java ç‰ˆæœ¬å‡çº§åˆ°äº† 8ï¼Œäº‹å®žè¯æ˜Žï¼Œè¿™ä¸€å‡çº§å¸¦æ¥çš„å¥½å¤„æ˜¯ç›¸å½“å·¨å¤§çš„ï¼ŒJava8 ä¸­å¼•å…¥äº†é©å‘½æ€§çš„å‡½æ•°å¼çš„ç¼–ç¨‹æ¨¡åž‹ï¼Œå…¶ lambda å’Œ stream èƒ½å°†ä»£ç é‡å‡å°‘å¤§è‡´ 40% å·¦å³ï¼ˆå·¥ç¨‹å®žè·µæ‰€å¾—ï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯ Java8 çš„ stream èƒ½å¤Ÿæä¾›ä¸€ç§â€˜æ— ä¸­æ–­â€™çš„ç¼–ç è¿‡ç¨‹ï¼Œæ€è·¯ä¼šåƒæ²³æµä¸€æ ·æ˜¯é¡ºåºçš„ï¼Œè€Œä¸æ˜¯åƒä»¥å‰ for å¾ªçŽ¯é‚£æ ·åœé¡¿çš„ï¼ˆstream æœ¬èº«çš„æ„æ€å³ä¸º â€˜æµâ€™ï¼‰ã€‚åœ¨å°†æ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘ä¼šå°è¯•ä¸Žé›†å›¢è¿ç»´åŒå­¦æ²Ÿé€šï¼Œå°è¯•ä¸ºå·¥ç¨‹å¼•å…¥ Java11ï¼Œä»¥ç”¨èµ·æ¥æ›´é«˜çº§çš„ç‰¹æ€§ï¼Œä»Žè€Œè§£æ”¾ç”Ÿäº§åŠ›ã€‚ å·¥ç¨‹æŽ¢ç´¢å¦‚æžœè¯´æž¶æž„æ˜¯çµé­‚ï¼Œé‚£ä¹ˆå·¥ç¨‹å°±æ˜¯è¡€è‚‰ï¼Œæž¶æž„æ˜¯éœ€è¦å·¥ç¨‹æ¥å®žçŽ°çš„ï¼Œåœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œå·¥ç¨‹ï¼Œä¸€ç›´ä¹Ÿæ˜¯æˆ‘å…³æ³¨çš„ç‚¹ã€‚å…¥èŒåŽï¼Œæˆ‘ç§¯æžçš„å‘çŽ°å·¥ç¨‹ä¸­çš„ç—›ç‚¹ï¼Œå°è¯•ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚ SCF/WF å·¥ç¨‹æœ¬åœ°è°ƒè¯•èƒ½åŠ›çš„å¼•å…¥ã€‚åœ¨å…¥èŒåŽæˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°è¯•ä¸º SCF/WF å·¥ç¨‹å¼•å…¥æ–­ç‚¹è°ƒè¯•çš„èƒ½åŠ›ï¼Œæˆ‘é€šè¿‡ maven å®žçŽ°äº†å®ƒï¼Œå¹¶ä¸”å°†æ–¹æ³•å…±äº«ç»™äº†åŒäº‹ï¼ˆåŒæ—¶ï¼Œåœ¨ç ”ç©¶è¿‡ç¨‹ä¸­æˆ‘åˆæ­¥äº†è§£äº† SCF çš„å¯åŠ¨æµç¨‹çš„åŽŸç†ï¼Œåœ¨ç ”ç©¶å·¥ç¨‹çš„åŒæ—¶ï¼Œä½ ä¹Ÿä¼šé€æ­¥çš„ç†è§£æž¶æž„ï¼Œä»–ä»¬æ˜¯ç›¸è¾…ç›¸æ‰¿çš„ï¼‰ã€‚ spring-boot å·¥ç¨‹åœ¨ 58å·¥ç¨‹æ•ˆçŽ‡å¹³å° å’Œ 58å®¹å™¨å¹³å° çš„éƒ¨ç½²å®žè·µã€‚ç”±äºŽæˆ‘ä»¬æƒ³è¦å¼•å…¥ spring-boot ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»è¦è®© spring-boot èƒ½å¤Ÿè½åœ°äºŽå·¥ç¨‹ï¼Œæˆ‘é€šè¿‡å’ŒåŒäº‹å…±åŒç ”ç©¶äº† 58å·¥ç¨‹æ•ˆçŽ‡å¹³å° å’Œ 58å®¹å™¨å¹³å° çš„æž„å»ºéƒ¨ç½²åŽŸç†åŽï¼Œæ€»ç»“å‡ºäº† spring-boot å·¥ç¨‹åœ¨ 58å·¥ç¨‹æ•ˆçŽ‡å¹³å° å’Œ 58å®¹å™¨å¹³å° è½åœ°çš„å®žè·µæ–¹æ³•ï¼Œå¹¶å†™æˆæ–‡ç« å‘å¸ƒäºŽé›†å›¢æŠ€æœ¯å¤§ç¾¤ï¼Œå½±å“äº†é›†å›¢å…¶ä»–ä¸šåŠ¡çº¿çš„åŒäº‹ï¼ˆå…ˆåŽæœ‰3ä½å…¶ä»–ä¸šåŠ¡çº¿åŒäº‹æ‰¾è¿‡æˆ‘ï¼Œå¹¶ä¸”åº”ç”¨äº†æˆ‘æä¾›çš„å·¥ç¨‹å®žè·µï¼‰ï¼Œåœ¨å°†æ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘ä¼šæŒç»­ä¼˜åŒ–å·¥ç¨‹ç»“æž„ï¼Œå®žçŽ°å·¥ç¨‹æ•ˆçŽ‡æœ€å¤§åŒ–ã€‚ æ€§èƒ½ä¼˜åŒ–æ€§èƒ½ä¼˜åŒ–å¯ä»¥è¯´æ˜¯æˆ‘èŒä¸šç”Ÿæ¶¯ä¸­çš„æ–°æŒ‘æˆ˜ã€‚åœ¨æ€§èƒ½ä¼˜åŒ–æ–¹é¢æˆ‘ä¸»è¦åšäº†ä»¥ä¸‹å·¥ä½œã€‚ ä¸šåŠ¡çš„æ€§èƒ½ä¼˜åŒ–ã€‚ç”±äºŽæˆ‘è´Ÿè´£çš„ä¸šåŠ¡çš„ç‰¹æ€§ï¼Œæ€§èƒ½ä¼˜åŒ–æ˜¯å…¶å¾ˆé‡è¦çš„ä¸€ä¸ªç‚¹ã€‚åœ¨æŽ¥æ‰‹ä¸šåŠ¡ä»¥æ¥ï¼Œæ¯”è¾ƒé‡è¦çš„çš„ä¼˜åŒ–æ˜¯é€šè¿‡é˜…è¯» SCF æºç äº†è§£äº†å…¶æ‰§è¡Œéƒ¨åˆ†çš„æŠ½è±¡æ¨¡åž‹ï¼Œè¿›è€Œå’ŒåŒäº‹ä¸€èµ·ä¼˜åŒ–äº†ä¸šåŠ¡ SCF çº¿ç¨‹æ± æ€»æ•°ã€‚åœ¨å°†æ¥çš„è®¡åˆ’ä¸­ï¼Œæˆ‘è®¡åˆ’ç»§ç»­è¿›è¡Œä¼˜åŒ–ï¼Œæœ€ç»ˆè¾¾åˆ°ç¼©å‡é›†ç¾¤å®žä¾‹è§„æ¨¡ï¼Œæå‡å“åº”æ—¶é—´çš„ç›®æ ‡ã€‚ SCF å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–ã€‚é€šè¿‡ ç«ç„°å›¾ åˆ†æžï¼Œæˆ‘äº†è§£åˆ°ï¼ŒSCF çš„åºåˆ—åŒ–éƒ¨åˆ†çš„é€»è¾‘å äº†æ•´ä¸ª SCF å¯åŠ¨çš„å¤§éƒ¨åˆ†æ—¶é—´ï¼ŒåŒæ—¶ç»“åˆæˆ‘åœ¨å…¬å¸çŸ¥è¯†å…±äº«å¹³å°ä¸Šçœ‹åˆ°çš„å¤–éƒ¨é—¨åŒäº‹å†™çš„ SCF å¯åŠ¨é€Ÿåº¦è°ƒä¼˜ç»éªŒæ–‡ç« ï¼Œæˆ‘åœ¨éƒ¨é—¨æŸå·¥ç¨‹ä¸­å®žè·µäº† SCF å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–çš„åŠžæ³•ï¼Œæœ‰æ•ˆé™ä½Žäº† 40% å·¦å³çš„å¯åŠ¨æ—¶é—´ã€‚ ç»¼è¿°ä»¥ä¸Šå°±æ˜¯æˆ‘å…¥èŒä»¥æ¥çš„å·¥ä½œæ€»ç»“ä»¥åŠæœªæ¥çš„è®¡åˆ’ã€‚åœ¨æ•´ä½“ä¸Šï¼Œæˆ‘è®¡åˆ’æœªæ¥çš„å·¥ä½œä»ç„¶ä¼šæŒ‰ç…§è¿™å››æ¡è·¯çº¿å¼€å±•ï¼ŒåŒæ—¶åœ¨å·¥ä½œä¹‹ä½™ç§¯æžå‚ä¸Žå¼€æºç¤¾åŒºäº¤æµï¼Œå¹¶å°†æ”¶èŽ·åˆ†äº«äºŽå›¢é˜Ÿã€‚]]></content>
      <tags>
        <tag>èŒä¸šç”Ÿæ¶¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»£ç†å·¥å…·Charlesè®¾ç½®PACè‡ªåŠ¨ä»£ç†]]></title>
    <url>%2Fb6b16b10.html</url>
    <content type="text"><![CDATA[æ­£æ–‡ä»£ç†å·¥å…· Charles å¯ä»¥è®¾ç½®æˆ pac è‡ªåŠ¨ä»£ç†æ¨¡å¼ï¼Œåœ¨è‡ªåŠ¨ä»£ç†æ¨¡å¼ä¸‹ï¼Œä½ å…³é—­ä»£ç†åŽfallbackåˆ°ç›´ç«‹è¿žæ¨¡å¼ï¼Œè¿™æ ·å°±ä¸ä¼šå¸¦æ¥å…³é—­ä»£ç†å°±æ²¡æ³•Wi-Fiä¸Šç½‘çš„å°´å°¬äº†ï¼Œå…·ä½“ä½¿ç”¨æ–¹å¼æ˜¯ï¼š 12# é…ç½® pac åœ°å€https://chls.pro/&lt;ä½ çš„IP&gt;.pac å‚è€ƒèµ„æ–™Auto configuration]]></content>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽ'äºŒè¡¥ç '(Two's Complement)]]></title>
    <url>%2Ff89c2671.html</url>
    <content type="text"><![CDATA[å‰è¨€å‰ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æåˆ°äº†ï¼Œåœ¨ç ”ç©¶ä¸€ä¸ªé—®é¢˜çš„æ—¶å€™ï¼Œé¡ºä¾¿äº†è§£äº† Java çš„ int æº¢å‡ºå¤„ç†ã€‚å…¶å®žï¼Œåœ¨ç ”ç©¶æ—¶ï¼Œè¿˜æ¶‰åŠåˆ°äº†å¦ä¸€ä¸ªæ¦‚å¿µçš„ç†è§£ï¼Œé‚£å°±æ˜¯ Java ä¸­è´Ÿæ•°çš„äºŒè¿›åˆ¶è¡¨çŽ°å½¢å¼ï¼šäºŒè¡¥ç ï¼ˆè‹±æ–‡ä¸º Two&#39;s Complementï¼‰ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ã€‚ æ­£æ–‡å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›žé¡¾ä¸¤ä¸ªè§„åˆ™ï¼š åœ¨ Java ä¸­ï¼Œå…¨éƒ¨ä¸ºæœ‰ç¬¦å·æ•°ï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œ0ä»£è¡¨æ­£æ•°ï¼Œ1ä»£è¡¨è´Ÿæ•° åœ¨ Java ä¸­ int ä¸º 32ä½ã€‚ å¥½ï¼Œå¤ä¹ å®Œäº†è¿™ä¸¤æ¡è§„åˆ™ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼Œæˆ‘ä»¬å…ˆæ¥è¯´ç»“è®ºï¼Œåœ¨ Java ä¸­ï¼Œè´Ÿæ•°è½¬æ­£æ•°æˆ–è€…æ­£æ•°è½¬è´Ÿæ•°çš„æ“ä½œéƒ½æ˜¯ç”¨çš„ äºŒè¡¥ç  è¿™ä¸ªæ“ä½œï¼Œè¿™ä¸ªæ“ä½œå†…å®¹å°±æ˜¯ï¼šæŒ‰ä½å–å + äºŒè¿›åˆ¶1ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚ 123456789101112131415161718192021// åè¿›åˆ¶æ•°1640531527// 1640531527 è½¬ä¸ºäºŒè¿›åˆ¶01100001110010001000011001000111// 1640531527 æŒ‰ä½å–å10011110001101110111100110111000// äºŒè¿›åˆ¶çš„ 100000000000000000000000000000001// äºŒè¿›åˆ¶åŠ æ³• 1640531527 æŒ‰ä½å–ååŽçš„æ•° + 1 10011110001101110111100110111000+ 00000000000000000000000000000001-----------------------------------= 10011110001101110111100110111001// æœ€åŽçš„åˆ°çš„ 10011110001101110111100110111001 ä»Žæ–°è½¬ä¸º 10 è¿›åˆ¶-1640531527 ä¸Šè¾¹çš„è¿‡ç¨‹ç”¨ Java ä»£ç è¡¨ç¤ºï¼š 1System.out.println(~0b01100001110010001000011001000111 + 0b00000000000000000000000000000001); å…³äºŽè´Ÿæ•°æ­£æ•°ï¼Œä¸ºä»€ä¹ˆæ˜¯æŒ‰ä½å–åå†åŠ ä¸€è¿™ç§è§„åˆ™ï¼Œå†å¤šå†™ä¸€äº›ï¼Œçœ‹äº†é˜®ä¸€å³°çš„ä¸€ç¯‡æ–‡ç« ï¼Œäº†è§£åˆ°çš„ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940// å¤§å®¶å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œè®¾ a = 1640531527ï¼Œå–å–è´Ÿæ•° b ï¼Œå¯ä»¥ç”¨ b = 0 - a æ¥å®žçŽ°ï¼Œæ¢æˆäºŒè¿›åˆ¶è¿ç®—å¦‚ä¸‹// äºŒè¿›åˆ¶çš„ 000000000000000000000000000000000// äºŒè¿›åˆ¶çš„ 164053152701100001110010001000011001000111// äºŒè¿›åˆ¶çš„å‡æ³• 0 - 1640531527 00000000000000000000000000000000- 01100001110010001000011001000111-----------------------------------=ï¼Ÿ// åœ¨ä¸Šè¾¹çš„ç®—å¼é‡Œï¼Œä½ ä¼šå‘çŽ°ï¼Œæ²¡æ³•å‡ï¼Œä¸‹è¾¹çš„æ•°æ¯”ä¸Šè¾¹çš„å¤§ï¼Œæƒ³è¦å‡éœ€è¦å€Ÿä½ï¼Œä¹Ÿå°±æ˜¯å˜æˆä¸‹è¾¹è¿™æ · 100000000000000000000000000000000- 01100001110010001000011001000111-----------------------------------= 10011110001101110111100110111000// ä¸Šè¾¹çš„ç®—å¼ä¸­ï¼Œè¢«å‡æ•°æ˜¯å‡­ç©ºæŽ¥äº† 1 ä½çš„ï¼Œè¿™æ ·å°±å¤Ÿå‡äº†ï¼Œå…¶å®žå¤§å®¶ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œ100000000000000000000000000000000 å‡ 01100001110010001000011001000111 åŽå¾—åˆ°çš„ 10011110001101110111100110111000 å®žé™…ä¸Šå°±æ˜¯ 01100001110010001000011001000111 æŒ‰ä½å–äº†ä¸€ä¸‹å// æˆ‘ä»¬å†æ¥è§‚å¯Ÿä¸€ä¸‹ 100000000000000000000000000000000 æ˜¯å¯ä»¥æŒ‰ä¸‹é¢çš„å¼å­åˆ†è§£çš„100000000000000000000000000000000 = 11111111111111111111111111111111 + 00000000000000000000000000000001// é‚£ä¹ˆï¼Œå…¶å®žä¸Šè¾¹çš„å‡æ³•æˆ‘ä»¬å¯ä»¥åŒ–ä¸ºå¦‚ä¸‹å½¢å¼ 11111111111111111111111111111111+ 00000000000000000000000000000001-----------------------------------= 100000000000000000000000000000000- 01100001110010001000011001000111-----------------------------------= 10011110001101110111100110111000// å†æ¸…æ™°ä¸€äº›ï¼šæˆ‘ä»¬è®¾ a = 01100001110010001000011001000111ï¼Œæ±‚ -aï¼Œé‚£ä¹ˆå°±æ˜¯-a = 0 - a-a = (11111111111111111111111111111111 + 00000000000000000000000000000001) - a-a = (11111111111111111111111111111111 - a) + 00000000000000000000000000000001// ä¸Šè¾¹çš„å¼å­å°±å¾ˆæ¸…æ¥šäº† 11111111111111111111111111111111 - a å…¶å®žå°±æ˜¯æŠŠ a æŒ‰ä½å–åï¼Œè€ŒåŽè¾¹åŠ ä¸Šäº† 00000000000000000000000000000001 å°±æ˜¯ + 1ï¼Œä¹Ÿå°±æ˜¯æ­£æ•°è½¬è´Ÿæ•°ï¼ˆè´Ÿæ•°è½¬æ­£æ•°ï¼‰å°±æ˜¯æŒ‰ä½å–åå†åŠ ä¸€-a = ~a + 1 å‚è€ƒèµ„æ–™å…³äºŽ2çš„è¡¥ç  2â€™s complement]]></content>
      <tags>
        <tag>è®¡ç®—æœºç»„æˆåŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Javaä¸­Integerè¶Šç•Œçš„å¤„ç†]]></title>
    <url>%2F12b48437.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™ä¸¤å¤©åœ¨ç ”ç©¶ä¸€ä¸ªé—®é¢˜æ—¶ï¼Œå¶ç„¶çš„è¶Šåˆ°äº† int è¶Šç•Œçš„é—®é¢˜ï¼Œæˆ‘å¾ˆæƒŠå¥‡çš„å‘çŽ°ï¼Œå½“ä¸€ä¸ª æ•° å¤§äºŽäº† Integer.MAX_VALUE æ—¶ï¼Œç”¨ System.out.println() è¾“å‡ºåŽï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè´Ÿæ•°ã€‚æˆ‘å¾ˆå¥½å¥‡è¿™ä¸ªè´Ÿæ•°æ˜¯æ€Žä¹ˆæ¥çš„ï¼Œæ‰€ä»¥æŸ¥äº†ä¸€ä¸‹èµ„æ–™ï¼Œäº†è§£äº†ä¸€ä¸‹ Java å¯¹äºŽ int è¶Šç•Œçš„å¤„ç†ã€‚ æ­£æ–‡åœ¨ Java é‡Œï¼Œå¯¹äºŽ int çš„è¶Šç•Œå¤„ç†ååˆ†çš„ç®€å•ï¼šå½“ä¸€ä¸ªæ•°è¶…è¿‡äº† Integer.MAX_VALUE åŽï¼ŒJava å°±ä¼šä»Ž Integer çš„å¦ä¸€å¤´ä»Žæ–°å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯ä»Ž Integer.MIN_VALUE å¾€å›žå€’æŽ¨ã€‚ ä¹Ÿå°±æ˜¯ è¶Šç•Œæ•°èƒ½æ˜¾ç¤ºçš„ç»“æžœ = Integer.MIN_VALUE + (è¶Šç•Œæ•° - Integer.MAX_VALUE) - 1 12345678public static void main(String[] args) &#123; BigDecimal magic = BigDecimal.valueOf(Math.pow(2, 32)).divide(new BigDecimal("1.618"), 0, BigDecimal.ROUND_HALF_UP); System.out.println(magic.intValue() + " : " + Integer.toBinaryString(magic.intValue())); BigInteger bigInteger = new BigInteger(magic.toEngineeringString()); System.out.println(" " + magic.toEngineeringString() + " : " + Long.toBinaryString(bigInteger.longValue())); System.out.println(Integer.MIN_VALUE + (magic.longValue() - Integer.MAX_VALUE) - 1);&#125; 1234// ç»“æžœ-1640475766 : 10011110001110000101001110001010 2654491530 : 10011110001110000101001110001010-1640475766 å‚è€ƒèµ„æ–™How does Java handle integer underflows and overflows and how would you check for it? Integer overflow]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°ä¸€ä¸ªé€šç”¨çš„åŸºäºŽComparableçš„Validator]]></title>
    <url>%2F739a4aff.html</url>
    <content type="text"><![CDATA[å‰è¨€å¤§å®¶çŸ¥é“ï¼Œåœ¨ Spring ä¸­ï¼Œæœ‰ä¸ªå¾ˆå®žç”¨çš„ Bean Validation çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ç”¨å£°æ˜Žå¼çš„æ–¹å¼è½»æ¾åˆ†ç¦»éªŒè¯é€»è¾‘ã€‚å®ƒå†…ç½®äº†ä¸€äº›åŸºç¡€çš„éªŒè¯å™¨ï¼Œä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼Œè¿™äº›å†…ç½®çš„éªŒè¯å™¨æ˜¯æ²¡æœ‰æ”¯æŒçš„ï¼Œè¿™ä¸ªåœºæ™¯å°±æ˜¯ â€œå¼€å§‹æ—¶é—´å¿…é¡»åœ¨ç»“æŸæ—¶é—´ä¹‹å‰â€ã€‚æˆ‘æƒ³äº†ä¸€æƒ³ï¼Œé€šè¿‡ Java ä¸­çš„åå°„ä»¥åŠ Comparable/Comparator å®žçŽ°äº†ä¸€å¥—é€šç”¨çš„éªŒè¯å™¨ï¼Œç†è®ºä¸Šï¼Œä»»ä½•ä¸€ç§èƒ½é€šè¿‡æ¯”è¾ƒé€»è¾‘æ¯”è¾ƒçš„å€¼ï¼Œéƒ½å¯ä»¥éªŒäº†ã€‚ æ­£æ–‡å¤§å®¶å¯ä»¥å…ˆæƒ³ä¸€ä¸‹ï¼Œè¦å®žçŽ°ä¸€ä¸ªç±»ä¸­åŽ»éªŒè¯æŸä¸¤ä¸ªå±žæ€§çš„å¤§å°å…³ç³»ï¼ˆæˆ–è€…ä¸€èˆ¬çš„æ¥è®²ï¼šåŸºäºŽæ¯”è¾ƒå™¨çš„å…³ç³»ï¼‰ï¼Œè¯¥æœ‰å“ªäº›æ­¥éª¤å‘¢ï¼Ÿé¦–å…ˆè¦æ¯”è¾ƒä¸¤ä¸ªå±žæ€§ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‹¿åˆ°è¿™ä¸¤ä¸ªå±žæ€§çš„å€¼ï¼Œå‡­å€Ÿç»éªŒï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°ï¼šåå°„ï¼›å…¶æ¬¡ï¼Œæƒ³æ¯”è¾ƒä¸¤ä¸ªå€¼çš„å¤§å°ï¼Œè¿™ä¸ªå°±æ›´ç®€å•äº†ï¼Œè‹¥ä¸¤ä¸ªå€¼éƒ½æ˜¯ Comparable çš„ï¼Œé‚£ä¹ˆç›´æŽ¥è°ƒç”¨ java.lang.Comparable#compareTo å°±å¥½äº†ã€‚å€˜è‹¥ä¸æ˜¯ Comparable çš„ï¼Œé‚£ä¹Ÿå¥½åŠžï¼Œåœ¨ Java ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªç±» java.util.Comparator å®ƒæ˜¯ä»»ä½•ä¸€ç§æ¯”è¾ƒé€»è¾‘çš„æ€»æŽ¥å£ï¼Œåªè¦æˆ‘ä»¬èƒ½ç»™å‡ºä¸€ä¸ªå®žçŽ°äº†å®ƒçš„æ¯”è¾ƒé€»è¾‘ï¼ˆæˆ–è€…è¯´å‡½æ•°ï¼‰ï¼Œä¹Ÿå°±å¯ä»¥éªŒäº†ã€‚ OKï¼Œæ€è·¯æœ‰äº†ï¼ŒæŒ‰ç…§ Spring ä»¥åŠ Bean Validation çš„è§„åˆ™å®žçŽ°å‡ºæ¥å°±å¥½äº†ï¼ˆè¿™äº›è§„åˆ™è¯·è‡ªè¡Œ Googleï¼‰ï¼Œå…ˆæ¥çœ‹åŸºäºŽ Comparable çš„éªŒè¯ï¼š 123456789101112131415161718192021@Constraint(validatedBy = ComparableFieldsMatchValidator.class) //æ³¨æ„è¿™ä¸ªï¼Œè¿™ä¸ªå£°æ˜Žäº†ç”¨å“ªä¸ªéªŒè¯å™¨åŽ»éªŒè¯@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface ComparableFieldsMatch &#123; // æƒ³è¦å‚ä¸Žæ¯”è¾ƒçš„å·¦å€¼ String leftFieldName(); // æƒ³è¦å‚ä¸Žæ¯”è¾ƒçš„å·¦å€¼ String rightFieldName(); // æ¯”è¾ƒçš„è§„åˆ™ CompareRule compareRule(); // ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•æ˜¯ @Constraint å¿…é¡»è¦æœ‰çš„ String message() default ""; Class&lt;?&gt;[] groups() default &#123;&#125;; Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667// æ¯”è¾ƒçš„è§„åˆ™public enum CompareRule &#123; LEFT_GREATER_THEN_RIGHT &#123; @Override public List&lt;Integer&gt; acceptableValue() &#123; return Collections.singletonList(1); &#125; @Override public String messageTemplate() &#123; return "âš  å·¦å€¼ [%s] åº”æ¯”å³å€¼ [%s] å¤§"; &#125; &#125;, LEFT_EQUAL_RIGHT &#123; @Override public List&lt;Integer&gt; acceptableValue() &#123; return Collections.singletonList(0); &#125; @Override public String messageTemplate() &#123; return "âš  å·¦å€¼ [%s] åº”ç­‰äºŽå³å€¼ [%s]"; &#125; &#125;, LEFT_LESS_THEN_RIGHT &#123; @Override public List&lt;Integer&gt; acceptableValue() &#123; return Collections.singletonList(-1); &#125; @Override public String messageTemplate() &#123; return "âš  å·¦å€¼ [%s] åº”æ¯”å³å€¼ [%s] å°"; &#125; &#125;, LEFT_GREATER_EQUAL_THEN_RIGHT &#123; @Override public List&lt;Integer&gt; acceptableValue() &#123; return Arrays.asList(1, 0); &#125; @Override public String messageTemplate() &#123; return "âš  å·¦å€¼ [%s] åº”å¤§äºŽç­‰äºŽå³å€¼ [%s]"; &#125; &#125;, LEFT_LESS_EQUAL_THEN_RIGHT &#123; @Override public List&lt;Integer&gt; acceptableValue() &#123; return Arrays.asList(-1, 0); &#125; @Override public String messageTemplate() &#123; return "âš  å·¦å€¼ [%s] åº”å°äºŽç­‰äºŽå³å€¼ [%s]"; &#125; &#125;; public abstract List&lt;Integer&gt; acceptableValue(); public abstract String messageTemplate();&#125; 123456@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface ComparableFieldsMatches &#123; ComparableFieldsMatch[] value() default &#123;&#125;;&#125; 12345678910111213141516171819202122// éªŒè¯å™¨public class ComparableFieldsMatchValidator implements ConstraintValidator&lt;ComparableFieldsMatch, Object&gt; &#123; private ComparableFieldsMatch constraintAnnotation; @Override public void initialize(ComparableFieldsMatch constraintAnnotation) &#123; this.constraintAnnotation = constraintAnnotation; &#125; @Override public boolean isValid(Object fieldsOwner, ConstraintValidatorContext context) &#123; // é€šè¿‡åå°„æ‹¿åˆ°éœ€è¦æ¯”è¾ƒçš„ å·¦ã€å³å€¼ Object leftFieldValue = Utils.getFieldThenMakeAccessible(fieldsOwner, constraintAnnotation.leftFieldName()); Object rightFieldValue = Utils.getFieldThenMakeAccessible(fieldsOwner, constraintAnnotation.rightFieldName()); CompareRule compareRule = constraintAnnotation.compareRule(); int compareToResult = ((Comparable) leftFieldValue).compareTo(rightFieldValue); return compareRule.acceptableValue().contains(compareToResult); // å¦‚æžœæ¯”è¾ƒç»“æžœå‘½ä¸­äº†æ¯”è¾ƒè§„åˆ™ç¼–ç çš„ acceptableValueï¼Œåˆ™æ˜¯åˆè§„çš„ &#125;&#125; å†æ¥çœ‹åŸºäºŽ Comparator çš„éªŒè¯ï¼š 1234567891011121314151617181920@Constraint(validatedBy = ComparatorFieldsMatchValidator.class)@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface ComparatorFieldsMatch &#123; String leftFieldName(); String rightFieldName(); // éœ€è¦çš„ Comparator çš„ Class Class&lt;? extends Comparator&gt; comparatorClass(); CompareRule compareRule(); String message() default ""; Class&lt;?&gt;[] groups() default &#123;&#125;; Class&lt;? extends Payload&gt;[] payload() default &#123;&#125;;&#125; 123456@Target(&#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface ComparatorFieldsMatches &#123; ComparatorFieldsMatch[] value() default &#123;&#125;;&#125; 1234567891011121314151617181920212223242526272829// https://www.baeldung.com/spring-mvc-custom-validator// http://daobin.wang/2017/06/Spring-Validation/public class ComparatorFieldsMatchValidator implements ConstraintValidator&lt;ComparatorFieldsMatch, Object&gt; &#123; private ComparatorFieldsMatch constraintAnnotation; @Override public void initialize(ComparatorFieldsMatch constraintAnnotation) &#123; this.constraintAnnotation = constraintAnnotation; &#125; @Override public boolean isValid(Object fieldsOwner, ConstraintValidatorContext context) &#123; Object leftFieldValue = Utils.getFieldThenMakeAccessible(fieldsOwner, constraintAnnotation.leftFieldName()); Object rightFieldValue = Utils.getFieldThenMakeAccessible(fieldsOwner, constraintAnnotation.rightFieldName()); CompareRule compareRule = constraintAnnotation.compareRule(); // èŽ·å¾— Comparator çš„ Classï¼Œå¹¶ç”¨åå°„åˆ›å»ºç¤ºä¾‹ try &#123; Comparator comparator = constraintAnnotation.comparatorClass().newInstance(); int compareResult = comparator.compare(leftFieldValue, rightFieldValue); return compareRule.acceptableValue().contains(compareResult); &#125; catch (InstantiationException | IllegalAccessException e) &#123; throw new RuntimeException(e); &#125; &#125;&#125; å¥½äº†ï¼ŒéªŒè¯å™¨å†™å¥½äº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950@ComparableFieldsMatches( @ComparableFieldsMatch( leftFieldName = "startTime", rightFieldName = "endTime", compareRule = CompareRule.LEFT_LESS_THEN_RIGHT, message = "å¼€å§‹æ—¶é—´ä¸èƒ½åœ¨ç»“æŸæ—¶é—´ä¹‹åŽ" ))public class DatePeriod &#123; public DatePeriod() &#123; &#125; public DatePeriod(@PastOrPresent @NotNull Date startTime, @PastOrPresent @NotNull Date endTime) &#123; this.startTime = startTime; this.endTime = endTime; &#125; @ApiModelProperty(value = "å¼€å§‹æ—¶é—´", required = true, example = "2018-10-01 00:00:00") @PastOrPresent @NotNull private Date startTime; @ApiModelProperty(value = "ç»“æŸæ—¶é—´", required = true, example = "2018-12-01 00:00:00") @PastOrPresent @NotNull private Date endTime; public Date getStartTime() &#123; return startTime; &#125; public void setStartTime(Date startTime) &#123; this.startTime = startTime; &#125; public Date getEndTime() &#123; return endTime; &#125; public void setEndTime(Date endTime) &#123; this.endTime = endTime; &#125; // &#123;"startTime": "%s", "endTime": "%s"&#125; @Override public String toString() &#123; return String.format("&#123;\"startTime\": \"%s\", \"endTime\": \"%s\"&#125;", DateFormatUtils.format(startTime, "yyyyMMdd"), DateFormatUtils.format(endTime, "yyyyMMdd")); &#125;&#125; æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Œè¿™æ ·æˆ‘ä»¬çš„é€šç”¨éªŒè¯å™¨èƒ½ä¸ºæˆ‘ä»¬å…åŽ»å¾ˆå¤šé‡å¤çš„éªŒè¯é€»è¾‘ï¼Œè§£æ”¾äº†ç”Ÿäº§åŠ› ðŸ˜„ å‚è€ƒèµ„æ–™Spring MVC Custom Validation Spring Validation å®žçŽ°å‰ç½®å‚æ•°æ ¡éªŒ]]></content>
      <tags>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽæŸä¸ªç±»ä¸èƒ½å¼ºè½¬ä¸ºè‡ªå·±çš„ç±»åž‹çš„é—®é¢˜çš„è®°å½•]]></title>
    <url>%2Ffaa5d31d.html</url>
    <content type="text"><![CDATA[å‰è¨€å‰æ®µæ—¶é—´ï¼ŒåŒäº‹å†™äº†ä¸€æ®µæ¶‰åŠåˆ°ä»Ž memcached é‡Œæ‹¿å‡ºæ¥å€¼ï¼Œå¹¶å¼ºè½¬ä¸ºæŸä¸€ç±»åž‹çš„é€»è¾‘ï¼Œç»“æžœå‡ºçŽ°äº†ç±»ä¸èƒ½å¼ºè½¬ä¸ºè‡ªå·±ç±»åž‹çš„å¼‚å¸¸ï¼Œå¾ˆæœ‰æ„æ€ï¼Œè®°å½•ä¸€ä¸‹ã€‚ æ­£æ–‡åœ¨ memcached ä¸­ï¼Œå­˜å‚¨çš„æ˜¯ TypeA ç»è¿‡ Java æ ‡å‡†åºåˆ—åŒ–åŽçš„å†…å®¹ï¼Œå–å€¼æ—¶è¿”å›žçš„æ˜¯ Objectï¼Œéœ€è¦å¼ºè½¬ä¸º TypeAã€‚æœ¬æ¥å¾ˆç®€å•çš„é€»è¾‘ï¼Œä½†æ˜¯å‡ºçŽ°å¼‚å¸¸äº†ï¼Œå¼‚å¸¸çˆ†å‡º TypeA ä¸èƒ½è½¬ä¸º TypeAï¼Œæˆ‘ä»¬ä¿©å†ä¸‰ç¡®è®¤äº†ä¸€ä¸‹ï¼Œç±»åæ²¡æœ‰å†™é”™ã€‚ åŽæ¥ï¼Œæˆ‘æƒ³åˆ°ä»¥å‰æˆ‘çœ‹è¿‡çš„ä¸€æœ¬ä¹¦ä¸Šï¼ˆå¿˜äº†ä»Žå“ªæœ¬ä¹¦çœ‹çš„äº†ï¼‰è¯´ï¼šJava ä¸­ï¼Œåˆ¤æ–­ä¸¤ä¸ªç±»åž‹æ˜¯å¦ç›¸åŒéœ€è¦ï¼š1.ä¸¤ä¸ªç±»æœ‰ç›¸åŒçš„é™å®šåï¼›2.ä¸¤ä¸ªç±»ç”±åŒä¸€ç±»åŠ è½½å™¨å®žä¾‹åŠ è½½ã€‚æ—¢ç„¶ç±»é™å®šåæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé‚£ä¹ˆåªèƒ½è¯´æ˜Žè¦å¼ºè½¬æˆçš„ TypeA å’Œä»Ž memcached ä¸­å–å›žçš„ TypeAï¼ˆJava æ ‡å‡†ååºåˆ—åŒ–ç”Ÿæˆçš„å®žä¾‹çš„ classï¼‰ä¸æ˜¯ç”±åŒä¸€ç±»åŠ è½½å™¨å®žä¾‹åŠ è½½çš„ã€‚åŽæ¥æŸ¥äº†ä¸€ä¸‹ï¼Œæžœä¸å…¶ç„¶ï¼ŒåŒäº‹å†™çš„é‚£æ®µé€»è¾‘æ˜¯ç”¨ spring-devtool å¯åŠ¨çš„ï¼Œè€Œ spring-devtool è‡ªå·±å®žçŽ°äº†ä¸€ä¸ªç±»åŠ è½½å™¨ï¼Œè¿™ä¸ªç±»åŠ è½½å™¨é»˜è®¤åŠ è½½æ‰€æœ‰è‡ªå·±å†™çš„ Java ä»£ç ç¼–è¯‘å‡ºæ¥çš„ .class ï¼ˆä¹Ÿå°±æ˜¯éž .jar ä¸­çš„ .classï¼‰ï¼ŒåŠ è½½è¦å¼ºè½¬ä¸ºçš„ TypeA å°±æ˜¯ç”±ä»–åŠ è½½çš„ã€‚è€Œ memcached ä¸­å–å›ž TypeA è¿™å—çš„é€»è¾‘æ˜¯åœ¨ .jar ä¸­å°åŒ…çš„ï¼Œè¿™éƒ¨åˆ†æ˜¯ç”± AppClassLoader åŠ è½½çš„ã€‚è¿™æ ·å°±é€ æˆäº†åŒæ ·æ˜¯ TypeAï¼Œç”±ä¸åŒç±»åŠ è½½å™¨å®žä¾‹ï¼ˆåˆ«æå®žä¾‹äº†ï¼Œç±»åŠ è½½å™¨çš„ç±»éƒ½ä¸åŒï¼‰åŠ è½½å‡ºæ¥çš„æƒ…å†µï¼Œå› æ­¤ï¼Œä»–ä»¬è™½ç„¶åå­—ä¸€æ ·ï¼Œä½†æ˜¯å·²ç»ä¸æ˜¯ä¸€ä¸ªç±»äº†ï¼Œæ‰€ä»¥ä¸èƒ½å¼ºè½¬æˆåŠŸäº†ã€‚]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽlog4jçš„ä¸€ä¸ªå‘]]></title>
    <url>%2F740ca403.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™ä¸¤å¤©æ”¹äº†ä¸€ä¸‹ç”Ÿäº§çŽ¯å¢ƒçš„log4jçš„é…ç½®ï¼Œç»“æžœè¸©äº†ä¸€ä¸ªå°å‘ï¼Œè®°å½•ä¸€ä¸‹ã€‚ æ­£æ–‡åœ¨ç”Ÿäº§çŽ¯å¢ƒçš„æ—¥å¿—é…ç½®ä¸­æ–°åŠ äº†ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶è¾“å‡ºé…ç½®ï¼Œå¦‚ä¸‹æ³¨é‡Šå¤„ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE log4j:configuration SYSTEM "log4j.dtd"&gt;&lt;log4j:configuration&gt; &lt;appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender"&gt; &lt;layout class="org.apache.log4j.PatternLayout"&gt; &lt;param name="ConversionPattern" value="[%d&#123;MM-dd HH:mm:ss,SSS\&#125; %-5p] [%t] %c&#123;2\&#125;:%L - %m%n"/&gt; &lt;/layout&gt; &lt;filter class="org.apache.log4j.varia.LevelRangeFilter"&gt; &lt;param name="levelMin" value="error"/&gt; &lt;param name="levelMax" value="off"/&gt; &lt;param name="AcceptOnMatch" value="true"/&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;appender name="DAILY_ROLLING_FILE" class="org.apache.log4j.DailyRollingFileAppender"&gt; &lt;param name="File" value="../log/main.log"/&gt; &lt;param name="DatePattern" value="'.'yyyy-MM-dd'.log'"/&gt; &lt;layout class="org.apache.log4j.PatternLayout"&gt; &lt;param name="ConversionPattern" value="[%d&#123;MM-dd HH:mm:ss SSS\&#125; %-5p] [%t] %c&#123;3\&#125;:%L - %m%n"/&gt; &lt;/layout&gt; &lt;filter class="org.apache.log4j.varia.LevelMatchFilter"&gt; &lt;param name="LevelToMatch" value="ERROR"/&gt; &lt;param name="AcceptOnMatch" value="true"/&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;!-- æ–°å¢žé…ç½®å¼€å§‹ --&gt; &lt;appender name="ANALYSIS_DAILY_ROLLING_FILE" class="org.apache.log4j.DailyRollingFileAppender"&gt; &lt;param name="File" value="../log/analysis.log"/&gt; &lt;param name="DatePattern" value="'.'yyyy-MM-dd'.log'"/&gt; &lt;layout class="org.apache.log4j.PatternLayout"&gt; &lt;param name="ConversionPattern" value="%m%n"/&gt; &lt;/layout&gt; &lt;filter class="org.apache.log4j.varia.LevelMatchFilter"&gt; &lt;param name="LevelToMatch" value="INFO"/&gt; &lt;param name="AcceptOnMatch" value="true"/&gt; &lt;/filter&gt; &lt;/appender&gt; &lt;appender name="ASYNC_ANALYSIS_DAILY_ROLLING_FILE" class="org.apache.log4j.AsyncAppender"&gt; &lt;appender-ref ref="ANALYSIS_DAILY_ROLLING_FILE"/&gt; &lt;/appender&gt; &lt;logger name="LOGGER_ANALYSIS"&gt; &lt;level value="INFO"/&gt; &lt;appender-ref ref="ASYNC_ANALYSIS_DAILY_ROLLING_FILE"/&gt; &lt;/logger&gt; &lt;!-- æ–°å¢žé…ç½®ç»“æŸ --&gt; &lt;root&gt; &lt;level value="ERROR"/&gt; &lt;appender-ref ref="DAILY_ROLLING_FILE"/&gt; &lt;/root&gt;&lt;/log4j:configuration&gt; è¿™ä¸ªæ–°å¢žçš„é…ç½®ä¼šåœ¨åŽŸæœ‰çš„æ—¥å¿—æ–‡ä»¶ main.log å¤–ï¼Œæ–°å¢žä¸€ä¸ªå…¨æ–°çš„æ—¥å¿—æ–‡ä»¶ analysis.log è®°å½•ä¸€äº›ä¿¡æ¯ã€‚ç»“æžœä¸Šçº¿åŽï¼Œä¸ä»…æ—¥å¿—è¾“å‡ºåˆ°äº† analysis.logï¼ŒåŒæ—¶ä¹Ÿè¾“å‡ºåˆ°äº† main.log ä¸­äº†ä¸€ä»½ï¼Œå†—ä½™äº†ã€‚Google äº†ä¸€ä¸‹ï¼ŒåŽŸæ¥æ˜¯ root å’Œ additivity çš„é—®é¢˜ã€‚ åŽŸæ¥ï¼Œåœ¨å¦‚ä¸‹çš„ä¸¤ä¸ª logger ä¸­ï¼Œå­˜åœ¨ç€ç»§æ‰¿å…³ç³»ï¼ŒLOGGER_ANALYSIS æ˜¯ç»§æ‰¿äº† root çš„ 123456789&lt;logger name="LOGGER_ANALYSIS"&gt; &lt;level value="INFO"/&gt; &lt;appender-ref ref="ASYNC_ANALYSIS_DAILY_ROLLING_FILE"/&gt;&lt;/logger&gt;&lt;root&gt; &lt;level value="ERROR"/&gt; &lt;appender-ref ref="DAILY_ROLLING_FILE"/&gt;&lt;/root&gt; ç»§æ‰¿ï¼Œå°±æ„å‘³ç€ LOGGER_ANALYSIS æ˜¯ç»§æ‰¿äº† root çš„ appender-ref çš„ï¼Œå› æ­¤ï¼ŒLOGGER_ANALYSIS ä¸çŸ¥è¾“å‡ºåˆ°äº†è‡ªå·±çš„ appender è®¾ç½®çš„æ–‡ä»¶ analysis.log é‡Œï¼Œä¹Ÿä¼šè¾“å‡ºåˆ° DAILY_ROLLING_FILE å¯¹åº”çš„ main.log é‡Œï¼Œä¹Ÿå°±æ˜¯å†—ä½™äº†ã€‚ é‚£ä¹ˆï¼Œæ€Žä¹ˆè§£å†³å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œè®©å„¿å­ä¸ç»§æ‰¿çˆ¸çˆ¸å°±å¥½äº†ï¼Œä¸åšå¯ŒäºŒä»£ï¼Œç™½æ‰‹èµ·å®¶ï¼Œè‡ªå·±æ‰“å¤©ä¸‹ã€‚ 1234&lt;logger name="LOGGER_ANALYSIS" additivity="false"&gt; &lt;level value="INFO"/&gt; &lt;appender-ref ref="ASYNC_ANALYSIS_DAILY_ROLLING_FILE"/&gt;&lt;/logger&gt; æ³¨æ„ä¸Šè¾¹çš„ additivity=&quot;false&quot; å°±è¿™ä¸ªè®¾ç½®ï¼Œå°±å£°æ˜Žå’Œ root è„±ç¦»çˆ¶å­å…³ç³»äº†ï¼Œç‹¬ç«‹äº†ã€‚é—®é¢˜è§£å†³ã€‚ å‚è€ƒèµ„æ–™å…³äºŽlog4j root logger æ ‡ç­¾ ä»¥åŠadditivity å±žæ€§ Appenders and Layouts]]></content>
      <tags>
        <tag>log4j</tag>
        <tag>å‘</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[springå®žçŽ°æ ¹æ®controllerä¸­æŽ¥æ”¶è¯·æ±‚å‚æ•°ä¸åŒèµ°ä¸åŒservice]]></title>
    <url>%2Fa9b7a8df.html</url>
    <content type="text"><![CDATA[å‰è¨€å‰å‡ å¤©ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œéœ€è¦å®žçŽ°è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šæ ¹æ®å‰ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚å‚æ•°çš„ä¸åŒï¼Œèµ°ä¸åŒçš„ serviceï¼ˆå¯åŒäº‹èµ°å¤šä¸ªï¼‰ï¼Œæœ€åˆæˆ‘çš„æ€è·¯æ˜¯å°è¯•å®žçŽ°åœ¨ spring ä¸­å®žçŽ°åŠ¨æ€çš„ä¾èµ–æ³¨å…¥ï¼Œä¹Ÿå°±æ˜¯æ ¹æ®è¯·æ±‚å‚æ•°ï¼ŒåŠ¨æ€çš„åœ¨ controller ä¸­æ³¨å…¥æŸä¸ª service æŽ¥å£çš„ç‰¹å®šå®žçŽ°ï¼ˆæŽ¥å£æœ‰å¤šä¸ªå®žçŽ°ï¼‰ï¼Œä½†æ˜¯å‘çŽ°è¿™ä¸ªå®žçŽ°ä¸äº†ï¼Œç„¶åŽæƒ³äº†æƒ³ï¼Œæ¢äº†ä¸ªæ€è·¯ï¼Œé‡æ–°è®¾è®¡äº†ä¸€ä¸‹ï¼Œå®žçŽ°äº†éœ€æ±‚ä¸­çš„åœºæ™¯ã€‚ æ­£æ–‡æˆ‘çš„è§£å†³åŠžæ³•æ˜¯ï¼Œä½¿ç”¨â€œç”Ÿäº§çº¿å·¥äººå·¥ä½œèƒ½åŠ›è‡ªå·±æŽ‚é‡æœºåˆ¶â€æ¥è§£å†³ï¼Œè¿™åå­—æˆ‘è‡ªå·±èµ·çš„ï¼Œå®žé™…ä¸Šå°±æ˜¯æƒ³è¦å®žçŽ°æŒ‰å‚æ•°é€‰æ‹©èµ°å“ªä¸ª service å®žçŽ°ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ service å®žçŽ°å…¨éƒ½æ³¨å…¥è¿›æ¥ï¼Œç„¶åŽä¾æ¬¡è¯·æ±‚ï¼ŒåŒæ—¶åœ¨æ¯ä¸ª service å®žçŽ°ä¸­å†™ä¸€å¥—è§„åˆ™åˆ¤åˆ«æ–¹æ³•ï¼Œåˆ¤æ–­å½“å‰è¯·æ±‚è‡ªå·±æ˜¯ä¸æ˜¯èƒ½å¤Ÿå¤„ç†ï¼Œå¦‚æžœèƒ½å¤Ÿå¤„ç†ï¼Œåˆ™è¿›å…¥å¤„ç†æ–¹æ³•ï¼Œè‹¥è‡ªå·±æ²¡æœ‰å¤„ç†èƒ½åŠ›ï¼Œåˆ™é€€å‡ºï¼Œè®©è¯·æ±‚èµ°åˆ°å…¶ä»– service åšåŒæ ·çš„åˆ¤æ–­ã€‚å½¢è±¡ç‚¹ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨ä¸€æ¡ç”Ÿäº§çº¿çš„ä¼ é€å¸¦ä¸Šä¼ é€ç€ä¸åŒå“ç±»çš„å¾…åŠ å·¥çš„å…ƒéƒ¨ä»¶ï¼Œæœ‰è‹¥å¹²å·¥äººæŽ’åˆ—åœ¨ä¼ é€å¸¦æ—è¾¹ï¼Œæ¯ä¸ªå·¥äººåªä¼šåŠ å·¥æŸä¸€ç§å…ƒä»¶ï¼Œé‚£ä¹ˆï¼Œå½“ä¼ é€å¸¦ä¸Šçš„å…ƒä»¶ä¼ é€åˆ°è‡ªå·±é¢å‰æ—¶ï¼Œéœ€è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œè‡ªå·±æœ‰æ²¡æœ‰å¤„ç†è¿™ä¸ªå…ƒä»¶çš„èƒ½åŠ›ï¼ˆæŽ‚é‡ä¸€ä¸‹è‡ªå·±çš„èƒ½åŠ›ï¼‰ï¼Œè‹¥æœ‰ï¼Œå–è¿‡æ¥å¤„ç†ï¼Œè‹¥æ²¡æœ‰ï¼Œæ”¾è¿‡åŽ»è®©åˆ«äººèµ°æµç¨‹ã€‚ ç†è§£äº†å…¶ä¸­é€»è¾‘ï¼Œæˆ‘ä»¬å°±æ¥çœ‹ä»£ç å§ï¼ˆç‰‡æ®µï¼‰ï¼š 123456789public interface ServiceProvider &#123; // æŽ‚é‡ä¸€ä¸‹è‡ªå·±æœ‰æ²¡æœ‰èƒ½åŠ›åŠ å·¥å½“å‰çš„å…ƒä»¶ï¼ˆä¹Ÿå°±æ˜¯Requestï¼‰ï¼Œèƒ½å°±è¿”å›ž true ä¸èƒ½è¿”å›ž false boolean support(Request request); // å…·ä½“åŠ å·¥å…ƒä»¶çš„é€»è¾‘ Response execute(Request request);&#125; 1234567891011121314151617@Servicepublic class ServiceImpl implements Service &#123; // æ³¨å…¥ä¸€ç³»åˆ— service æ•°é‡ä¸å®š https://stackoverflow.com/questions/2153298/how-to-autowire-factorybean @Resource(name = "serviceProviders") private List&lt;ServiceProvider&gt; serviceProviders; @Override public List&lt;Response&gt; execute(Request request) &#123; return serviceProviders // å¾ªçŽ¯æ¯ä¸ª service TODO çŽ°åœ¨æ—¶é—´å¤æ‚åº¦ä¸º O(n) å¯ä»¥å°è¯•ä¼˜åŒ–ä¸º O(logn) .stream() .filter(serviceProvider -&gt; serviceProvider.support(request)) // æŒ‰åŠ å·¥èƒ½åŠ›è¿‡æ»¤ .map(serviceProvider -&gt; serviceProvider.execute(request)) // æ‰§è¡Œ service å¾— execute æ–¹æ³• .collect(Collectors.toList()); &#125;&#125; è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦è§£é‡Šä¸€ä¸‹ï¼Œåœ¨ä¸Šé¢ç¬¬äºŒæ®µä»£ç ä¸­ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µï¼š 12@Resource(name = &quot;serviceProviders&quot;)private List&lt;ServiceProvider&gt; serviceProviders; è¿™é‡Œæ˜¯ä½¿ç”¨ spring ä¸­çš„ FactoryBean æœºåˆ¶å®žçŽ°çš„ï¼Œå¯ä»¥ç®€å•çš„è¿™æ ·ç†è§£ FactoryBean ï¼šFactoryBean æ˜¯ç”Ÿæˆæ™®é€š Bean çš„ Beanï¼Œå½“æ³¨å…¥ FactoryBean æ—¶ï¼Œé»˜è®¤æ³¨å…¥çš„æ˜¯å…¶ç”Ÿäº§å‡ºæ¥çš„æ‰€æœ‰æ™®é€š Beanï¼Œè€Œä¸æ˜¯å®ƒè‡ªå·±ã€‚ åœ¨ä¸Šè¾¹ä»£ç ä¸­ï¼Œæ³¨å…¥çš„åä¸º serviceProviders çš„è¿™ä¸ª Beanï¼Œå®žé™…ä¸Šæ˜¯è¿™æ ·å®šä¹‰å‡ºæ¥çš„ï¼š 1234567891011121314151617181920212223242526@Component("serviceProviders") // æ³¨æ„è¿™ä¸ª Bean çš„åå­—ï¼Œå½“å…¶ä»– Bean ä¸­æ³¨å…¥è¿™ä¸ª Bean æ—¶ï¼Œä¼šæ³¨å…¥ createInstance() è¿”å›žç±»åž‹çš„ Beanï¼Œè€Œä¸æ˜¯å…¶è‡ªèº«çš„ç±»åž‹ ServiceProviderFactoryBeanpublic class ServiceProviderFactoryBean extends AbstractFactoryBean&lt;List&lt;ServiceProvider&gt;&gt; implements ApplicationContextAware &#123; private ApplicationContext applicationContext; @Override public Class&lt;?&gt; getObjectType() &#123; return List.class; &#125; @Override protected List&lt;ServiceProvider&gt; createInstance() &#123; // æ‰«ææ‰€æœ‰ provider å¹¶ä»Ž Bean å®¹å™¨å–å‡ºæ”¾å…¥ list Reflections reflections = new Reflections(ServiceProvider.class.getPackage().getName()); return reflections .getSubTypesOf(ServiceProvider.class) .stream() .map((Function&lt;Class&lt;? extends ServiceProvider&gt;, ServiceProvider&gt;) serviceProviderClass -&gt; applicationContext.getBean(serviceProviderClass)) .collect(Collectors.toList()); &#125; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; this.applicationContext = applicationContext; &#125;&#125; é€šè¿‡è¿™æ ·çš„è®¾è®¡ï¼Œå°±å®Œæˆäº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå®žé™…ä¸Šæˆ‘ä»¬ç­‰äºŽæŠŠæ€è·¯åè½¬äº†ä¸€ä¸‹ï¼Œä»Žæƒ³å°½åŠžæ³•æŽ§åˆ¶æ³¨å…¥åˆ°ä¸åšæŽ§åˆ¶ï¼Œä¸€è‚¡è„‘å…¨éƒ¨æ³¨å…¥è¿›åŽ»ï¼Œç„¶åŽæŒ‰è§„åˆ™è¿‡æ»¤ã€‚æœ‰æ—¶å€™ï¼Œå…¶å®žé‡åˆ°ä¸€æ¡æ€è·¯èµ°ä¸é€šçš„æ—¶å€™ï¼Œå¯ä»¥åè¿‡æ¥æƒ³æƒ³ï¼Œä¹Ÿè®¸å°±ä¼šèµ°é€šã€‚ å‹˜è¯¯ã€ŒåŽç«¯åœˆã€å°ä¼™ä¼´æŒ‡å‡ºï¼Œæˆ‘è¿™ä¸ªæ³¨å…¥ä¸€ç³»åˆ— Beans çš„æœºåˆ¶å†™å¤æ‚äº†ï¼Œå®žé™…ä¸Šåœ¨ Spring ä¸­ï¼Œæ³¨å…¥ List&lt;SomeBean&gt; somebeans å°±èƒ½è‡ªåŠ¨å®žçŽ°å°†æ‰€æœ‰ SomeBean å…¨éƒ¨æ³¨å…¥è¿›æ¥äº†ã€‚åŽ‹æ ¹ä¸éœ€è¦è‡ªå·±å†™ FactoryBean çš„ï¼Œè¿™ä¸ªæœºåˆ¶çš„å®žçŽ°è¿‡ç¨‹ï¼Œå¯ä»¥å‚è€ƒ Spring æºç ï¼šorg.springframework.beans.factory.support.DefaultListableBeanFactory#resolveMultipleBeans å’Œ org.springframework.beans.factory.support.DefaultListableBeanFactory#addCandidateEntry 123456789101112131415// å•ä¸ªBeançš„ç±»åž‹ä¸ºorg.springframework.beans.factory.config.DependencyDescriptorï¼Œè€ŒList&lt;Bean&gt;çš„ç±»åž‹ä¸ºorg.springframework.beans.factory.support.DefaultListableBeanFactory.MultiElementDescriptorï¼Œä»Žè¿™é‡Œåˆ†æˆäº†ä¸¤ä¸ªæµç¨‹/** * Add an entry to the candidate map: a bean instance if available or just the resolved * type, preventing early bean initialization ahead of primary candidate selection. */private void addCandidateEntry(Map&lt;String, Object&gt; candidates, String candidateName, DependencyDescriptor descriptor, Class&lt;?&gt; requiredType) &#123; if (descriptor instanceof MultiElementDescriptor || containsSingleton(candidateName)) &#123; Object beanInstance = descriptor.resolveCandidate(candidateName, requiredType, this); candidates.put(candidateName, (beanInstance instanceof NullBean ? null : beanInstance)); &#125; else &#123; candidates.put(candidateName, getType(candidateName)); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273@Nullableprivate Object resolveMultipleBeans(DependencyDescriptor descriptor, @Nullable String beanName, @Nullable Set&lt;String&gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) &#123; Class&lt;?&gt; type = descriptor.getDependencyType(); if (type.isArray()) &#123; Class&lt;?&gt; componentType = type.getComponentType(); ResolvableType resolvableType = descriptor.getResolvableType(); Class&lt;?&gt; resolvedArrayType = resolvableType.resolve(); if (resolvedArrayType != null &amp;&amp; resolvedArrayType != type) &#123; type = resolvedArrayType; componentType = resolvableType.getComponentType().resolve(); &#125; if (componentType == null) &#123; return null; &#125; Map&lt;String, Object&gt; matchingBeans = findAutowireCandidates(beanName, componentType, new MultiElementDescriptor(descriptor)); // æ³¨æ„è¿™é‡Œï¼Œè¿™é‡Œ new äº†ä¸€ä¸ª MultiElementDescriptor ï¼Œå’Œä¸Šè¾¹é‚£æ®µä»£ç çš„åˆ†æ”¯å¯¹åº”ä¸Šäº† if (matchingBeans.isEmpty()) &#123; return null; &#125; if (autowiredBeanNames != null) &#123; autowiredBeanNames.addAll(matchingBeans.keySet()); &#125; TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter()); Object result = converter.convertIfNecessary(matchingBeans.values(), type); if (getDependencyComparator() != null &amp;&amp; result instanceof Object[]) &#123; Arrays.sort((Object[]) result, adaptDependencyComparator(matchingBeans)); &#125; return result; &#125; else if (Collection.class.isAssignableFrom(type) &amp;&amp; type.isInterface()) &#123; Class&lt;?&gt; elementType = descriptor.getResolvableType().asCollection().resolveGeneric(); if (elementType == null) &#123; return null; &#125; Map&lt;String, Object&gt; matchingBeans = findAutowireCandidates(beanName, elementType, new MultiElementDescriptor(descriptor)); if (matchingBeans.isEmpty()) &#123; return null; &#125; if (autowiredBeanNames != null) &#123; autowiredBeanNames.addAll(matchingBeans.keySet()); &#125; TypeConverter converter = (typeConverter != null ? typeConverter : getTypeConverter()); Object result = converter.convertIfNecessary(matchingBeans.values(), type); if (getDependencyComparator() != null &amp;&amp; result instanceof List) &#123; ((List&lt;?&gt;) result).sort(adaptDependencyComparator(matchingBeans)); &#125; return result; &#125; else if (Map.class == type) &#123; ResolvableType mapType = descriptor.getResolvableType().asMap(); Class&lt;?&gt; keyType = mapType.resolveGeneric(0); if (String.class != keyType) &#123; return null; &#125; Class&lt;?&gt; valueType = mapType.resolveGeneric(1); if (valueType == null) &#123; return null; &#125; Map&lt;String, Object&gt; matchingBeans = findAutowireCandidates(beanName, valueType, new MultiElementDescriptor(descriptor)); if (matchingBeans.isEmpty()) &#123; return null; &#125; if (autowiredBeanNames != null) &#123; autowiredBeanNames.addAll(matchingBeans.keySet()); &#125; return matchingBeans; &#125; else &#123; return null; &#125;&#125;]]></content>
      <tags>
        <tag>spring</tag>
        <tag>è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨HSDBæŸ¥çœ‹javassistç”Ÿæˆçš„åŠ¨æ€class]]></title>
    <url>%2Fa7709277.html</url>
    <content type="text"><![CDATA[å‰è¨€ä»Šå¤©éœ€è¦åˆ†æžä¸€ä¸ªå·¥ç¨‹ä¸­çš„å‡ ä¸ªåŠ¨æ€ä»£ç†ç±»ï¼Œä½†æ˜¯ï¼Œè¿™å‡ ä¸ªåŠ¨æ€ä»£ç†ç±»æ˜¯ç”±javassistç”Ÿæˆçš„ï¼Œåœ¨targetä¸­æ˜¯ä¸å­˜åœ¨å…¶æ–‡ä»¶çš„ï¼Œå› æ­¤æ— æ³•ç›´æŽ¥æŸ¥çœ‹ã€‚ç„¶åŽæœç´¢äº†ä¸€ç•ªï¼Œæ‰¾åˆ°äº†ä½¿ç”¨HSDB(HotSpot Debugger)è¿™ä¸ªå·¥å…·æ¥æŸ¥çœ‹çš„åŠžæ³•ã€‚ æ­£æ–‡ç›´æŽ¥ä¸Šæ“åšæ­¥éª¤å§ï¼Œè¿™ä¸ªHSDBæœ¬å°±æ˜¯ä¸€ä¸ªå®žç”¨å·¥å…·ï¼Œå®žè·µä¸€ä¸‹å°±ä¼šç”¨äº†ã€‚ ç¬¬ä¸€æ­¥. è¿è¡Œèµ·è‡ªå·±çš„åº”ç”¨ã€‚ ç¬¬äºŒæ­¥. jps -l æ‰¾åˆ°è‡ªå·±åº”ç”¨çš„PID ç¬¬ä¸‰æ­¥. sudo java -classpath &quot;$JAVA_HOME/lib/sa-jdi.jar&quot; sun.jvm.hotspot.HSDBå¯åŠ¨HSDB ç¬¬å››æ­¥. File -&gt; Attach to HotSpot Process... Attachä¸Šè‡ªå·±åº”ç”¨çš„PID ç¬¬äº”æ­¥. Tools -&gt; Class Browser ç¬¬å…­æ­¥. æŒ‰ç…§è¦æŸ¥æ‰¾çš„åŠ¨æ€ä»£ç†ç±»çš„ç±»åä½œä¸ºå…³é”®å­—æœç´¢ï¼ˆæ¨¡ç³Šæœç´¢ï¼‰ ç¬¬ä¸ƒæ­¥. åœ¨æœåˆ°çš„ç±»ç»“æžœé¢æ¿ä¸­ç‚¹Create .class Fileï¼Œæ­¤æ—¶ä¼šåœ¨åˆšæ‰æˆ‘ä»¬æ‰§è¡Œæ‰“å¼€HSDBå‘½ä»¤çš„ç›®å½•ä¸­ç”Ÿæˆå¯¹åº”çš„.classæ–‡ä»¶ ç¬¬å…«æ­¥. ç”¨ideaæŸ¥çœ‹ç”Ÿæˆå¯¹åº”çš„.classæ–‡ä»¶å³å¯ å‚è€ƒèµ„æ–™javassist Tutorial 1 ä»Žjavaè¿›ç¨‹é‡Œdumpå‡ºç±»çš„classæ–‡ä»¶çš„å°å·¥å…·â€“dumpclass ä»ŽJVMä¸­dumpå‡ºåŠ¨æ€ä»£ç†ç”Ÿæˆçš„class é€šè¿‡HSDBæ¥äº†è§£Stringå€¼çš„çœŸèº«åœ¨å“ªé‡Œ å€ŸHSDBæ¥æŽ¢ç´¢HotSpot VMçš„è¿è¡Œæ—¶æ•°æ® å¦‚ä½•dumpå‡ºä¸€ä¸ªJavaè¿›ç¨‹é‡Œçš„ç±»å¯¹åº”çš„Classæ–‡ä»¶ï¼Ÿ Dump classes from running JVM process. ä¿å­˜java åŠ¨æ€ä»£ç†ç”Ÿæˆçš„å­—èŠ‚ç æ–‡ä»¶]]></content>
      <tags>
        <tag>JDK</tag>
        <tag>HSDB</tag>
        <tag>javassist</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽString Poolçš„å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F6c7c33f2.html</url>
    <content type="text"><![CDATA[å‰è¨€å‰å‡ å¤©åœ¨ã€ŒåŽç«¯åœˆã€ç¾¤é‡Œï¼Œæœ‰ä½åŒå­¦é—®äº†ä¸€ä¸ªå…³äºŽ java.lang.String#intern() çš„é—®é¢˜ï¼š String s11 = new String(â€œ11â€); s11.intern(); String s12 = â€œ11â€; System.out.println(s11 == s12); è¯·æ•™ä¸‹ï¼Œåº”è¯¥è¾“å‡ºtrueè¿˜æ˜¯falseï¼Ÿ åœ¨ç ”ç©¶è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæ— æ„ä¸­ï¼Œä»Žé—®é¢˜ä¸­ç‰µæ‰¯å‡ºæ¥äº†å¯¹äºŽä¸€ä¸ªæ¦‚å¿µçš„ç†è§£ã€‚ æ­£æ–‡å¤§å®¶çœ‹é—®é¢˜ä¸­çš„ String s12 = &quot;11&quot;; è¿™ä¸€æ®µä»£ç ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„å­—é¢é‡å£°æ˜Žï¼Œç»è¿‡ã€ŒåŽç«¯åœˆã€ç¾¤é‡Œå…°å¤§çš„æŒ‡å¯¼ï¼ŒåŒæ—¶åŠ ä¸Šæˆ‘è‡ªå·±çš„éªŒè¯ï¼Œæˆ‘äº†è§£åˆ°ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å­—é¢é‡çš„å£°æ˜Žä¼šåœ¨ç¼–ä»¥åŽå­˜å‚¨åˆ° class æ–‡ä»¶ä¸­çš„ classæ–‡ä»¶å¸¸é‡æ±  ä¸­ã€‚å…³äºŽè¿™ä¸€ç‚¹å¯ä»¥ç”¨ javap -v æ¥å°è¯ï¼š é‚£ä¹ˆï¼Œå°±åº”è¯¥è¯´æ˜Ž String s12 = &quot;11&quot;; è¿™é‡Œçš„11è¿™ä¸ªå­—é¢é‡ï¼Œä¼šåœ¨è¿è¡Œæ—¶å¸¸é‡æ± ç”Ÿæˆæ—¶ï¼Œè¢«å¡žåˆ°å…¶ä¸­ã€‚ä½†æ˜¯åŽæ¥æˆ‘çœ‹äº†ä¸€ä¸‹ java.lang.String#intern() çš„æ³¨é‡Šï¼Œé‡Œé¢æœ‰è¿™æ ·ä¸€æ®µæè¿°ï¼š 123...A pool of strings, initially empty, is maintained privately by the class &#123;@code String&#125;.... çœ‹å®Œè¿™ä¸ªï¼Œæˆ‘å°±äº§ç”Ÿäº†ä¸€ä¸ªç–‘é—®ï¼Œjava.lang.String#intern() èƒŒåŽçš„è¿™ä¸ª â€œPoolâ€ å’Œ è¿è¡Œæ—¶å¸¸é‡æ±  æ˜¯ä¸€å›žäº‹å—ï¼Ÿå¸¦ç€ç–‘é—®ï¼Œæˆ‘åˆæœç´¢äº†å‡ ç¯‡æ–‡ç« ï¼Œæ²¡æ‰¾åˆ°ç­”æ¡ˆã€‚åŽæ¥ï¼Œåœ¨ã€ŒJVMå‚æ•°äº¤æµç¾¤ã€é‡Œæé—®å¾—åˆ°äº†å›žå¤ï¼Œæ ¹æ®ç¬¨ç¥žä»¥åŠç¾¤é‡Œå°ä¼™ä¼´â€˜è›‹ç‚’é¥­â€™ã€â€˜åŠæ‹â€™çš„å›žç­”ï¼Œå¾—å‡ºäº†ç»“è®ºï¼ŒString Pool å’Œ è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œä¸æ˜¯ä¸€å›žäº‹ã€‚åŒæ—¶æˆ‘è¿˜æœåˆ°äº†å å°ç‹¼å¤§å¤§çš„ä¸€ç¯‡æ–‡ç«  ã€Œæ·±å…¥åˆ†æžString.internå’ŒStringå¸¸é‡çš„å®žçŽ°åŽŸç†ã€ åœ¨è¿™ç¯‡æ–‡ç« çš„æœ€åŽï¼Œé˜è¿°äº† String Pool å’Œ è¿è¡Œæ—¶å¸¸é‡æ± çš„å…³ç³»ï¼š å­—ç¬¦ä¸²å¸¸é‡ä¸€å¼€å§‹ä»¥Symbolç±»åž‹è¡¨ç¤ºï¼Œæœ€ç»ˆé€šè¿‡StringTable::internæ–¹æ³•ç”Ÿæˆå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå¹¶æŠŠå­—ç¬¦ä¸²çš„çœŸå®žå¼•ç”¨æ›´æ–°åˆ°constantPoolä¸­ï¼Œè¿™æ ·ä¸‹æ¬¡æ‰§è¡ŒldcæŒ‡ä»¤æ—¶å¯ä»¥ç›´æŽ¥è¿”å›žå¯¹è±¡å¼•ç”¨ é€šè¿‡è¿™æ®µæè¿°ï¼Œæˆ‘ç®€å•çš„ç†è§£äº†ä¸€ä¸‹å­—ç¬¦ä¸²å­—é¢é‡åœ¨ å †ã€String Pool å’Œ Constant Pool ä¸­å­˜æ”¾çš„å½¢å¼ï¼šå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ‰ä¸¤çº§ç¼“å­˜çš„ç»“æž„ã€‚çœŸå®žçš„å­—é¢é‡æ˜¯æ”¾åœ¨å †ä¸­çš„ï¼Œè€Œ String Pool å¯çœ‹ä½œæ˜¯ä¸€ä¸ªå…¨å±€ä¸€çº§ç¼“å­˜ï¼Œé‡Œé¢ç¼“å­˜ç€å †ä¸Šå¯¹åº”çš„çœŸå®žå­—ç¬¦ä¸²çš„å¼•ç”¨ï¼Œç„¶åŽ Constant Pool çœ‹ä½œæ˜¯å„ä¸ª class å¯¹åº”çš„äºŒçº§ç¼“å­˜ï¼Œé‡Œé¢å­˜æ”¾ç€æŒ‡å‘åˆšæ‰ String Pool é‡Œå¯¹åº”ç¼“å­˜å†…å®¹çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯: Javaä¸­çš„å­—ç¬¦ä¸² -&gt; Constant Pool ä¸­ç¼“å­˜å¼•ç”¨ -&gt; String Pool ä¸­ç¼“å­˜çš„å¼•ç”¨ -&gt; å †ä¸­å®žé™…çš„å­—ç¬¦ä¸² è¿™æ ·ä¸€ç§ç»“æž„ã€‚ å½“ç„¶ï¼Œå…¶å®žè¿™é‡Œè¾¹è¿˜æœ‰å¾ˆå¤šç»†èŠ‚æˆ‘è¿˜æ²¡æœ‰ç†è§£ï¼Œä¼°è®¡æ˜¯éœ€è¦çœ‹æºç æ‰èƒ½è§£å¾—äº†ï¼Œä¸è¿‡é€šè¿‡è¿™æ¬¡ç¾¤é‡Œè®¨è®ºäº†è§£åˆ°äº†ä¸€äº›æ¦‚å¿µå±‚é¢çš„ä¸œè¥¿ä¹Ÿä¸é”™ï¼ŒæŠŠåŽŸæ¥æ¨¡ç³Šçš„æ¦‚å¿µäº†è§£çš„æ¸…æ™°èµ·æ¥äº†ã€‚ å‚è€ƒèµ„æ–™Java / JVM Internals JVMå­—ç¬¦ä¸²å¸¸é‡æ± åŒè¿è¡Œæ—¶å¸¸é‡æ± å…³ç³»ç†è§£ Javaä¸­çš„å¸¸é‡æ± (å­—ç¬¦ä¸²å¸¸é‡æ± ã€classå¸¸é‡æ± å’Œè¿è¡Œæ—¶å¸¸é‡æ± ) å­—ç¬¦ä¸²å¸¸é‡æ± ã€è¿è¡Œæ—¶å¸¸é‡æ±  æ·±å…¥åˆ†æžString.internå’ŒStringå¸¸é‡çš„å®žçŽ°åŽŸç† å¦‚ä½•ç†è§£ã€Šæ·±å…¥ç†è§£javaè™šæ‹Ÿæœºã€‹ç¬¬äºŒç‰ˆä¸­å¯¹String.intern()æ–¹æ³•çš„è®²è§£ä¸­æ‰€ä¸¾çš„ä¾‹å­ï¼Ÿ Java ä¸­new String(â€œå­—é¢é‡â€) ä¸­ â€œå­—é¢é‡â€ æ˜¯ä½•æ—¶è¿›å…¥å­—ç¬¦ä¸²å¸¸é‡æ± çš„?]]></content>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ›²çº¿æ•‘å›½ï¼Œè§£å†³spring-boot2.0.6ä¸­webfluxæ— æ³•èŽ·å¾—è¯·æ±‚IPçš„é—®é¢˜]]></title>
    <url>%2F5f5b006f.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™å‡ å¤©åœ¨ç”¨ spring-boot 2 çš„ webflux é‡æž„ä¸€ä¸ªå·¥ç¨‹ï¼Œå†™åˆ°äº†ä¸€ä¸ªéœ€è¦èŽ·å¾—å®¢æˆ·ç«¯è¯·æ±‚ IP çš„åœ°æ–¹ï¼Œå‘çŽ°å†™ä¸ä¸‹åŽ»äº†ï¼Œåœ¨å¦‚ä¸‹çš„ Handlerï¼ˆwebflux ä¸­ Handler ç›¸å½“äºŽ mvc ä¸­çš„ Controllerï¼‰ä¸­ 123456789101112131415161718192021222324252627282930313233343536373839import org.springframework.beans.factory.annotation.Autowired;import org.springframework.beans.factory.annotation.Qualifier;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.http.MediaType;import org.springframework.stereotype.Component;import org.springframework.web.reactive.function.server.RouterFunction;import org.springframework.web.reactive.function.server.ServerRequest;import org.springframework.web.reactive.function.server.ServerResponse;import reactor.core.publisher.Mono;import static org.springframework.web.reactive.function.server.RequestPredicates.GET;import static org.springframework.web.reactive.function.server.RequestPredicates.accept;import static org.springframework.web.reactive.function.server.RouterFunctions.route;/** * æŸä¸šåŠ¡ Handler */@Componentpublic class SplashHandler &#123; private Mono&lt;ServerResponse&gt; execute(ServerRequest serverRequest) &#123; ... ä¸šåŠ¡ä»£ç  // serverRequest èŽ·å¾— IP ï¼Ÿ ... ä¸šåŠ¡ä»£ç  &#125; @Configuration public static class RoutingConfiguration &#123; @Bean public RouterFunction&lt;ServerResponse&gt; execute(SplashHandler handler) &#123; return route( GET("/api/ad").and(accept(MediaType.TEXT_HTML)), handler::execute ); &#125; &#125;&#125; æˆ‘å‘çŽ° org.springframework.web.reactive.function.server.ServerRequest æ ¹æœ¬æ²¡æœ‰æš´éœ²ç”¨äºŽèŽ·å¾—å®¢æˆ·ç«¯ IP çš„ APIï¼Œæƒ³æƒ³è¿™åœ¨ä¼ ç»Ÿ MVC ä¸­æ˜¯ç›¸å½“åŸºæœ¬çš„éœ€æ±‚å•Šï¼Œç«Ÿç„¶èŽ·å–ä¸åˆ°ï¼Œç„¶åŽ Google äº†ä¸€ä¸‹ï¼Œå‘çŽ°è¿™ä¸ªæ˜¯ spring-webflux çš„ä¸€ä¸ª BUGï¼Œè¿™ä¸ª BUG åœ¨ spring-webflux 5.1 ä¸­è§£å†³äº†ï¼Œä½†æ˜¯ï¼Œç•¥æœ‰äº›å°´å°¬çš„æ˜¯å½“å‰æœ€æ–°ç¨³å®šç‰ˆçš„ spring-boot è¿˜æ˜¯ä¾èµ– 5.0.x çš„ spring-webflux çš„ã€‚éš¾é“è¦ç­‰å®˜æ–¹å‡çº§ä¹ˆï¼Œé‚£ä¸çŸ¥é“å¾—ç­‰åˆ°ä»€ä¹ˆæ—¶å€™ï¼Œå› æ­¤æˆ‘æŽ¥ç€æœäº†æœèµ„æ–™ï¼Œçœ‹äº†çœ‹æ–‡æ¡£å’Œæºç ï¼Œè‡ªå·±æƒ³äº†ä¸ªæ›²çº¿æ•‘å›½çš„åŠžæ³•ã€‚ æ­£æ–‡åœ¨ spring-webflux ä¸­ï¼Œæœ‰ä¸€ä¸ª org.springframework.web.server.WebFilter æŽ¥å£ï¼Œç±»ä¼¼äºŽ Servlet API ä¸­çš„è¿‡æ»¤å™¨ï¼Œè¿™ä¸ª API æä¾›äº†ä¸€ä¸ªæ–¹æ³•ä¼šå°†ä¸€ä¸ªé™å®šåä¸º org.springframework.web.server.ServerWebExchange çš„ç±»æš´éœ²å‡ºæ¥ï¼Œè€Œåœ¨è¿™ä¸ªç±»ä¸­å°±åŒ…å«äº†å¯¹äºŽè¯·æ±‚ç«¯ IP çš„èŽ·å–æ–¹æ³•ï¼š 12org.springframework.web.server.ServerWebExchange#getRequestorg.springframework.http.server.reactive.ServerHttpRequest#getRemoteAddress å› æ­¤ï¼Œæˆ‘ä»¬å¤§å¯ä»¥å®žçŽ°ä¸€ä¸ª WebFilter åœ¨é‡Œé¢é€šè¿‡æš´éœ²çš„ ServerWebExchange æ‹¿åˆ°å®¢æˆ·ç«¯ IPï¼Œç„¶åŽå†å°†å…¶å¡žåˆ°è¯·æ±‚çš„ header ä¸­ï¼Œè¿™æ ·ï¼ŒåŽç»­è¿‡ç¨‹å°±å¯ä»¥ä»Ž header ä¸­å– IP äº†ã€‚æ€è·¯æœ‰äº†ï¼Œæˆ‘ä»¬å¼€å§‹å®žçŽ°å§ã€‚ è¿‡æ»¤ã€å– IPã€æ”¾ headerï¼Œä¸€æ°”å‘µæˆï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152import org.springframework.context.annotation.Configuration;import org.springframework.http.server.reactive.ServerHttpRequest;import org.springframework.stereotype.Component;import org.springframework.web.reactive.config.CorsRegistry;import org.springframework.web.reactive.config.WebFluxConfigurer;import org.springframework.web.server.ServerWebExchange;import org.springframework.web.server.WebFilter;import org.springframework.web.server.WebFilterChain;import reactor.core.publisher.Mono;import java.net.InetSocketAddress;import java.util.Objects;/*If you want to keep Spring Boot WebFlux features and you want to add additional WebFlux configuration, you can add your own @Configuration class of type WebFluxConfigurer but without @EnableWebFlux.If you want to take complete control of Spring WebFlux, you can add your own @Configuration annotated with @EnableWebFlux. */@Configurationpublic class WebConfiguration implements WebFluxConfigurer &#123; @Override public void addCorsMappings(CorsRegistry registry) &#123; registry .addMapping("/**") .allowedOrigins("*") .allowedMethods("GET", "POST", "PUT", "PATCH", "DELETE", "OPTION") .allowedHeaders("header1", "header2", "header3") .exposedHeaders("header1", "header2") .allowCredentials(true) .maxAge(3600); &#125; /** * https://stackoverflow.com/questions/51192630/how-do-you-get-clients-ip-address-spring-webflux-websocket?rq=1 * https://stackoverflow.com/questions/50981136/how-to-get-client-ip-in-webflux * https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-filters * ç”±äºŽåœ¨ä½Žç‰ˆæœ¬çš„ spring-webflux ä¸­ä¸æ”¯æŒç›´æŽ¥èŽ·å¾—è¯·æ±‚ IPï¼ˆhttps://jira.spring.io/browse/SPR-16681ï¼‰ï¼Œå› æ­¤å†™äº†ä¸€ä¸ªè¡¥ä¸æ›²çº¿æ•‘å›½ï¼Œ * ä»Ž org.springframework.web.server.ServerWebExchange ä¸­èŽ·å¾— IP åŽï¼Œåœ¨æ”¾åˆ° header é‡Œ */ @Component public static class RetrieveClientIpWebFilter implements WebFilter &#123; @Override public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) &#123; InetSocketAddress remoteAddress = exchange.getRequest().getRemoteAddress(); String clientIp = Objects.requireNonNull(remoteAddress).getAddress().getHostAddress(); ServerHttpRequest mutatedServerHttpRequest = exchange.getRequest().mutate().header("X-CLIENT-IP", clientIp).build(); ServerWebExchange mutatedServerWebExchange = exchange.mutate().request(mutatedServerHttpRequest).build(); return chain.filter(mutatedServerWebExchange); &#125; &#125;&#125; åŽç»­è¿‡ç¨‹ header å–å€¼ï¼š 1234private Mono&lt;ServerResponse&gt; execute(ServerRequest serverRequest) &#123; String clientIp = serverRequest.headers().asHttpHeaders().getFirst("X-CLIENT-IP") ... ä¸šåŠ¡ä»£ç &#125; é€šè¿‡ä¸Šè¿°è§£å†³æ–¹æ¡ˆï¼ˆå…¶å®žä¸¥æ ¼ä¸Šè¯´æ˜¯ hackingï¼‰å°±è§£å†³äº†æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜äº†ã€‚ å‚è€ƒèµ„æ–™How do you get Clientâ€™s IP address? (Spring WebFlux WebSocket) How to get client IP in webflux? spring-webflux å®˜æ–¹æ–‡æ¡£ç¬¬ 1.2.3. å°èŠ‚ â€˜Filtersâ€™ Spring FrameworkSPR-16681 (jira)]]></content>
      <tags>
        <tag>spring-boot</tag>
        <tag>spring-webflux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDK å‘½ä»¤è¡Œå·¥å…·ç”¨æ³•æ±‡æ€»]]></title>
    <url>%2Fc3ae467f.html</url>
    <content type="text"><![CDATA[å‰è¨€JDK ä¸­å†…ç½®äº†å¾ˆå¤šå®žç”¨çš„å°å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†ã€åˆ†æžã€è°ƒä¼˜ã€ç›‘æŽ§æœ¬åœ°çš„è´§è¿œç¨‹çš„ JVMï¼Œåœ¨æ­¤ç»Ÿä¸€è®°å½•ä¸€ä¸‹å®ƒä»¬çš„ç”¨æ³•ã€‚ æ­£æ–‡æŸ¥çœ‹æŸ Java è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œå¯ç”¨çš„å‚æ•°ç­‰ 1jps -lvm | grep &lt;Java process name&gt; æŸ¥çœ‹æˆ–ä¿®æ”¹æŸ Java è¿›ç¨‹å¯ç”¨çš„å‚æ•° æŸ¥çœ‹ 1jinfo &lt;Java processs id&gt; ä¿®æ”¹ 1jinfo -flag &lt;name&gt;=&lt;value&gt; &lt;Java processs id&gt; å‚è€ƒèµ„æ–™jinfoå‘½ä»¤è¯¦è§£]]></content>
      <tags>
        <tag>JDK</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³ JMC æ— æ³•è¿žæŽ¥è¿œç¨‹ JVM çš„é—®é¢˜]]></title>
    <url>%2Ff45b7165.html</url>
    <content type="text"><![CDATA[æ­£æ–‡è¿™å‡ å¤©çº¿ä¸Šå‡ºçŽ°äº†ä¸€äº› JVM ç›¸å…³çš„é—®é¢˜ï¼Œæ‰“ç®—ç”¨ JMC(Java Mission Control) è¿žæŽ¥è¿œç¨‹ JVM æ¥åˆ†æžä¸€ä¸‹ï¼Œè¿œç¨‹ JVM é…ç½®å¥½äº†å‚æ•°å¦‚ä¸‹ 1...å…¶ä»–å‚æ•°... -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.port=26671 -XX:+UnlockCommercialFeatures -XX:+FlightRecorder ...å…¶ä»–å‚æ•°... æœ¬ä»¥ä¸ºç”¨æœ¬åœ°çš„ JMC è¿žæŽ¥å°±å¥½äº†ï¼Œç»“æžœè¿žæŽ¥æ—¶çˆ†å‡º ...jmc Could not connect to... å¼‚å¸¸ï¼Œè¯•äº†ä¸‹ telnet ip ç«¯å£ æ­£å¸¸è¿žåŒï¼Œé‚£ä¹ˆåº”å½“ä¸æ˜¯ç‰©ç†ç½‘ç»œè¿žé€šæ€§çš„é—®é¢˜ï¼ŒåŽæ¥ Google äº†ä¸€ä¸‹ï¼Œå‘çŽ°ï¼Œå¦‚æžœæ˜¯è¦è¿žæŽ¥è¿œç¨‹ JVM æ˜¯è¦åœ¨è¿œç¨‹ JVM ä¸Šæ˜Žç¡®æŒ‡å®š JMX ç»‘å®šçš„ host çš„ï¼ŒåŠ ä¸Šäº†å¦‚ä¸‹å‚æ•° 1-Djava.rmi.server.hostname=&lt;è¿œç¨‹JVMä¸»æœºIP&gt; å°±å¯ä»¥æ­£å¸¸è¿žé€šäº†ã€‚ å‚è€ƒèµ„æ–™Cannot connect to a local JVM with JMC - unexpected IP in error message]]></content>
      <tags>
        <tag>JVM</tag>
        <tag>JMC</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽ ERR_UNSAFE_PORT]]></title>
    <url>%2Ffd1802d8.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨å…¬å¸çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†ä¸€ä¸ªæŽ¥å£ç®¡ç†å¹³å°ï¼Œä½¿ç”¨çš„6666ã€6667ã€6668è¿™å‡ ä¸ªç«¯å£ï¼ŒæœåŠ¡ç”¨curlåœ¨æœåŠ¡å™¨æœ¬åœ°å¯ä»¥æ­£å¸¸è¿žæŽ¥ï¼Œä½†æ˜¯ç”¨è‡ªå·±çš„æœºå­è¿žæŽ¥ï¼Œæµè§ˆå™¨å´æç¤ºERR_UNSAFE_PORTï¼Œè¿™ä¸ªé”™è¯¯çš„é¡µé¢é•¿çš„å¾ˆåƒERR_CONNECTION_REFUSEDè¿™ç§é¡µé¢ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹å¹¶ä¸æ˜¯ã€‚ERR_UNSAFE_PORTè¿™ç§é”™è¯¯å¹¶ä¸ä»£è¡¨è¿™ä¸ªç«¯å£å› ä¸ºæœåŠ¡å¼‚å¸¸è®¿é—®ä¸äº†ï¼Œè€Œæ˜¯å› ä¸ºæµè§ˆå™¨è®¤ä¸ºè¿™å‡ ä¸ªç«¯å£æ˜¯ç”¨ä¸Žä¸€äº›çŽ°æœ‰çš„tcpåè®®çš„ä¿ç•™ç«¯å£ï¼Œæ˜¯ä¸åº”è¯¥é€šè¿‡æµè§ˆå™¨è®¿é—®çš„ï¼Œå‡ºäºŽå®‰å…¨åŽŸå› é˜»æ­¢äº†æˆ‘ä»¬çš„è®¿é—®ã€‚è§£å†³è¿™ä¸ªé”™è¯¯çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œé¿å¼€è¿™äº›ç«¯å£å°±å¥½äº†ï¼Œæ¯”å¦‚æˆ‘é€‰ç”¨äº†60000ä»¥ä¸Šçš„3ä¸ªç«¯å£ï¼Œå°±å¯ä»¥äº†ã€‚]]></content>
      <tags>
        <tag>http</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ AspectJ å®žçŽ°é™æ€ AOP]]></title>
    <url>%2F4953a864.html</url>
    <content type="text"><![CDATA[å‰è¨€å‰æ®µæ—¶é—´åœ¨ä¸ºå…¬å¸çš„å·¥ç¨‹åŠ å…¥ AOP æ”¯æŒæ—¶ï¼Œé€‰ç”¨äº† AspectJ çš„ç¼–è¯‘æœŸç»‡å…¥é™æ€ AOP çš„å®žçŽ°æ–¹æ¡ˆï¼Œåœ¨æ­¤æ€»ç»“ä¸€ä¸‹å§ã€‚ æ­£æ–‡è¯´åˆ° AOP æƒ³å¿…å¤§å®¶å— spring ç†é™¶å¤šå¹´ï¼Œéƒ½ä¼šæœ‰æ‰€äº†è§£ã€‚åœ¨ spring ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé€‰ç”¨å…¶åŸºäºŽä»£ç†çš„åŠ¨æ€ AOP æ–¹æ¡ˆï¼Œä½†æ˜¯ï¼Œåœ¨ä¸€äº›æ¯”è¾ƒç‰¹æ®Šçš„å·¥ç¨‹ä¸­ï¼Œä½¿ç”¨åŠ¨æ€ AOP å¹¶ä¸åˆé€‚ï¼Œæ¯”å¦‚ä¸€äº›ä½¿ç”¨äº†åŸºäºŽä»£ç†æœºåˆ¶çš„ RPC æ¡†æž¶çš„å·¥ç¨‹ï¼Œå› æ­¤å°±éœ€è¦ä¸€ç§çº¯ç²¹é™æ€çš„ AOP å†³æ–¹æ¡ˆã€‚è€Œ AspectJ å°±æä¾›äº†åŸºäºŽç¼–è¯‘æœŸç»‡å…¥çš„çº¯é™æ€ AOP æ–¹æ¡ˆã€‚ é‚£ä¹ˆï¼Œè¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼ˆæˆ‘ä»¬è¿™é‡Œè®²çš„æ˜¯è„±ç¦» spring çš„ä½¿ç”¨æ–¹å¼ï¼‰ã€‚æˆ‘ä»¬é€šè¿‡å°ä¾‹å­æ¥å±•ç¤ºä¸€ä¸‹ã€‚åœ¨è¿™ä¸ªå°ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ¥åšä¸€ä¸ªåŸºäºŽæ³¨è§£çš„æ–¹æ³•è¿è¡Œè®¡æ—¶å™¨ï¼Œæœ€ç»ˆçš„æ•ˆæžœåº”è¯¥å¦‚ä¸‹ï¼š 1234567@StopWatchpublic class Scratch &#123; public void test() &#123; // do something... &#125;&#125; 12345å½“å‰çº¿ç¨‹ [main] è®¡æ—¶å¼€å§‹æ‰§è¡Œ å½“å‰çº¿ç¨‹ [main] å½“å‰æ–¹æ³• [execution(public com.xx.Scratch com.xx.Scratch.test())]å½“å‰çº¿ç¨‹ [main] è®¡æ—¶ç»“æŸï¼Œå…±è€—æ—¶ [1986 MILLISECONDS] ä¹Ÿå°±æ˜¯åœ¨ç±»çº§åˆ«åŠ ä¸Šæ³¨è§£@StopWatchå°±èƒ½å¤Ÿç»Ÿè®¡å‡ºæ¥æ­¤ç±»æ‰€æœ‰publicæ–¹æ³•çš„è¿è¡Œæ—¶é—´ã€‚ å®žçŽ°æˆ‘ä»¬æ¥çœ‹ä»£ç å§ï¼Œä¸€ç èƒœåƒè¨€ï¼š 123456789101112import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;import java.util.concurrent.TimeUnit;@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface StopWatch &#123; TimeUnit timeUnit() default TimeUnit.MILLISECONDS;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142import com.google.common.base.Stopwatch;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.*;import org.slf4j.Logger;import org.slf4j.LoggerFactory;// https://stackoverflow.com/questions/17481183/aspectj-class-level-annotation-advice-with-annotation-as-method-argument@Aspectpublic class StopWatchAspect &#123; private static final Logger LOGGER = LoggerFactory.getLogger(StopWatchAspect.class); private static Stopwatch _stopwatch; @Pointcut("execution(public * *(..))") public void publicMethod() &#123; &#125; @Pointcut(value = "@within(stopWatch)", argNames = "stopWatch") public void annotatedWithStopWatch(StopWatch stopWatch) &#123; &#125; @Pointcut(value = "publicMethod() &amp;&amp; annotatedWithStopWatch(stopWatch)", argNames = "stopWatch") public void publicMethodAnnotatedWithStopWatch(StopWatch stopWatch) &#123; &#125; @Before(value = "publicMethodAnnotatedWithStopWatch(stopWatch)", argNames = "stopWatch") public void before(StopWatch stopWatch) &#123; _stopwatch = Stopwatch.createStarted(); LOGGER.info(String.format("å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶å¼€å§‹", Thread.currentThread().getName())); &#125; @Around(value = "publicMethodAnnotatedWithStopWatch(stopWatch)", argNames = "proceedingJoinPoint,stopWatch") public Object around(ProceedingJoinPoint proceedingJoinPoint, StopWatch stopWatch) throws Throwable &#123; LOGGER.info(String.format("æ‰§è¡Œ å½“å‰çº¿ç¨‹ [%s] å½“å‰æ–¹æ³• [%s]", Thread.currentThread().getName(), proceedingJoinPoint.toLongString())); return proceedingJoinPoint.proceed(); &#125; @After(value = "publicMethodAnnotatedWithStopWatch(stopWatch)", argNames = "stopWatch") public void after(StopWatch stopWatch) &#123; LOGGER.info(String.format("å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶ç»“æŸï¼Œå…±è€—æ—¶ [%d %s] ", Thread.currentThread().getName(), _stopwatch.elapsed(stopWatch.timeUnit()), stopWatch.timeUnit().name())); &#125;&#125; ä¸Šè¾¹ä¸¤æ®µä»£ç åˆ†åˆ«å±•ç¤ºäº†æˆ‘ä»¬çš„å®šæ—¶å™¨æ³¨è§£å’Œç”¨äºŽå¤„ç†å®šæ—¶å™¨é€»è¾‘çš„åˆ‡é¢ï¼Œå› ä¸ºæˆ‘ä»¬è¦å®žçŽ°åŸºäºŽæ³¨è§£çš„è®¡æ—¶ï¼Œå¿…ç„¶ä¼šéœ€è¦è‡ªå·±å®šä¹‰ä¸€ä¸ªæ³¨è§£ï¼Œè¿™ä¸ªä¸ç”¨èµ˜è¿°ï¼Œä¸»è¦çš„ï¼Œæˆ‘ä»¬æ¥çœ‹åˆ‡é¢ä»£ç ï¼Œè¿™ä¸ªæ˜¯å®žçŽ°å®šæ—¶å™¨é€»è¾‘çš„å…³é”®ã€‚ å…ˆæ¥çœ‹ç±»å®šä¹‰ï¼š 12@Aspectpublic class StopWatchAspect &#123; è¦æƒ³å°†ä¸€ä¸ªæ™®é€šçš„ç±»å£°æ˜Žä¸ºåˆ‡é¢ï¼Œå°±éœ€è¦åŠ ä¸Šä¸€ä¸ª AspectJ è‡ªå·±çš„æ³¨è§£@Aspectï¼ŒåŠ ä¸Šè¿™ä¸ªæ³¨è§£åŽï¼ŒAspectJ å°±ä¼šè¯†åˆ«å‡ºæ¥è¿™ä¸ªç±»ï¼Œä»Žè€Œæ¥èµ°åŽç»­çš„æµç¨‹ã€‚ å†æ¥çœ‹åˆ‡å…¥ç‚¹å®šä¹‰ 1234567891011@Pointcut(&quot;execution(public * *(..))&quot;) // åœ¨æ‰€æœ‰ public æ–¹æ³•ä¸­åˆ‡å…¥public void publicMethod() &#123;&#125;@Pointcut(value = &quot;@within(stopWatch)&quot;, argNames = &quot;stopWatch&quot;) // åœ¨æ ‡æ³¨æœ‰ @StopWatch çš„ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ä¸­åˆ‡å…¥public void annotatedWithStopWatch(StopWatch stopWatch) &#123;&#125;@Pointcut(value = &quot;publicMethod() &amp;&amp; annotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;stopWatch&quot;) // åœ¨åŒæ—¶æ»¡è¶³ public ä»¥åŠæ‰€åœ¨ç±»æ ‡æ³¨æœ‰ @StopWatch è¿™ä¸¤ä¸ªæ¡ä»¶çš„æ–¹æ³•åˆ‡å…¥public void publicMethodAnnotatedWithStopWatch(StopWatch stopWatch) &#123;&#125; åœ¨ AspectJ ä¸­ä½¿ç”¨ç‰¹æ®Šçš„è¡¨è¾¾å¼æ¥å®šä¹‰åˆ‡å…¥ç‚¹ï¼Œå…·ä½“çš„è¡¨è¾¾å¼è¯­æ³•è¯·å‚ç…§å®˜æ–¹çš„æ–‡æ¡£ï¼Œåœ¨æ­¤ä¸å†å¤è¿°ã€‚ ç„¶åŽçœ‹é€šçŸ¥å®šä¹‰ 12345678910111213141516@Before(value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;stopWatch&quot;)public void before(StopWatch stopWatch) &#123; _stopwatch = Stopwatch.createStarted(); LOGGER.info(String.format(&quot;å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶å¼€å§‹&quot;, Thread.currentThread().getName()));&#125;@Around(value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;proceedingJoinPoint,stopWatch&quot;)public Object around(ProceedingJoinPoint proceedingJoinPoint, StopWatch stopWatch) throws Throwable &#123; LOGGER.info(String.format(&quot;æ‰§è¡Œ å½“å‰çº¿ç¨‹ [%s] å½“å‰æ–¹æ³• [%s]&quot;, Thread.currentThread().getName(), proceedingJoinPoint.toLongString())); return proceedingJoinPoint.proceed();&#125;@After(value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;stopWatch&quot;)public void after(StopWatch stopWatch) &#123; LOGGER.info(String.format(&quot;å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶ç»“æŸï¼Œå…±è€—æ—¶ [%d %s] &quot;, Thread.currentThread().getName(), _stopwatch.elapsed(stopWatch.timeUnit()), stopWatch.timeUnit().name()));&#125; å…³äºŽ AspectJ é€šçŸ¥çš„ç±»åž‹è¯·å‚çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†@Beforeã€@Aroundå’Œ@Afterè¿™ä¸‰ç§ï¼Œåˆ†åˆ«åœ¨å…¶ä¸­å¼€å¯è®¡æ—¶å™¨ã€è¾“å‡ºè¿è¡Œæ–¹æ³•ç­¾åä¿¡æ¯å’Œç»“æŸè®¡æ—¶ã€‚ è¿™æ ·åŸºæœ¬çš„åˆ‡é¢é€»è¾‘æˆ‘ä»¬å°±å†™å¥½äº†ï¼Œä½†æ˜¯ï¼Œåªæœ‰è¿™äº›åˆ‡é¢é€»è¾‘æ˜¯ä¸èƒ½åœ¨è¿è¡Œæ—¶å®žçŽ°çœŸæ­£çš„æˆ‘ä»¬æƒ³è¦å®žçŽ°çš„ AOP é€»è¾‘çš„ï¼Œè¿˜éœ€è¦ç»‡å…¥çš„è¿‡ç¨‹ï¼ˆæˆ‘ä»¬é€‰ç”¨ç¼–è¯‘æœŸç»‡å…¥ï¼Œæ‰€ä»¥æ˜¯åœ¨ç¼–è¯‘æ—¶å®Œæˆç»‡å…¥çš„ï¼‰ã€‚ æˆ‘ä»¬æ¥çœ‹ç»‡å…¥çš„é…ç½® 12345678910&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;$&#123;version.aspectjrt&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;$&#123;version.aspectjweaver&#125;&lt;/version&gt;&lt;/dependency&gt; 12345678910111213141516&lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt; &lt;version&gt;$&#123;version.aspectj-maven-plugin&#125;&lt;/version&gt; &lt;configuration&gt; &lt;complianceLevel&gt;$&#123;maven.compiler.target&#125;&lt;/complianceLevel&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; é…ç½®ç¼–è¯‘æœŸç»‡å…¥éœ€è¦æˆ‘ä»¬é…ç½®å¥½ AspectJ çš„ä¾èµ–ä»¥åŠ maven æ’ä»¶ï¼Œæœ‰äº†è¿™äº›ä¹‹åŽï¼Œåœ¨ç¼–è¯‘æ—¶ï¼ŒAspectJ ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆå¦‚ä¸‹è¿™æ ·çš„ .classï¼ˆä»¥ä¸‹ä¸ºåç¼–è¯‘ç”Ÿæˆçš„ä»£ç ï¼‰ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970//// Source code recreated from a .class file by IntelliJ IDEA// (powered by Fernflower decompiler)//import com.google.common.base.Stopwatch;import org.aspectj.lang.NoAspectBoundException;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.After;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.slf4j.Logger;import org.slf4j.LoggerFactory;@Aspectpublic class StopWatchAspect &#123; private static final Logger LOGGER = LoggerFactory.getLogger(StopWatchAspect.class); private static Stopwatch _stopwatch; static &#123; try &#123; ajc$postClinit(); &#125; catch (Throwable var1) &#123; ajc$initFailureCause = var1; &#125; &#125; public StopWatchAspect() &#123; &#125; @Before( value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;stopWatch&quot; ) public void before(StopWatch stopWatch) &#123; _stopwatch = Stopwatch.createStarted(); LOGGER.info(String.format(&quot;å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶å¼€å§‹&quot;, Thread.currentThread().getName())); &#125; @Around( value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;proceedingJoinPoint,stopWatch&quot; ) public Object around(ProceedingJoinPoint proceedingJoinPoint, StopWatch stopWatch) throws Throwable &#123; ajc$inlineAccessFieldGet$com_bj58_jxedt_pay_unity_core_stopwatch_StopWatchAspect$com_bj58_jxedt_pay_unity_core_stopwatch_StopWatchAspect$LOGGER().info(String.format(&quot;æ‰§è¡Œ å½“å‰çº¿ç¨‹ [%s] å½“å‰æ–¹æ³• [%s]&quot;, Thread.currentThread().getName(), proceedingJoinPoint.toLongString())); return proceedingJoinPoint.proceed(); &#125; @After( value = &quot;publicMethodAnnotatedWithStopWatch(stopWatch)&quot;, argNames = &quot;stopWatch&quot; ) public void after(StopWatch stopWatch) &#123; LOGGER.info(String.format(&quot;å½“å‰çº¿ç¨‹ [%s] è®¡æ—¶ç»“æŸï¼Œå…±è€—æ—¶ [%d %s] &quot;, Thread.currentThread().getName(), _stopwatch.elapsed(stopWatch.timeUnit()), stopWatch.timeUnit().name())); &#125; public static StopWatchAspect aspectOf() &#123; if (ajc$perSingletonInstance == null) &#123; throw new NoAspectBoundException(&quot;com.bj58.jxedt.pay.unity.core.stopwatch.StopWatchAspect&quot;, ajc$initFailureCause); &#125; else &#123; return ajc$perSingletonInstance; &#125; &#125; public static boolean hasAspect() &#123; return ajc$perSingletonInstance != null; &#125;&#125; å¯¹æ¯”å‰é¢æˆ‘ä»¬å†™çš„åˆ‡é¢ä»£ç ï¼Œè¿™ä¸ªç”Ÿæˆçš„ .class å¤šäº†ä¸€äº›ç”Ÿæˆå‡ºæ¥çš„å†…å®¹ï¼Œè¿™äº›å†…å®¹æ˜¯ AspectJ ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„ï¼Œç”Ÿæˆäº†è¿™äº›ä¹‹åŽï¼Œå°±å®žçŽ°äº†æˆ‘ä»¬çœŸæ­£çš„ AOP é€»è¾‘äº†ã€‚ åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å°±å®Œæˆäº† AspectJ ç¼–è¯‘æœŸç»‡å…¥ AOP çš„ä»£ç ç¼–å†™äº†ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨äº†ã€‚åœ¨è¿™é‡Œè¡¥å……ä¸€ç‚¹ï¼Œåœ¨ä¸€äº›éœ€è¦æŽ’é™¤æŽ‰å…¼å®¹æ€§å›°æ‰°çš„åœºæ™¯ä¸­æŽ¨èé€‰æ‹©ç¼–è¯‘æœŸç»‡å…¥ï¼Œè€Œä¸æ˜¯å…¶ä»–ç»‡å…¥æ–¹å¼ï¼Œå› ä¸ºç¼–è¯‘æœŸç»‡å…¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆäº† AOP é€»è¾‘ï¼Œå¦‚æžœæœ‰ä¸å…¼å®¹çš„æƒ…å†µï¼Œæ—©åœ¨ç¼–è¯‘æœŸå°±èƒ½å‘çŽ°ï¼Œè¿™æ ·å°±ç¡®ä¿äº†åœ¨åŠ è½½æœŸå’Œè¿è¡ŒæœŸæ˜¯å…¼å®¹çš„ç¨³å®šçš„ã€‚ å‚è€ƒèµ„æ–™Intro to AspectJ]]></content>
      <tags>
        <tag>AOP</tag>
        <tag>AspectJ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ€»ç»“ä¸€ä¸‹è‡ªå·±åœ¨å®žè·µä¸Žæ€è€ƒä¸­å½¢æˆçš„ç¼–ç è§„èŒƒ]]></title>
    <url>%2F6e0cf8e6.html</url>
    <content type="text"><![CDATA[å‰è¨€è¿™æ®µæ—¶é—´ï¼Œå…¬å¸é¢†å¯¼è®©æˆ‘åšäº†ä¸€äº›æ•´ç†å·¥ç¨‹è§„èŒƒç›¸å…³çš„äº‹ï¼Œè¶æ­¤æœºä¼šï¼Œæˆ‘ä¹ŸæŠŠä»¥å‰åœ¨è§„èŒƒæ–¹é¢çš„å®žè·µå’Œæ€è€ƒåœ¨è¿™é‡Œåšä¸ªæ•´ç†ï¼Œé˜¶æ®µæ€§çš„æ€»ç»“ä¸€ä¸‹ï¼Œä»¥åŽè¿˜éœ€è¦ä¸æ–­æ›´æ–°ã€‚ æ­£æ–‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * åŽŸåˆ™ * &lt;ul&gt; * &lt;li&gt;ä¸€è‡´ï¼ˆä¸€è‡´çš„ç¼©è¿›é‡ã€ä¸€è‡´çš„ç©ºè¡Œä½ç½®ã€ä¸€è‡´çš„å‘½åï¼Œç­‰ï¼‰&lt;/li&gt; * &lt;li&gt;ç›´è§‰ï¼ˆä¸è¿èƒŒç›´è§‰ï¼Œæ‰€è§å³æ‰€æƒ³ä¹Ÿå³æ‰€å¾—ï¼‰&lt;/li&gt; * &lt;li&gt;è¯­ä¹‰ï¼ˆæœ‰æ„ä¹‰çš„å‘½åã€ä¸åšç‰ºç‰²æˆ–è¿èƒŒè¯­ä¹‰çš„ä¼˜åŒ–ï¼Œå†™ç»™äººçœ‹çš„ä»£ç ï¼‰&lt;/li&gt; * &lt;/ul&gt; * &lt;p&gt; * å·¥ç¨‹ç»“æž„ * &lt;ul&gt; * &lt;li&gt;åŒ…é¡¶å±‚è·¯å¾„æŒ‰ä¸šåŠ¡æ¨¡å—åˆ‡åˆ†&lt;/li&gt; * &lt;li&gt;ä½¿ç”¨ä¸¥æ ¼çš„åˆ†å±‚æ¨¡åž‹ï¼Œè¯·åŠ¡å¿…éµå®ˆï¼Œæ‰€æœ‰ä»£ç åªå‡ºçŽ°åœ¨å®ƒåº”è¯¥å‡ºçŽ°çš„åœ°æ–¹&lt;/li&gt; * &lt;/ul&gt; * &lt;p&gt; * ä»£ç ç¼–å†™ * &lt;ul&gt; * &lt;li&gt;ä»£ç çš„è¯­ä¹‰ä¼˜å…ˆï¼Œä¸è¦ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ç­‰å€Ÿå£æ”¾å¼ƒä»£ç çš„è¯­ä¹‰&lt;/li&gt; * * &lt;li&gt;ç¦æ­¢ä½¿ç”¨ç¼©å†™å‘½åï¼Œç¼©å†™å‘½åè‡ªå·±éƒ½çœ‹ä¸æ‡‚ï¼Œæ›´åˆ«æç»™åˆ«äººçœ‹äº†ï¼Œä½¿ç”¨æœ‰æ„ä¹‰çš„è‹±è¯­å‘½åï¼Œä¸è¦æ€•åå­—é•¿ï¼Œå®žåœ¨å–œæ¬¢çŸ­å‘½åï¼Œå¯ä»¥è€ƒè™‘ä»£ç æ··æ·†å™¨ï¼Œæ··æ·†å‡ºæ¥çš„ä»£ç è¿žåŒ…éƒ½å¾ˆçŸ­&lt;/li&gt; * &lt;li&gt;ç¦æ­¢åœ¨å‘½åä¸­ä½¿ç”¨é”™å­—ï¼ˆä»¥ IDE æ²¡æœ‰æ³¢æµªçº¿æç¤ºä¸ºå‡†ï¼‰&lt;/li&gt; * &lt;li&gt;å˜é‡åä½¿ç”¨å°é©¼å³°å‘½åï¼Œç±»åä½¿ç”¨å¤§é©¼å³°å‘½å&lt;/li&gt; * &lt;li&gt;æ‰€æœ‰å¸¸é‡å®šä¹‰åœ¨ Constants ä¸­ï¼Œç¦æ­¢å¤šå¤„å®šä¹‰å¸¸é‡ï¼Œï¼ˆä½†å¯å¤šå¤„å®šä¹‰æžšä¸¾ï¼‰å¸¸é‡ç±»ä¸º final ç±»ï¼ˆä¹Ÿå°±æ˜¯ç¦æ­¢ç»§æ‰¿ï¼‰&lt;/li&gt; * &lt;li&gt;å¸¸é‡ï¼ˆstatic finalï¼‰ç¦æ­¢ä½¿ç”¨å°å†™å‘½åï¼Œä½¿ç”¨å¤§å†™ + ä¸‹åˆ’çº¿æ–¹å¼å‘½å&lt;/li&gt; * &lt;li&gt;æŽ¥å£ç¦æ­¢ä½¿ç”¨ I å¼€å¤´ï¼Œå®žçŽ°ä½¿ç”¨ Impl åŽç¼€ï¼ŒæŽ¥å£ä¸Žå®žçŽ°å†™åœ¨åŒä¸€åŒ…ä¸‹ï¼Œä¸è¦ä¸ºå®žçŽ°åœ¨å»ºä¸€ä¸ªå±‚çº§çš„åŒ…&lt;/li&gt; * &lt;li&gt;ç¦ç”¨å¤§å†™æ–¹æ³•å&lt;/li&gt; * * &lt;li&gt;å†™å®ŒåŽè¯·éšæ‰‹æ ¼å¼åŒ–ï¼ˆè¯·ç»Ÿä¸€ä½¿ç”¨ IDE é»˜è®¤æ ¼å¼åŒ–è§„åˆ™ï¼‰&lt;/li&gt; * &lt;li&gt;IDE æŠ¥é»„è‰²è­¦å‘Šçš„åœ°æ–¹ï¼Œçœ‹ä¸€ä¸‹æ˜¯ä»€ä¹ˆåŽŸå› ï¼Œå°½åŠ›æ¶ˆé™¤æœ‰è­¦å‘Šçš„ä»£ç ï¼Œè¿™æ ·éšæ‰‹å°±æ˜¯ä¼˜åŒ–&lt;/li&gt; * &lt;li&gt;æ–¹æ³•å’Œæ–¹æ³•å˜é‡å’Œå˜é‡ä¹‹é—´ä¿æŒä¸€è‡´æ•°é‡çš„ç©ºè¡Œï¼Œæ–¹æ³•ä½“å†…ç¬¬ä¸€è¡Œä¸èƒ½ä¸ºç©ºè¡Œï¼ˆåŒ¿åå†…éƒ¨ç±»æ–¹æ³•é™¤å¤–ï¼‰ï¼Œç±»çš„å¼€å§‹å¤§æ‹¬å·ä¸‹ç•™ä¸€è¡Œç©ºè¡Œï¼Œç»“æŸå¤§æ‹¬å·ä¸Šè¾¹ä¸èƒ½æ˜¯ç©ºè¡Œ&lt;/li&gt; * * &lt;li&gt;ç¦æ­¢åœ¨æ–¹æ³•ä¸­ä¿ç•™æ³¨é‡Šçš„ä»£ç ï¼ˆè¯·å°†å…¶å‰ªåˆ‡ä¿å­˜åˆ°åˆ«å‡ºï¼‰&lt;/li&gt; * &lt;li&gt;ç¦æ­¢ä¿ç•™ IDE ç”Ÿæˆçš„ TODOæ ‡ç­¾ï¼Œç­‰è‡ªåŠ¨ç”Ÿæˆé¡¹&lt;/li&gt; * &lt;li&gt;ç¦æ­¢å†™ä¸å¿…è¦çš„æ³¨é‡Šï¼ˆä¸è¦é‡å¤è‡ªå·±ï¼‰ï¼Œæ–¹æ³•ã€å˜é‡çœ‹åå­—å°±èƒ½çŸ¥é“ä»€ä¹ˆè¯­ä¹‰ï¼Œå°±æ— éœ€æ³¨é‡Šäº†ï¼Œæ‰€ä»¥å‘½åéµå®ˆè¯­ä¹‰åŒ–å¾ˆé‡è¦&lt;/li&gt; * &lt;li&gt;æ³¨é‡Šä¸­çš„ param å’Œ return å¦‚æžœæ„Ÿè§‰ä¸éœ€è¦å†™ï¼Œç›´æŽ¥åŽ»æŽ‰ï¼ä¸è¦ä¿ç•™ç©ºçš„ param å’Œ return&lt;/li&gt; * * &lt;li&gt;è‹¥ç±»æˆ–æ–¹æ³•ä¸Šéœ€è¦åŠ å¤šä¸ªæ³¨è§£ï¼Œé‚£ä¹ˆåœ¨æ‰€æœ‰éœ€è¦åŠ å¤šä¸ªæ³¨è§£çš„åœ°æ–¹ï¼ŒæŒ‰ç…§åŒæ ·é¡ºåºæŽ’åˆ—è¿™äº›æ³¨è§£ï¼Œå¹¶ä¸”æŒ‰ç…§æ³¨è§£çš„ç­‰çº§ä»Žä¸‹å‘ä¸ŠæŽ’åˆ—ï¼ˆé€šç”¨çš„åœ¨ä¸‹è¾¹ï¼Œç‰¹å±žçš„åœ¨ä¸Šè¾¹ï¼‰&lt;/li&gt; * * &lt;li&gt;ä¸å»ºè®®æ·±åº¦ä¼˜å…ˆçš„åŒ…è·¯å¾„ï¼Œè¯·ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆçš„åŒ…è·¯å¾„ï¼Œå¹¶ç”¨å‰ç¼€æˆ–åŽç¼€åŒºåˆ†åŒ…ä¸‹çš„ç±»&lt;/li&gt; * &lt;li&gt;ç¦æ­¢ä¿ç•™æ— ç”¨çš„ import&lt;/li&gt; * * &lt;li&gt;æ‰€æœ‰å¼‚å¸¸ä¸è¦ catch ç›´æŽ¥ throw åˆ°ä¸Šå±‚ï¼Œåœ¨åˆ°è¾¾å‰ç«¯ä¹‹å‰ç»Ÿä¸€ä½¿ç”¨ AOP æ–¹å¼å¤„ç†&lt;/li&gt; * * &lt;li&gt;maven ä¸­ä¾èµ–é¡¹è¯·å®‰ç»„æŽ’åˆ—&lt;/li&gt; * &lt;li&gt;maven ä¸­ç¦æ­¢å¼•å…¥ä¸éœ€è¦çš„ä¾èµ–å’Œæ’ä»¶&lt;/li&gt; * &lt;li&gt;maven ä¸­æ˜Žç¡®æŒ‡å®š Java ç‰ˆæœ¬&lt;/li&gt; * &lt;/ul&gt; */]]></content>
      <tags>
        <tag>è§„èŒƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macOS ä¸­å¿«é€Ÿåœ¨å¤šä¸ªä¸åŒ Jdk ç‰ˆæœ¬é—´åˆ‡æ¢]]></title>
    <url>%2F6077f21b.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä¸€èˆ¬ï¼Œæˆ‘ä»¬çš„æœºå™¨ä¸Šä¼šåŒæ—¶å®‰è£…å¤šä¸ªç‰ˆæœ¬çš„ Jdk ï¼Œé»˜è®¤çš„ï¼ŒmacOS ä¼šé€‰æ‹©æœ€é«˜ç‰ˆæœ¬ Jdk ä½œä¸ºé»˜è®¤ Jdkï¼Œè¿™æ ·å¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚è¯´ï¼Œæœ‰äº›ä¸­é—´ä»¶ä¸æ”¯æŒæœ€æ–°çš„ Jdk å¦‚ Jdk10ï¼Œæˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ°ä½Žç‰ˆæœ¬åŽ»ï¼Œæ€Žæ ·æœ€çµæ´»çš„å®žçŽ°åœ¨ä¸åŒç‰ˆæœ¬ Jdk ä¹‹é—´å¿«é€Ÿåˆ‡æ¢å‘¢ï¼Œå¯ä»¥ä½¿ç”¨ shell æ¥æžå®šã€‚ å®žæˆ˜åœ¨å½“å‰ shell å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸­ï¼ˆæˆ‘ç”¨çš„ zshï¼Œé…ç½®æ–‡ä»¶ä¸º ~/.zshrcï¼‰åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š 1234# Switch Java version æœ‰å¤šå°‘ä¸ªç‰ˆæœ¬çš„ Jdk å°±å†™å¤šå°‘ä¸ªalias java10=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 10`; java -version&quot;alias java8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;alias java7=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.7`; java -version&quot; ç„¶åŽsource ~/.zshrcä½¿å…¶ç”Ÿæ•ˆï¼ˆsource shell å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼‰ è¿™æ ·åœ¨æƒ³è¦è¿è¡Œç‰¹å®šç‰ˆæœ¬çš„ Jdk æ‰èƒ½æ”¯æŒçš„ä¸­é—´ä»¶æ—¶ï¼Œæ¯”å¦‚å¿…é¡» Jdk8ï¼Œå°±ä½¿ç”¨java8è¿™ä¸ªå‘½ä»¤åˆ‡æ¢åˆ° Jdk8 çŽ¯å¢ƒåŽï¼Œå†è¿è¡Œç›¸å…³ç¨‹åºå°±å¥½äº†ï¼Œå½“ç„¶ï¼Œé€€å‡º shell åŽä¼šæ¢å¤åˆ°ç³»ç»Ÿé»˜è®¤é…ç½®ï¼ŒçŽ°ç”¨çŽ°è¿è¡Œå°±å¥½äº†ã€‚ å‚è€ƒèµ„æ–™Switching Java versions on Mac OS How to set or change the default Java (JDK) version on OS X?]]></content>
      <tags>
        <tag>macOS</tag>
        <tag>Jdk</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®© MyBatis Generator ç”¨æ•°æ®åº“æ³¨é‡Šä½œ Java æ³¨é‡Šï¼Œå¹¶æ”¯æŒé™„åŠ æ³¨è§£]]></title>
    <url>%2Fbbefb134.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯è¿™ä¸¤å¤©è¯¦ç»†äº†è§£äº† MyBatis Generator è¿™æ¬¾å·¥å…·ï¼Œå®ƒç”Ÿæˆ POJO ä»¥åŠ Mapper çš„åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå®žç”¨çš„ï¼Œè€Œä¸”ç”±äºŽç”Ÿæˆçš„ä»£ç ä¹Ÿæ˜¯å·¥ç¨‹ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œè‡ªå®šä¹‰èµ·æ¥ç›¸å¯¹åº“æ¥è¯´ä¹Ÿä¼šæ–¹ä¾¿ä¸€äº›ï¼Œå› æ­¤æˆ‘æ‰“ç®—å°†å…¶ç”¨äºŽå…¬å¸çš„å·¥ç¨‹ä¸­ã€‚ä½†æ˜¯ï¼ŒMyBatis Generator ä¹Ÿæ˜¯æœ‰ä¸€äº›ä¸è¶³çš„ï¼Œå…¶é»˜è®¤ç”Ÿæˆçš„ Java æ³¨é‡Šå®žåœ¨æƒ¨ä¸å¿ç¹ï¼ŒåŒ…å«äº†å¤§é‡é‡å¤çš„æ— æ•ˆä¿¡æ¯ï¼›æ­¤å¤–ï¼Œæˆ‘æƒ³å®žçŽ°åœ¨æ•°æ®åº“ä¸­å†™ä¸€æ¬¡æ³¨é‡Šï¼Œåœ¨ Java ä»£ç ä¸­å¤ç”¨è¿™ç§æ•ˆæžœï¼ŒåŒæ—¶è¿˜éœ€è¦åœ¨ç”Ÿæˆ Java POJO çš„è¿‡ç¨‹ä¸­é™„åŠ ä¸Šå…¬å¸è‡ªç ” RPC æ¡†æž¶çš„æ³¨è§£ã€‚è¿™ä¸¤ç‚¹åŠŸèƒ½ MyBatis Generator é»˜è®¤æä¾›çš„æ³¨é‡Šç”Ÿæˆå™¨æ˜¯ä¸èƒ½å¾ˆå¥½çš„æ”¯æŒçš„ã€‚å› æ­¤éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ³¨é‡Šç”Ÿæˆå™¨æ¥å®žçŽ°è¿™äº›ç‰¹å®šçš„éœ€æ±‚ã€‚ å®žçŽ°æƒ³è¦è‡ªå·±å®šä¹‰æ³¨é‡Šç”Ÿæˆå™¨ï¼Œå…ˆè¦æ‰¾åˆ° MyBatis Generator æä¾›çš„æ³¨é‡Šç”Ÿæˆå™¨æŽ¥å£ã€‚è¿™ä¸ªæŽ¥å£æ˜¯ org.mybatis.generator.api.CommentGenerator å…¶é»˜è®¤å®žçŽ°ä¸º org.mybatis.generator.internal.DefaultCommentGenerator ï¼ˆé»˜è®¤å®žçŽ°ä¹Ÿæ˜¯å”¯ä¸€å®žçŽ°ï¼‰ï¼Œå…¶å®žæˆ‘ç¿»äº†ä¸€ç¿» DefaultCommentGenerator çš„ä»£ç ï¼Œå‘çŽ°å…¶é»˜è®¤æ˜¯æ”¯æŒå°†æ•°æ®åº“æ³¨é‡Šä½œä¸ºç”Ÿæˆçš„ Java ç±»çš„æ³¨é‡Šçš„ï¼Œåªæ˜¯åŠŸèƒ½é»˜è®¤æ˜¯å…³é—­çš„ï¼Œä½†æ˜¯é™„åŠ æ³¨è§£ï¼Œé»˜è®¤å®žçŽ°æ˜¯ä¸æ”¯æŒçš„ï¼Œæˆ‘ä»¬å°±æ¥è‡ªå·±å®žçŽ°å§ã€‚ç”±äºŽ MyBatis Generator å¹¶æ²¡æœ‰ä¸ºæˆ‘ä»¬æä¾›æŠ½è±¡ç±»çº§åˆ«çš„ç”Ÿæˆå™¨ï¼Œåªæœ‰ä¸€ä¸ªé¡¶å±‚å€Ÿå£ï¼Œè€Œä¸”é¡¶å±‚æŽ¥å£åŒ…å«äº†è¿‡é‡çš„æ–¹æ³•ï¼Œå¤§éƒ¨åˆ†æˆ‘ä»¬éƒ½ç”¨ä¸åˆ°ï¼Œå› æ­¤ä»¬éœ€è¦è‡ªå·±å®žçŽ°ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ¥å±è”½ä¸éœ€è¦çš„æ–¹æ³•æŽ¥å£ï¼Œç„¶åŽè®©è‡ªå®šä¹‰æ³¨é‡Šç”Ÿæˆå™¨ç»§æ‰¿æŠ½è±¡ç±»ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ç›´æŽ¥ç»§æ‰¿é»˜è®¤å®žçŽ°ï¼Œä½†æˆ‘è§‰å¾—é‚£ä¸æ˜¯å¥½çš„é€‰æ‹©ï¼‰ã€‚ æ‹¿èµ·é”®ç›˜å°±æ˜¯å¹²ï¼å“ˆå“ˆï¼Œæ•²ä»£ç å§ï¼ˆå·¥ç¨‹åœ¨æˆ‘çš„ GitHub ä¸Šï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104package io.github.since1986.mybatis.comment.generator;import org.mybatis.generator.api.CommentGenerator;import org.mybatis.generator.api.IntrospectedColumn;import org.mybatis.generator.api.IntrospectedTable;import org.mybatis.generator.api.dom.java.*;import org.mybatis.generator.api.dom.xml.XmlElement;import java.util.Properties;import java.util.Set;// æŠ½è±¡ç±»ï¼Œå±è”½æŽ‰æŽ¥å£ä¸­è¿‡å¤šçš„ä¸éœ€è¦å®žçŽ°çš„æ–¹æ³•ï¼Œä¸éœ€è¦çš„ä»€ä¹ˆéƒ½ä¸åšå°±å¥½äº†public abstract class AbstractCommentGenerator implements CommentGenerator &#123; @Override public void addConfigurationProperties(Properties properties) &#123; &#125; @Override public void addFieldComment(Field field, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) &#123; &#125; @Override public void addFieldComment(Field field, IntrospectedTable introspectedTable) &#123; &#125; @Override public void addModelClassComment(TopLevelClass topLevelClass, IntrospectedTable introspectedTable) &#123; &#125; @Override public void addClassComment(InnerClass innerClass, IntrospectedTable introspectedTable) &#123; &#125; @Override public void addClassComment(InnerClass innerClass, IntrospectedTable introspectedTable, boolean markAsDoNotDelete) &#123; &#125; @Override public void addEnumComment(InnerEnum innerEnum, IntrospectedTable introspectedTable) &#123; &#125; @Override public void addGetterComment(Method method, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) &#123; &#125; @Override public void addSetterComment(Method method, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) &#123; &#125; @Override public void addGeneralMethodComment(Method method, IntrospectedTable introspectedTable) &#123; &#125; @Override public void addJavaFileComment(CompilationUnit compilationUnit) &#123; &#125; @Override public void addComment(XmlElement xmlElement) &#123; &#125; @Override public void addRootComment(XmlElement rootElement) &#123; &#125; @Override public void addGeneralMethodAnnotation(Method method, IntrospectedTable introspectedTable, Set&lt;FullyQualifiedJavaType&gt; imports) &#123; &#125; @Override public void addGeneralMethodAnnotation(Method method, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn, Set&lt;FullyQualifiedJavaType&gt; imports) &#123; &#125; @Override public void addFieldAnnotation(Field field, IntrospectedTable introspectedTable, Set&lt;FullyQualifiedJavaType&gt; imports) &#123; &#125; @Override public void addFieldAnnotation(Field field, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn, Set&lt;FullyQualifiedJavaType&gt; imports) &#123; &#125; @Override public void addClassAnnotation(InnerClass innerClass, IntrospectedTable introspectedTable, Set&lt;FullyQualifiedJavaType&gt; imports) &#123; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117package io.github.since1986.mybatis.comment.generator;import org.mybatis.generator.api.IntrospectedColumn;import org.mybatis.generator.api.IntrospectedTable;import org.mybatis.generator.api.dom.java.Field;import org.mybatis.generator.api.dom.java.FullyQualifiedJavaType;import org.mybatis.generator.api.dom.java.TopLevelClass;import org.mybatis.generator.config.PropertyRegistry;import org.mybatis.generator.internal.util.StringUtility;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.util.LinkedList;import java.util.List;import java.util.Properties;import java.util.StringTokenizer;// è¿™ä¸ªæ˜¯æˆ‘ä»¬å…·ä½“çš„å®žçŽ°ï¼Œå¯ä»¥å€Ÿé‰´é»˜è®¤å®žçŽ°çš„ä¸€äº›åŠžæ³•åŽ»å†™public class CommentWithAnnotationCommentGenerator extends AbstractCommentGenerator &#123; private static final Logger LOGGER = LoggerFactory.getLogger(CommentWithAnnotationCommentGenerator.class); private static final String SUPPRESS_ALL_ANNOTATIONS = "suppressAllAnnotations"; private static final String FIELD_ANNOTATION_FULLY_QUALIFIED_NAMES = "fieldAnnotationFullyQualifiedNames"; private static final String CLASS_ANNOTATION_FULLY_QUALIFIED_NAMES = "classAnnotationFullyQualifiedNames"; private static final String FIELD_COMMENT_TEMPLATE = "/** %s */"; private static final String CLASS_COMMENT_TEMPLATE = "/** %s */"; private Properties properties = new Properties(); // ä¿ç•™å®˜æ–¹çš„é‡è¦è®¾ç½®å±žæ€§ï¼Œè¿™æ ·æ›´ç¬¦åˆç›´è§‰ private boolean suppressAllComments; private boolean suppressAllAnnotations; private List&lt;String&gt; fieldAnnotationFullyQualifiedNames = new LinkedList&lt;&gt;(); private List&lt;String&gt; classAnnotationFullyQualifiedNames = new LinkedList&lt;&gt;(); @Override public void addConfigurationProperties(Properties properties) &#123; this.properties.putAll(properties); suppressAllComments = StringUtility.isTrue(this.properties.getProperty(PropertyRegistry.COMMENT_GENERATOR_SUPPRESS_ALL_COMMENTS)); suppressAllAnnotations = StringUtility.isTrue(this.properties.getProperty(SUPPRESS_ALL_ANNOTATIONS)); fieldAnnotationFullyQualifiedNames.addAll(Util.toList(this.properties.getProperty(FIELD_ANNOTATION_FULLY_QUALIFIED_NAMES))); classAnnotationFullyQualifiedNames.addAll(Util.toList(this.properties.getProperty(CLASS_ANNOTATION_FULLY_QUALIFIED_NAMES))); &#125; @Override public void addFieldComment(Field field, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) &#123; if (!suppressAllComments &amp;&amp; Util.isNotBlank(introspectedColumn.getRemarks())) &#123; LOGGER.debug(String.format("field = %s, column = %s, columnRemarks = %s", field.getName(), introspectedColumn.getActualColumnName(), introspectedColumn.getRemarks())); field.addJavaDocLine(String.format(FIELD_COMMENT_TEMPLATE, introspectedColumn.getRemarks())); &#125; if (!suppressAllAnnotations) &#123; LOGGER.debug(String.format("fieldAnnotationFullyQualifiedNames = %s]", fieldAnnotationFullyQualifiedNames)); fieldAnnotationFullyQualifiedNames.forEach(fieldAnnotationFullyQualifiedName -&gt; &#123; field.addJavaDocLine(Util.atAnnotationName(fieldAnnotationFullyQualifiedName)); &#125;); &#125; else &#123; LOGGER.debug(String.format("suppressAllComments = %b, suppressAllAnnotations = %b", suppressAllComments, suppressAllAnnotations)); &#125; &#125; @Override public void addModelClassComment(TopLevelClass topLevelClass, IntrospectedTable introspectedTable) &#123; if (!suppressAllComments &amp;&amp; Util.isNotBlank(introspectedTable.getRemarks())) &#123; LOGGER.debug(String.format("class = %s, table = %s, tableRemarks = %s", topLevelClass.getType(), introspectedTable.getFullyQualifiedTable(), introspectedTable.getRemarks())); topLevelClass.addJavaDocLine(String.format(CLASS_COMMENT_TEMPLATE, introspectedTable.getRemarks())); &#125; if (!suppressAllAnnotations) &#123; LOGGER.debug(String.format("classAnnotationFullyQualifiedNames = %s]", classAnnotationFullyQualifiedNames)); classAnnotationFullyQualifiedNames.forEach(classAnnotationFullyQualifiedName -&gt; &#123; topLevelClass.addJavaDocLine(Util.atAnnotationName(classAnnotationFullyQualifiedName)); topLevelClass.addImportedType(new FullyQualifiedJavaType(classAnnotationFullyQualifiedName)); &#125;); fieldAnnotationFullyQualifiedNames.forEach(fieldAnnotationFullyQualifiedName -&gt; &#123; topLevelClass.addImportedType(new FullyQualifiedJavaType(fieldAnnotationFullyQualifiedName)); &#125;); &#125; else &#123; LOGGER.debug(String.format("suppressAllComments = %b, suppressAllAnnotations = %b", suppressAllComments, suppressAllAnnotations)); &#125; &#125; static class Util &#123; static boolean isBlank(String string) &#123; return string == null || string.trim().length() == 0; &#125; static boolean isNotBlank(String string) &#123; return !isBlank(string); &#125; static List&lt;String&gt; toList(String commaSeparatedString) &#123; List&lt;String&gt; list = new LinkedList&lt;&gt;(); assert isNotBlank(commaSeparatedString); StringTokenizer stringTokenizer = new StringTokenizer(commaSeparatedString, ","); String token; while (stringTokenizer.hasMoreTokens()) &#123; token = stringTokenizer.nextToken(); list.add(token); &#125; if (list.size() == 0) &#123; list.add(commaSeparatedString); &#125; return list; &#125; static String atAnnotationName(String annotationFullyQualifiedName) &#123; int lastIndexOfDot = annotationFullyQualifiedName.lastIndexOf("."); assert lastIndexOfDot != -1; String atAnnotationName = annotationFullyQualifiedName.substring(lastIndexOfDot + 1); assert isNotBlank(atAnnotationName); return String.format("@%s", atAnnotationName); &#125; &#125;&#125; ä¸Šè¾¹ä¸¤ä¸ªç±»æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰æ³¨é‡Šç”Ÿæˆå™¨çš„æ‰€æœ‰æ ¸å¿ƒå†…å®¹ï¼Œæˆ‘åœ¨å®žçŽ°çš„æ—¶å€™è¸©äº†ä¸€ä¸ªå°å°çš„å‘ï¼Œåœ¨æ³¨é‡Šç”Ÿæˆå™¨æŽ¥å£ä¸­æœ‰å‡ ä¸ª addFieldAnnotation addClassAnnotation å‘½åä¸­åŒ…å«æ³¨è§£å­—çœ¼çš„æ–¹æ³•ï¼Œæˆ‘ä¸€å¼€å§‹æƒ³å½“ç„¶çš„ä»¥ä¸ºé™„åŠ æ³¨è§£éœ€è¦åœ¨è¿™é‡Œé¢å®žçŽ°ï¼ŒåŽæ¥æ‰å‘çŽ°ï¼Œä¸¤è€…æ²¡ä»€ä¹ˆå…³ç³» 1234567891011121314/** * Adds a @Generated annotation to a class. * * @param innerClass * the class * @param introspectedTable * the introspected table * @param imports * the comment generator may add a required imported type to this list * * @since 1.3.6 */ void addClassAnnotation(InnerClass innerClass, IntrospectedTable introspectedTable, Set&lt;FullyQualifiedJavaType&gt; imports); ä¸Šè¾¹æ˜¯ addClassAnnotation çš„æ³¨é‡Šï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå…¶æ ¹@Generatedæœ‰å…³ã€‚æˆ‘ä»¬è‡ªå·±æƒ³è¦é™„åŠ æ³¨è§£ï¼Œå®žé™…ä¸Šè¿˜æ˜¯åœ¨é™„åŠ æ³¨é‡Šé‚£ä¸€æ­¥ä»¥å­—ç¬¦ä¸²çš„å½¢å¼é™„åŠ ä¸ŠåŽ»çš„ï¼Œä¸Žè¿™å‡ ä¸ª*Annotationæ–¹æ³•æ— å…³ã€‚ ä½¿ç”¨1234567891011121314151617181920212223242526272829303132333435&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN" "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;&lt;generatorConfiguration&gt; &lt;properties resource="package/to/your/data_source.properties"/&gt; &lt;context id="context_mysql" defaultModelType="flat" targetRuntime="MyBatis3"&gt; &lt;property name="javaFileEncoding" value="UTF-8"/&gt; &lt;!-- CommentWithAnnotationCommentGenerator --&gt; &lt;commentGenerator type="io.github.since1986.mybatis.comment.generator.CommentWithAnnotationCommentGenerator"&gt; &lt;property name="fieldAnnotationFullyQualifiedNames" value="one.your.customer.FieldAnnotationClass,another.your.customer.FieldAnnotationClass"/&gt; &lt;property name="classAnnotationFullyQualifiedNames" value="one.your.customer.ClassAnnotationClass,another.your.customer.ClassAnnotationClass"/&gt; &lt;/commentGenerator&gt; &lt;jdbcConnection driverClass="$&#123;driverClass&#125;" connectionURL="$&#123;connectionURL&#125;" userId="$&#123;userId&#125;" password="$&#123;password&#125;"&gt; &lt;!-- better keep this --&gt; &lt;property name="useInformationSchema" value="true"/&gt; &lt;/jdbcConnection&gt; &lt;javaModelGenerator targetPackage="your.model" targetProject="/path/to/your/project/src/main/java"&gt; &lt;/javaModelGenerator&gt; &lt;sqlMapGenerator targetPackage="your.mapper" targetProject="src/main/resources"&gt; &lt;/sqlMapGenerator&gt; &lt;javaClientGenerator targetPackage="your.mapper" type="ANNOTATEDMAPPER" targetProject="src/main/java"&gt; &lt;/javaClientGenerator&gt; &lt;table tableName="your_table" domainObjectName="YourDomain"&gt; &lt;/table&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; åœ¨ç”Ÿæˆçš„ Java ä¸­ä¼šå°†æ•°æ®åº“æ³¨é‡Šä½œä¸ºæ³¨é‡Šï¼Œè¯ é‡Šäº†DRYåŽŸåˆ™ï¼Œå¦å¤–ä»˜åŠ å…¥äº†æˆ‘ä»¬éœ€è¦çš„æ¡†æž¶æ³¨è§£ï¼Œä¸ç”¨å†æ‰‹å·¥å¤„ç†é‡å¤åŠ³åŠ¨äº†ï¼Œè§£æ”¾äº†ç”Ÿäº§åŠ›ï¼Œå¯ä»¥æ—©ç‚¹ä¸‹ç­å›žå®¶ï¼Œå¤šä¼‘æ¯ä¼‘æ¯äº†ï¼ˆåšæ¢¦ä¸­â€¦ï¼‰ å‚è€ƒèµ„æ–™mybatis-generatorè‡ªå®šä¹‰æ³¨é‡Šç”Ÿæˆ Mybatis Generatoræœ€å®Œæ•´é…ç½®è¯¦è§£]]></content>
      <tags>
        <tag>MyBatis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ideaè¿œç¨‹è°ƒè¯•]]></title>
    <url>%2Ff47cfdef.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯æˆ‘å¸æœ‰ä¸€å¥—è‡ªç ”çš„ RPC æ¡†æž¶ï¼Œå…¬å¸çŽ°æœ‰å¾—å¼€å‘æ¨¡å¼æ˜¯ RPC æœåŠ¡æä¾›ç«¯ä¸ debug è€Œç”¨å•å…ƒæµ‹è¯•æ¥å®Œæˆå¼€å‘å¾ªçŽ¯ï¼Œè¿™ç§æ–¹å¼æœ‰åˆ©æœ‰å¼Šï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯å¸Œæœ›åœ¨å•å…ƒæµ‹è¯•å¤–å¯ä»¥è‡ªç”±çš„è°ƒè¯•è¿™æ ·ï¼Œæœ‰äº›æƒ…å†µè¿œæ¯”å•å…ƒæµ‹è¯•è¦é«˜æ•ˆã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç”±äºŽ RPC æœåŠ¡ç«¯æ˜¯å·²å®¹å™¨æ–¹å¼å¯åŠ¨çš„ï¼Œæ‰€ä»¥æ— æ³•ç›´æŽ¥åœ¨ idea å·¥ç¨‹ä¸­æ–­ç‚¹è°ƒè¯•ï¼Œæœ‰ä¸¤ç§åŠžæ³•å¯ä»¥è§£å†³ï¼š1.è‡ªå·±å®žçŽ°ä¸€ä¸ªå¯åŠ¨å™¨ï¼ŒæŠ›å¼ƒå®¹å™¨è‡ªå·±å¯åŠ¨ RPC æœåŠ¡ï¼›2.ä½¿ç”¨è¿œç¨‹è°ƒè¯•è°ƒè¯•å·²ç»é€šè¿‡å®¹å™¨å¯åŠ¨çš„ RPC æœåŠ¡ã€‚ç¬¬ä¸€ç§æˆ‘è§‰å¾—åŠžæ³•æ˜¯æœ€ä¼˜é›…çš„ï¼Œä½†æ˜¯éœ€è¦è‡ªå·±å¼€å‘å¯åŠ¨å™¨ï¼Œæ—¶é—´è¾ƒé•¿ï¼ˆæ­£åœ¨å°è¯•å®žçŽ°ï¼‰ï¼Œåœ¨å¼€å‘å‡ºæ¥ä¹‹å‰ï¼Œå¯ä»¥å…ˆä¸´æ—¶ä½¿ç”¨ç¬¬äºŒç§åŠžæ³•åº”æ€¥ã€‚å¥½äº†ï¼Œæˆ‘ä»¬å…¶å®žåªè¦çŸ¥é“æ€Žæ ·è¿œç¨‹è°ƒè¯•å°±å¥½äº†ã€‚ å®žè·µå¼€å¯è¿œç¨‹è°ƒè¯•å¯ä»¥åˆ†æˆä¸¤æ­¥ã€‚ ç¬¬ä¸€æ­¥ï¼Œåœ¨ JVM å¯åŠ¨æ—¶åŠ ä¸Šå‚æ•°ï¼Œå‘ŠçŸ¥ JVM æˆ‘ä»¬å°†è¦è¿œç¨‹è°ƒè¯•ï¼š 1-Xdebug -Xnoagent -Djava.compiler=NONE -Xrunjdwp:transport=dt_socket,address=5555,server=y,suspend=n ç¬¬äºŒæ­¥ï¼Œåœ¨ idea ä¸­é…ç½®å¼€å§‹è¿œç¨‹è°ƒè¯• é…ç½®å¥½ Run/Debug Configurations æ³¨æ„ä¸Šå›¾ä¸­5555å¯¹åº”äº†æˆ‘ä»¬åœ¨ JVM å‚æ•°ä¸­çš„ address=5555 åƒæœ¬åœ°è°ƒè¯•ä¸€æ ·ï¼Œç”¨ç»¿è™«å­å¯åŠ¨ï¼Œå°±å¼€å§‹ç›‘å¬å¹¶è°ƒè¯•äº†ï¼Œæ–­ç‚¹ä¹Ÿä¼šåœäº†,å¯åŠ¨åŽæŽ§åˆ¶å°ä¼šè¾“å‡ºConnected to the target VM, address: &#39;localhost:5555&#39;, transport: &#39;socket&#39;ï¼Œå½“åœæ­¢è°ƒè¯•åŽï¼ŒæŽ§åˆ¶å°ä¼šè¾“å‡ºDisconnected from the target VM, address: &#39;localhost:5555&#39;, transport: &#39;socket&#39; åŽè®°å…¶å®žï¼Œåšè¿™ä¸ªè¿œç¨‹è°ƒè¯•çš„åˆè¡·ï¼Œå°±æ˜¯ä¸ºäº†å‡è½»è‡ªå·±å¼€å‘çš„è´Ÿæ‹…ï¼Œè®©è‡ªå·±æ•´ä¸ªå¼€å‘å·¥ä½œæµæ›´åŠ é¡ºç•…ï¼Œæˆ‘å…¶å®žå¤§å¯ä»¥æŒ‰ç…§å…¬å¸çš„æ–¹å¼ï¼Œç”¨å•å…ƒæµ‹è¯•æ¥åšï¼Œä½†æ˜¯ï¼Œèƒ½è®©è‡ªå·±æå‡æ•ˆçŽ‡çš„äº‹ï¼Œä¸ºä»€ä¹ˆä¸ç¢ç£¨ä¸€ä¸‹å‘¢ï¼Œä¸å¾ªè§„è¹ˆçŸ©ï¼Œçˆ±æŠ˜è…¾ï¼Œæˆ‘è§‰å¾—æ‰æ˜¯ä¸€ç§ä¼˜è‰¯çš„å“è´¨ã€‚]]></content>
      <tags>
        <tag>idea</tag>
        <tag>è°ƒè¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iTerm2ä¸­ä½¿ç”¨rzå’Œsz]]></title>
    <url>%2F14df9481.html</url>
    <content type="text"><![CDATA[å®‰è£…ä¾èµ–1234567brew install lrzszbrew install wgetcd /usr/local/binsudo wget https://raw.github.com/mmastrac/iterm2-zmodem/master/iterm2-send-zmodem.shsudo wget https://raw.github.com/mmastrac/iterm2-zmodem/master/iterm2-recv-zmodem.shsudo chmod 777 /usr/local/bin/iterm2-* ä¿®æ”¹ iTerm2 Profile é…ç½®1234567Regular expression: rz waiting to receive.\*\*B0100Action: Run Silent CoprocessParameters: /usr/local/bin/iterm2-send-zmodem.shRegular expression: \*\*B00000000000000Action: Run Silent CoprocessParameters: /usr/local/bin/iterm2-recv-zmodem.sh å‚è€ƒèµ„æ–™Macä¸Šå¦‚ä½•é€šè¿‡è·³æ¿æœºå‘æœåŠ¡å™¨ä¸Šä¸Šä¼ å¤§æ–‡ä»¶ Mac osx ä¸‹å®‰è£…iTerm2ï¼Œå¹¶ä½¿ç”¨rz szä¸Šä¼ ä¸‹è½½ï¼ˆé™„homebrewé…ç½®ï¼‰]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³mavençš„ä¸€ä¸ªStackOverflowError]]></title>
    <url>%2F4422e9a6.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨ç”¨ â€œdebugâ€ æ¨¡å¼è¿è¡Œ maven çš„ jetty:run æ—¶ï¼Œå‡ºçŽ°äº† java.lang.StackOverflowError ï¼Œå…·ä½“çš„æ ˆä¿¡æ¯å¦‚ä¸‹ï¼š 123456789101112131415161718192021The system is out of resources.Consult the following stack trace for details.java.lang.StackOverflowError at com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062) at com.sun.tools.javac.tree.JCTree$JCBinary.accept(JCTree.java:1565) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:431) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:418) at com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:460) at com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062) at com.sun.tools.javac.tree.JCTree$JCBinary.accept(JCTree.java:1565) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:431) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:418) at com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:460) at com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062) at com.sun.tools.javac.tree.JCTree$JCBinary.accept(JCTree.java:1565) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:431) at com.sun.tools.javac.comp.Attr.attribTree(Attr.java:418) at com.sun.tools.javac.comp.Attr.attribExpr(Attr.java:460) at com.sun.tools.javac.comp.Attr.visitBinary(Attr.java:2062) ...æ­¤å¤„çœç•¥ N ä¸ªé‡å¤çš„ Google äº†ä¸€ä¸‹ï¼Œäº†è§£åˆ°è§£å†³ java.lang.StackOverflowError çš„ä¸€ç§åŠžæ³•æ˜¯å¢žå¤§æ ˆçš„å¤§å°ï¼š 1-Xssä½ æƒ³å¢žåŠ åˆ°çš„å¤§å° ç”±äºŽæˆ‘æ˜¯ç”¨ idea å¯åŠ¨çš„ debugï¼Œæ‰€ä»¥è¦åœ¨ idea ä¸­è®¾ç½®ï¼Œè®¾ç½®é€‰é¡¹çš„ä½ç½®å¦‚ä¸‹ï¼š è°ƒæˆäº†æ ˆå¤§å°åŽï¼Œé‡æ–° debug å‘çŽ°ä¸å† StackOverflowError äº†ã€‚]]></content>
      <tags>
        <tag>Maven</tag>
        <tag>StackOverflowError</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨åŽç«¯å·¥ç¨‹ä¸­ä½¿ç”¨é™æ€ä¾èµ–æ³¨å…¥æ¡†æž¶Dagger2]]></title>
    <url>%2Fb243446d.html</url>
    <content type="text"><![CDATA[æƒ³å¿…å‰ç«¯çš„åŒå­¦å¯¹äºŽDagger2å¹¶ä¸é™Œç”Ÿï¼Œåœ¨Androidå¼€å‘ä¸­ï¼Œå®ƒæ˜¯ä¸»åŠ›çš„ä¾èµ–æ³¨å…¥æ¡†æž¶ï¼Œä½†æ˜¯ï¼Œå®žé™…ä¸Šï¼ŒDagger2ä¸ä»…ä»…èƒ½ç”¨äºŽå‰ç«¯å¼€å‘ä¸­ï¼Œåœ¨åŽç«¯ä¹Ÿæœ‰å®ƒçš„ç”¨æ­¦ä¹‹åœ°ã€‚ æœ€è¿‘åœ¨åšå…¬å¸çš„ä¸€ä¸ªäº§å“ï¼Œå…¬å¸å¼ºåˆ¶å¿…é¡»ä½¿ç”¨å†…éƒ¨è‡ªç ”æ¡†æž¶ï¼Œç”±äºŽè¿™ä¸ªæ¡†æž¶ä¸æ”¯æŒIOCï¼Œæ‰€ä»¥ç”¨èµ·æ¥å¾ˆè®©äººå¤´ç–¼ï¼Œæƒ³ç€å°†Springç»“åˆåˆ°æ¡†æž¶äº†é‡Œï¼Œä½†æ˜¯æ„Ÿè§‰çŸ­æ—¶é—´åšä¸åˆ°ï¼Œç„¶è€Œæˆ‘è¿˜æ˜¯ååˆ†çš„æ€€å¿µæœ‰IOCçš„æ—¥å­ï¼Œè¿™æ˜¯ï¼Œçªç„¶æƒ³èµ·æ¥ï¼ŒåŽ»å¹´åœ¨æžAndroidæ—¶äº†è§£åˆ°äº†ä¸€æ¬¾ä¾èµ–æ³¨å…¥æ¡†æž¶Dagger2ï¼Œæƒ³äº†æƒ³ï¼Œä¸ºä»€ä¹ˆä¸ç”¨å®ƒå‘¢ã€‚ è¯´å¹²å°±å¹²ï¼Œæˆ‘æ‰¾åˆ°äº†Dagger2çš„å®˜æ–¹æ–‡æ¡£ï¼Œæ–‡æ¡£å¾ˆç®€å•ï¼Œä¸€é¡µå°±è¯´å®Œäº†åŸºæœ¬çš„IOCä½¿ç”¨ã€‚å¤§è‡´çœ‹äº†ä¸€çœ¼ï¼ŒåŸºæœ¬ä¸Šå°±çŸ¥é“æ€Žä¹ˆç”¨äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥ä¸€ä¸ªç®€å•çš„ demo è¯´æ˜Žä¸€ä¸‹ç”¨æ³•å§ã€‚ é¦–å…ˆæ˜¯é…ç½®ä¾èµ–é¡¹å’Œæ³¨è§£å¤„ç†å™¨ï¼Œæˆ‘ä»¬çš„ demo ç”¨mavenæ¥æ¼”ç¤ºï¼ˆæˆ‘è‡ªå·±åšå·¥ç¨‹ä¸€èˆ¬ä¼šé€‰æ‹©Gradleï¼Œä½†æ˜¯å…¬å¸ä½¿ç”¨mavenï¼Œè¿™é‡Œå°±å’Œå…¬å¸ä¸€è‡´äº†ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;io.github.since1986&lt;/groupId&gt; &lt;artifactId&gt;learn-dagger&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.google.dagger&lt;/groupId&gt; &lt;artifactId&gt;dagger&lt;/artifactId&gt; &lt;version&gt;2.7&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;encoding&gt;$&#123;project.build.sourceEncoding&#125;&lt;/encoding&gt; &lt;annotationProcessorPaths&gt; &lt;path&gt; &lt;groupId&gt;com.google.dagger&lt;/groupId&gt; &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt; &lt;version&gt;2.7&lt;/version&gt; &lt;/path&gt; &lt;/annotationProcessorPaths&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; æ³¨æ„ä¸Šè¾¹é…ç½®çš„dependenciesé‡Œæœ‰ä¸€ä¸ªdaggerï¼Œå¦å¤–pluginsçš„maven-compiler-pluginé…ç½®äº†annotationProcessorPathsï¼Œè¿™äº›éƒ½æ˜¯ç”¨æ¥å¤„ç†ä»£ç ç”Ÿæˆçš„ã€‚æ­£å¼è¿™äº›ä»£ç ç”Ÿæˆæœºåˆ¶ï¼Œé€ å°±äº†Dagger2çš„â€é™æ€æ³¨å…¥â€çš„ç‰¹æ€§ã€‚ï¼ˆè¿™é‡Œè¯´æ˜Žä¸€ä¸‹ï¼ŒDagger2æ˜¯â€é™æ€çš„ä¾èµ–æ³¨å…¥æ¡†æž¶â€ï¼Œæ‰€è°“â€é™æ€â€ï¼Œæˆ‘çš„ç†è§£æ˜¯æŒ‡ç”¨ä»£ç ç”Ÿæˆçš„æ–¹å¼æ¥å¤„ç†æ³¨å…¥ï¼Œç”Ÿæˆçš„ä»£ç ä¹Ÿä¼šæ˜¯ä½ çš„å·¥ç¨‹ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œä½ å¯ä»¥åƒè‡ªå·±å†™çš„ä»£ç ä¸€æ ·æ¥è°ƒç”¨ï¼Œç¼–è¯‘æ—¶ä¹Ÿä¼šè¢«ä¸€èµ·ç¼–è¯‘ï¼Œè¿™äº›ä»£ç ä¸€æ—¦ç”Ÿæˆï¼Œåœ¨è¿è¡Œæ—¶æ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºâ€é™æ€â€ï¼‰ é…ç½®å¥½äº†ä¾èµ–ä»¥åŠæ³¨è§£å¤„ç†å™¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–ç äº†ã€‚æˆ‘ä»¬çš„ demo å°½é‡ç®€å•ä¸€äº›ï¼Œä¸€å…±æœ‰ä¸¤ä¸ªserviceï¼Œä¸€ä¸ªUserServiceï¼Œä¸€ä¸ªProfileServiceï¼Œå…¶ä¸­UserServiceä¸­æ³¨å…¥äº†ProfileServiceï¼š 12345678package io.github.since1986.learn.dagger.service;import io.github.since1986.learn.dagger.model.Profile;public interface ProfileService &#123; Profile get(long id);&#125; 12345678package io.github.since1986.learn.dagger.service;import io.github.since1986.learn.dagger.model.User;public interface UserService &#123; User get(long id);&#125; 1234567891011package io.github.since1986.learn.dagger.service;import io.github.since1986.learn.dagger.model.Profile;public class ProfileServiceImpl implements ProfileService &#123; @Override public Profile get(long id) &#123; return Profile.DEFAULT; &#125;&#125; 12345678910111213141516171819202122package io.github.since1986.learn.dagger.service;import io.github.since1986.learn.dagger.model.User;import javax.inject.Inject;public class UserServiceImpl implements UserService &#123; private final ProfileService profileService; @Inject // ä½¿ç”¨JavaEEæ ‡å‡†çš„javax.inject.Injectæ¥æ³¨å…¥ public UserServiceImpl(ProfileService profileService) &#123; this.profileService = profileService; &#125; @Override public User get(long id) &#123; User default_ = User.DEFAULT; default_.setProfile(profileService.get(id)); return default_; &#125;&#125; æˆ‘ä»¬æ³¨æ„UserServiceImplä¸­è¿™ä¸€æ®µ 1234@Inject // ä½¿ç”¨JavaEEæ ‡å‡†çš„javax.inject.Injectæ¥æ³¨å…¥public UserServiceImpl(ProfileService profileService) &#123; this.profileService = profileService;&#125; ä¾èµ–æ³¨å…¥åœ¨ä¸šåŠ¡ç±»ä¸­åªéœ€è¦å†™ä¸€ä¸ªæ³¨è§£@Injectå°±å¥½äº†ï¼Œè¿™é‡Œå…¶å®žå¾ˆç±»ä¼¼äºŽSpringçš„æž„é€ å™¨æ³¨å…¥ã€‚å½“ç„¶ï¼Œåªæœ‰è¿™ä¸ª@Injectæ˜¯æ— æ³•å®ŒæˆçœŸæ­£çš„æ³¨å…¥çš„ï¼Œæˆ‘ä»¬æŽ¥ç€çœ‹ä¸‹è¾¹çš„ä»£ç ï¼š 12345678910111213141516package io.github.since1986.learn.dagger.service;import dagger.Module;import dagger.Provides;import javax.inject.Singleton;@Modulepublic class ProfileServiceModule &#123; @Singleton @Provides static ProfileService provideProfileService() &#123; return new ProfileServiceImpl(); &#125;&#125; 12345678910111213141516package io.github.since1986.learn.dagger.service;import dagger.Module;import dagger.Provides;import javax.inject.Singleton;@Modulepublic class UserServiceModule &#123; @Singleton @Provides static UserService provideUserService(ProfileService profileService) &#123; return new UserServiceImpl(profileService); &#125;&#125; 123456789101112131415package io.github.since1986.learn.dagger;import dagger.Component;import io.github.since1986.learn.dagger.service.ProfileServiceModule;import io.github.since1986.learn.dagger.service.UserService;import io.github.since1986.learn.dagger.service.UserServiceModule;import javax.inject.Singleton;@Singleton@Component(modules = &#123;UserServiceModule.class, ProfileServiceModule.class&#125;)public interface AppComponent &#123; UserService userService();&#125; æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥å®žé™…ä¸Šï¼ŒçœŸæ­£ç”¨äºŽå¤„ç†ä¾èµ–æ³¨å…¥ç»„ä»¶è¯»å–çš„é…ç½®ä¿¡æ¯ï¼ˆç›¸å½“äºŽSpringä¸­çš„@Configurationï¼‰æ˜¯å†™åœ¨@Moduleå’Œ@Componentæ ‡æ³¨çš„ç±»é‡Œçš„ã€‚ @Moduleä¸­æœ‰@Providesæ ‡ç¤ºå‡ºæ¥éœ€è¦å¯¹å¤–å‘å¸ƒçš„Beanï¼ˆè¿™é‡Œä¸çŸ¥é“è¯¥æ€Žä¹ˆèµ·åï¼Œå°±å€Ÿç”¨Springçš„æ¦‚å¿µå§ï¼‰ï¼Œä½ å¯ä»¥ç®€å•åœ°æŠŠå®ƒç†è§£ä¸ºSpringä¸­çš„@Beanã€‚ @Componentä¸­(modules = {UserServiceModule.class, ProfileServiceModule.class})å°†UserServiceModuleå’ŒProfileServiceModuleè¿™ä¸¤ä¸ªModuleç»“åˆäº†èµ·æ¥ï¼ˆè¿™é‡Œå¯ä»¥å‹‰å¼ºç†è§£ä¸ºSpringä¸­çš„å®¹å™¨ï¼Œå½“ç„¶Dagger2é‡Œåº”è¯¥å¹¶ä¸å­˜åœ¨å®¹å™¨çš„æ¦‚å¿µï¼‰ã€‚ åˆ°è¿™é‡Œï¼Œä¾èµ–æ³¨å…¥çš„é…ç½®è¿‡ç¨‹å°±å®Œæˆäº†ï¼ˆä¸ŽSpringä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡Javaæ–‡ä»¶è¿›è¡Œé…ç½®å®ŒæˆDIï¼‰ï¼Œç„¶åŽæˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•ä½¿ç”¨ã€‚åœ¨ä½¿ç”¨æ—¶ï¼Œå’ŒSpringå°±æœ‰æ‰€ä¸åŒäº†ï¼Œç”±äºŽæ˜¯â€é™æ€â€æ³¨å…¥ï¼Œæ‰€ä»¥æ³¨å…¥å®žé™…ä¸Šæ˜¯ä¾é æ³¨è§£å¤„ç†å™¨æ¥ç”Ÿæˆä»£ç ä»Žè€Œå®Œæˆçš„ï¼Œå› æ­¤éœ€è¦è®©æ³¨è§£å¤„ç†å™¨è¿ä½œèµ·æ¥ï¼Œæˆ‘ä»¬ç”¨mavençš„maven-compiler-pluginä¸­çš„compiler:compileæ¥ç”Ÿæˆå°±å¥½äº†ã€‚ç”Ÿæˆå®Œæ¯•åŽï¼Œä¼šåœ¨target/generated-sources/annotations/ä¸‹ç”Ÿæˆä¸€äº›åˆ—æºä»£ç ï¼Œè¿™äº›æºç å°±æ˜¯Dagger2å¸®æˆ‘ä»¬ç”Ÿæˆçš„ä¾èµ–æ³¨å…¥å¤„ç†ç±»ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªæ¯”æˆ‘ä»¬çš„AppComponentç±»åå¤šä¸€ä¸ªDaggerå‰ç¼€çš„ç±»ï¼Œè¿™ä¸ªç±»å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ˆå¤šä¸€ä¸ªDaggerå‰ç¼€æ˜¯Dagger2çš„è§„åˆ™ï¼‰ã€‚ 123456789101112package io.github.since1986.learn.dagger;import io.github.since1986.learn.dagger.service.UserService;public class App &#123; private static UserService userService = DaggerAppComponent.create().userService(); public static void main(String[] args) &#123; System.out.println(userService.get(1).getProfile().getName()); &#125;&#125; private static UserService userService = DaggerAppComponent.create().userService();æ³¨æ„è¿™ä¸€æ®µï¼Œä»¥æˆ‘çš„ç†è§£ï¼Œè¿™ä¸ªç±»ä¼¼äºŽSpringä¸­çš„context.getBean()ã€‚ åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„å° demo å°±å†™å¥½äº†ï¼Œç›¸å½“çš„ç®€å•ï¼Œå‡ ä¸ªæ³¨è§£ï¼Œå¤–åŠ æ³¨è§£å¤„ç†å™¨ï¼Œå°±æžå®šäº†ä¾èµ–æ³¨å…¥ã€‚é‚£ä¹ˆä¹Ÿè®¸ä½ ä¼šé—®ï¼Œæœ‰springè¿™ä¹ˆå¼ºå¤§çš„æ¡†æž¶ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¿˜è¦ç”¨Dagger2å‘¢ï¼Ÿæˆ‘ä¸ªäººç†è§£ï¼Œç¡®å®žä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç”¨ä¸åˆ°çš„ï¼Œä½†æ˜¯Dagger2æ¯”è¾ƒè½»é‡ï¼Œä¸å­˜åœ¨å¾ˆå¤šå¤æ‚çš„æ¦‚å¿µï¼Œå› æ­¤æ•´åˆè¿›ä¸€äº›å°ä¼—æ¡†æž¶ç”¨äºŽæä¾›IOCæ”¯æŒä¼šç›¸å¯¹å®¹æ˜“ä¸€äº›ï¼Œæˆ‘ä¹Ÿæ˜¯åŸºäºŽå®žé™…çš„éœ€è¦å‡ºå‘ï¼Œæ‰€ä»¥é€‰æ‹©äº†å®ƒï¼Œå¦‚æžœèƒ½å¿«é€Ÿæ•´åˆSpringçš„è¯ï¼Œæˆ‘è¿˜æ˜¯ä¼šé€‰æ‹©ç”¨Springã€‚å½“ç„¶ï¼Œå°å·§è½»é‡ä¹Ÿæ˜¯ä¸€ä¸ªä¼˜åŠ¿ï¼Œè¯´ä¸å®šå°±èƒ½çŽ©å‡ºæ›´å¤šèŠ±æ ·æ¥ï¼Œè°çŸ¥é“å‘¢ã€‚]]></content>
      <tags>
        <tag>Dagger2</tag>
        <tag>ä¾èµ–æ³¨å…¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ideaçš„SQLæŽ§åˆ¶å°å¯ä»¥åœ¨è¿è¡Œæ—¶æ‰‹å·¥æŒ‡å®šSQLå‚æ•°]]></title>
    <url>%2Fc6dbd277.html</url>
    <content type="text"><![CDATA[åœ¨å†™ä¸€ä¸ª SQL æ—¶å‘çŽ°ï¼Œidea çš„ SQL æŽ§åˆ¶å°æ˜¯å¯ä»¥åœ¨è¿è¡Œ SQL çš„æ—¶å€™ï¼Œæ‰‹å·¥å¡«å…¥éœ€è¦ä¼ å…¥ SQL çš„å‚æ•°çš„ï¼Œè¿™ä¸€ç‚¹å¾ˆæ–¹ä¾¿æˆ‘ä»¬è°ƒè¯•ã€‚è§¦å‘è¿™ä¸ªåŠŸèƒ½åªéœ€è¦åœ¨ SQL ä¸­å°†å‚æ•°ç•™æˆ?å°±å¥½äº†ã€‚]]></content>
      <tags>
        <tag>idea</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨ä¼ªä»£ç è¾…åŠ©ä¸šåŠ¡é€»è¾‘çš„è®¾è®¡]]></title>
    <url>%2Fd2b4bb9e.html</url>
    <content type="text"><![CDATA[è¿™å‡ å¤©åœ¨åšä¸€ä¸ªæ€¥æ´»ï¼Œå¾ˆçŸ­æ—¶é—´å†…å°±éœ€è¦ä¸Šçº¿ï¼Œå¹¶ä¸”å…¶ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½ç‚¹çš„ä¸šåŠ¡é€»è¾‘å¾ˆç»•ï¼Œå¾ˆä¸å¥½å®žçŽ°ï¼Œå½“ç„¶ï¼Œä¹Ÿæ˜¯æœ‰åŠžæ³•åœ¨çŸ­æ—¶é—´å†…æžå®šå¤æ‚ä¸šåŠ¡é€»è¾‘çš„è®¾è®¡çš„ã€‚æˆ‘æ˜¯ä½¿ç”¨äº†â€ä¼ªä»£ç è¾…åŠ©åˆ†æžâ€è¿™ç§æ–¹å¼æ¥åšçš„ã€‚ å°†æƒ³è¦å®žçŽ°çš„ä¸šåŠ¡é€»è¾‘å…ˆä¸è€ƒè™‘å’Œç¼–ç¨‹è¯­è¨€è¯­æ³•å¼ºå…³è”ï¼Œå…ˆä»ŽåŸºæœ¬çš„æ€ç»´é€»è¾‘å…¥æ‰‹ï¼Œç”¨ä¼ªä»£ç å°è¯•å†™å‡ºæ•´ä¸ªä¸šåŠ¡é€»è¾‘çš„æµç¨‹ã€‚ç„¶åŽåœ¨å°†ä»£ç ç”¨æœ€ low çš„æ–¹æ³•æŒ‰ç…§æ€è·¯æµæ°´èˆ¬å†™å‡ºæ¥ï¼Œç„¶åŽåœ¨å†™çš„åŒæ—¶ï¼Œè€ƒè™‘å“ªäº›éƒ¨åˆ†å¯ä»¥å¤ç”¨ï¼Œå°†å…¶æå–å‡ºæ¥ï¼Œè¿™æ ·ä¸€æ­¥ä¸€æ­¥å°±èƒ½å°†ä¸€ä¸‹å­æƒ³ä¸æ˜Žç™½çš„å¤æ‚ä¸šåŠ¡é€»è¾‘è½¬åŒ–ä¸ºä»£ç äº†ã€‚å½“ç„¶åœ¨ä¸­é—´éœ€è¦ä¸æ–­å’Œäº§å“åŒå­¦ä»¥åŠä¸€ä¸ªå°ç»„é‡Œçš„åŒäº‹åå¤äº¤æµã€ç¡®è®¤ï¼Œè¿™æ ·äººå¤šåŠ›é‡å¤§ï¼Œä¹Ÿèƒ½å¤Ÿè¾…åŠ©è‡ªå·±åˆ†æžæ¸…æ¥šä¸šåŠ¡é€»è¾‘ã€‚ ä¸€ç‚¹ç‚¹å®žè·µä¸­çš„ä½“ä¼šï¼Œè®°å½•ä¸‹æ¥ï¼Œç®—æ˜¯å°çš„æ€»ç»“ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152/** * ä¿å­˜åˆ†é”€VIPè´­ä¹°åˆ†æˆ * &lt;pre&gt; * æ”¶ç›Šè®¡ç®—éƒ¨åˆ†çš„ä¸šåŠ¡é€»è¾‘å¦‚ä¸‹ï¼š * ç‰¹æ®Šçš„æƒ…å†µï¼š * æ•™ç»ƒæ°¸è¿œæ˜¯ 40% å…¬å¸æ°¸è¿œæ˜¯ 20% * * ä¸€èˆ¬çš„æƒ…å†µï¼Œæ”¶ç›Šéœ€è¦è®¡ç®—ä¸¤éƒ¨åˆ†ï¼š * ä¸€éƒ¨åˆ†æ˜¯è‡ªå·±çš„æœ€ç»ˆæ”¶ç›Š = è‡ªå·±æœ¬èº«çš„æ¯”ä¾‹ + æ‰€æœ‰ä¸‹çº§çš„æ¯”ä¾‹ä¹‹å’Œ * å¦ä¸€éƒ¨åˆ†æ˜¯ç»™è‡ªå·±æ‰€æœ‰ä¸Šçº§å¸¦æ¥çš„æ”¶ç›Šï¼ˆä¸Šä¾›ï¼‰ï¼Œè¿™ä¸ªæ˜¯éœ€è¦è€ƒè™‘æ–­å±‚çš„ * * switchï¼ˆä»‹ç»äººç­‰çº§ï¼‰&#123; * case 1 &#123; //æ•™ç»ƒ * è‡ªå·±å¹²æ´»æ‹¿çš„ä½£é‡‘æ¯”ä¾‹ = è‡ªå·±æœ¬èº«çš„æ¯”ä¾‹ + æ‰€æœ‰ä¸‹çº§çš„æ¯”ä¾‹ä¹‹å’Œ * 40% * * ä¸Šä¾› * 4 3 2 * 4 3 (3æ‹¿ 15% + 15%) æ–­å±‚æƒ…å†µ1 * 4 2 (4æ‹¿ 10% + 15%) æ–­å±‚æƒ…å†µ2 * &#125; * * case 2 &#123; //é©¾æ ¡ * è‡ªå·±å¹²æ´»æ‹¿ * 40% + 15% * * ä¸Šä¾› * 4 3 * 4 (4æ‹¿ 10% + 15%) æ–­å±‚æƒ…å†µ * &#125; * * case 3 &#123; //ç»ç†äºº * è‡ªå·±å¹²æ´»æ‹¿ * 40% + 15% + 15% * * ä¸Šä¾›ï¼ˆæ— æ–­å±‚ï¼‰ * 4 * &#125; * * case 4 &#123; //é«˜çº§ç»ç†äºº * è‡ªå·±å¹²æ´»æ‹¿ * 40% + 15% + 15% + 10% * * æ— ä¸Šä¾› * &#125; * &#125; * * &lt;/pre&gt; * @param studentOpenid è´­ä¹° VIP çš„å­¦å‘˜çš„ openid * @param orderId å­¦å‘˜è´­ä¹° VIP ç”Ÿæˆè®¢å•çš„ id */void save(String studentOpenid, long orderId);]]></content>
      <tags>
        <tag>ä¸šåŠ¡é€»è¾‘</tag>
        <tag>æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨Generate POJOs.groovyä»Žè¡¨ç”ŸæˆPOJO]]></title>
    <url>%2Fc3bb3a33.html</url>
    <content type="text"><![CDATA[åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå°†è¡¨è½¬æ¢ä¸ºPOJOæ˜¯å†å¸¸è§ä¸è¿‡çš„åœºæ™¯äº†ï¼Œå­—æ®µå°‘è¿˜å¥½è¯´ï¼Œè¦æ˜¯å­—æ®µå¤šäº†ï¼Œä¸€ä¸ªä¸ªæ‰‹å†™æ˜¯å¾ˆçƒ¦äººçš„ï¼Œå¯ä»¥å€ŸåŠ© IDE æä¾›çš„å·¥å…·æ¥å¸®æˆ‘ä»¬å®Œæˆè¿™ç±»ç¹ççš„å·¥ä½œã€‚ åœ¨ idea ä¸­è‡ªå¸¦äº†ä¸€ä¸ªGenerate POJOs.groovyï¼Œå°±æ˜¯ç”¨æ¥å°†è¡¨è½¬æ¢ä¸ºPOJOçš„ï¼Œè¿™ä¸ªè„šæœ¬åœ¨â€Scratches and Consolesâ€ä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475import com.intellij.database.model.DasTableimport com.intellij.database.model.ObjectKindimport com.intellij.database.util.Caseimport com.intellij.database.util.DasUtil/* * Available context bindings: * SELECTION Iterable&lt;DasObject&gt; * PROJECT project * FILES files helper */packageName = &quot;è¿™é‡Œæ”¹æˆä½ POJOçš„åŒ…;&quot;typeMapping = [ (~/(?i)int/) : &quot;long&quot;, (~/(?i)float|double|decimal|real/): &quot;double&quot;, (~/(?i)datetime|timestamp/) : &quot;java.sql.Timestamp&quot;, (~/(?i)date/) : &quot;java.sql.Date&quot;, (~/(?i)time/) : &quot;java.sql.Time&quot;, (~/(?i)/) : &quot;String&quot;]FILES.chooseDirectoryAndSave(&quot;Choose directory&quot;, &quot;Choose where to store generated files&quot;) &#123; dir -&gt; SELECTION.filter &#123; it instanceof DasTable &amp;&amp; it.getKind() == ObjectKind.TABLE &#125;.each &#123; generate(it, dir) &#125;&#125;def generate(table, dir) &#123; def className = javaName(table.getName(), true) def fields = calcFields(table) new File(dir, className + &quot;.java&quot;).withPrintWriter &#123; out -&gt; generate(out, className, fields) &#125;&#125;def generate(out, className, fields) &#123; out.println &quot;package $packageName&quot; out.println &quot;&quot; out.println &quot;&quot; out.println &quot;public class $className &#123;&quot; out.println &quot;&quot; fields.each() &#123; if (it.annos != &quot;&quot;) out.println &quot; $&#123;it.annos&#125;&quot; out.println &quot; private $&#123;it.type&#125; $&#123;it.name&#125;;&quot; &#125; out.println &quot;&quot; fields.each() &#123; out.println &quot;&quot; out.println &quot; public $&#123;it.type&#125; get$&#123;it.name.capitalize()&#125;() &#123;&quot; out.println &quot; return $&#123;it.name&#125;;&quot; out.println &quot; &#125;&quot; out.println &quot;&quot; out.println &quot; public void set$&#123;it.name.capitalize()&#125;($&#123;it.type&#125; $&#123;it.name&#125;) &#123;&quot; out.println &quot; this.$&#123;it.name&#125; = $&#123;it.name&#125;;&quot; out.println &quot; &#125;&quot; out.println &quot;&quot; &#125; out.println &quot;&#125;&quot;&#125;def calcFields(table) &#123; DasUtil.getColumns(table).reduce([]) &#123; fields, col -&gt; def spec = Case.LOWER.apply(col.getDataType().getSpecification()) def typeStr = typeMapping.find &#123; p, t -&gt; p.matcher(spec).find() &#125;.value fields += [[ name : javaName(col.getName(), false), type : typeStr, annos: &quot;&quot;]] &#125;&#125;def javaName(str, capitalize) &#123; def s = com.intellij.psi.codeStyle.NameUtil.splitNameIntoWords(str) .collect &#123; Case.LOWER.apply(it).capitalize() &#125; .join(&quot;&quot;) .replaceAll(/[^\p&#123;javaJavaIdentifierPart&#125;[_]]/, &quot;_&quot;) capitalize || s.length() == 1? s : Case.LOWER.apply(s[0]) + s[1..-1]&#125; å¯ä»¥æŒ‰ç…§éœ€è¦æ¥æ›´æ”¹ã€‚è¿™ä¸ªè„šæœ¬ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨éœ€è¦è½¬æ¢çš„è¡¨ä¸Šç‚¹å³é”®ï¼Œåœ¨â€Scripted Extensionsâ€èœå•ä¸­ç‚¹å‡»â€Generate POJOs.groovyâ€å­èœå•ï¼Œå°±å¯ä»¥è¿è¡Œè¿™ä¸ªè„šæœ¬äº†ï¼Œè¿è¡ŒåŽä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©æ¡†è®©æˆ‘ä»¬æ¥é€‰æ‹©å­˜æ”¾ç”ŸæˆPOJOæ–‡ä»¶çš„ç›®å½•ï¼Œé€‰å¥½åŽå°±ä¼šç”Ÿæˆè¡¨å¯¹åº”çš„POJOäº†ã€‚ å¤„ç†é‡å¤æ€§äº‹ç‰©æˆ‘ä»¬è¦å–„ç”¨å·¥å…·ï¼Œè¿™æ ·èƒ½çœå¾ˆå¤šäº‹ã€‚]]></content>
      <tags>
        <tag>idea</tag>
        <tag>groovy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é«˜æ•ˆMySQLå¼€å‘è§„èŒƒ]]></title>
    <url>%2Fb1c04874.html</url>
    <content type="text"><![CDATA[*æœ¬ç¯‡è½¬è½½è‡ªå…¬å¸å†…éƒ¨æ–‡ç« ï¼ˆå·²è„±æ•å¤„ç†ï¼‰ åŸºç¡€è§„èŒƒ æ•°æ®åº“å­—ç¬¦é›†é»˜è®¤ä½¿ç”¨utf8ï¼Œå¦‚æžœå­˜å‚¨emojiç­‰å››å­—èŠ‚ä½¿ç”¨utf8mb4å­—ç¬¦é›† ç¦æ­¢å°†ä¸šåŠ¡æ—¥å¿—å®žæ—¶ä¿å­˜åˆ°æ•°æ®åº“ï¼Œå»ºè®®ä¿å­˜åˆ°æ—¥å¿—æ–‡ä»¶ï¼Œå¯¹äºŽç»Ÿè®¡åŽçš„ç»“æžœå†å­˜æ”¾åˆ°mysqlä¸­ ç¦æ­¢çº¿ä¸Šæ ¸å¿ƒä¸šåŠ¡ä½¿ç”¨mysqlå­˜å‚¨è¿‡ç¨‹ã€è§†å›¾ã€è§¦å‘å™¨ã€Eventã€InnoDBå¤–é”®çº¦æŸç­‰ï¼Œè¿™äº›å®¹æ˜“å°†ä¸šåŠ¡é€»è¾‘å’Œdbè€¦åˆåœ¨ä¸€èµ·ï¼Œè€Œä¸”åœ¨MySQLçš„è¿™äº›ç‰¹æ€§ä¸­å­˜åœ¨ä¸¥é‡BUG åº“è¡¨è®¾è®¡ åº“åã€è¡¨åã€å­—æ®µåå¿…é¡»ä½¿å°å†™å­—æ¯ï¼Œå¹¶é‡‡ç”¨ä¸‹åˆ’çº¿åˆ†å‰²ï¼›å¯¹ç›¸å…³åŠŸèƒ½çš„è¡¨åº”å½“ä½¿ç”¨ç›¸åŒå‰ç¼€ï¼Œå¦‚job_xxxï¼Œå‰ç¼€é€šå¸¸ä¸ºåº“åæˆ–ä¾èµ–ä¸»å®žä½“å¯¹è±¡ï¼š å»ºè®®è¡¨åŠå…³é”®å­—æ®µå†™å¤‡æ³¨ï¼Œè¯¦ç»†è¯´æ˜Žè¡¨åŠå­—æ®µçš„å«ä¹‰ æ¶‰åŠè´§å¸é‡‘é¢æˆ–å…¶ä»–ç²¾åº¦æ•æ„Ÿçš„æ•°æ®å¿…é¡»ä½¿ç”¨å®šç‚¹æ•°DECIMALæ›¿ä»£FLOATå’ŒDOUBLE åº“åã€è¡¨åã€å­—æ®µåç¦æ­¢ä½¿ç”¨MySQLä¿ç•™å­—ï¼Œå¦‚dateã€likeã€descã€returnç­‰ æŽ§åˆ¶è¡¨å­—æ®µæ•°ï¼Œå•è¡¨ä¸è¶…è¿‡50ä¸ªçº¯INT/20ä¸ªVARCHAR(10)å­—æ®µç­‰åŒå­˜å‚¨ä½“ç§¯çš„å­—æ®µæ•°ï¼Œä¸Šé™æŽ§åˆ¶åœ¨20~50 å­—æ®µé•¿åº¦åªåˆ†é…çœŸæ­£éœ€è¦çš„ç©ºé—´ é—®é¢˜ï¼šä½¿ç”¨VARCHAR(5) å’ŒVARCHAR(200) å­˜å‚¨â€™helloâ€™çš„ç£ç›˜ç©ºé—´å¼€é”€æ˜¯ä¸€æ ·çš„,ä½¿ç”¨æ›´çŸ­çš„åˆ—æœ‰ä»€ä¹ˆä¼˜åŠ¿å—ï¼Ÿ æ›´å¤§çš„å®šä¹‰åˆ—ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜ï¼Œå› ä¸ºMySQLé€šå¸¸ä¼šåˆ†é…å›ºå®šå¤§å°çš„å†…å­˜å—æ¥ä¿å­˜å†…éƒ¨å€¼,å°¤å…¶æ˜¯ä½¿ç”¨å†…å­˜ä¸´æ—¶è¡¨è¿›è¡ŒæŽ’åºæˆ–æ“ä½œæ—¶ä¼šç‰¹åˆ«ç³Ÿç³• ç´¢å¼•è®¾è®¡ åŸºæœ¬è§„åˆ™ï¼šç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œèƒ½ä¸æ·»åŠ çš„ç´¢å¼•å°½é‡ä¸è¦æ·»åŠ ï¼Œè¿‡å¤šçš„ç´¢å¼•ä¼šä¸¥é‡é™ä½Žæ•°æ®æ’å…¥å’Œæ›´æ–°çš„æ•ˆçŽ‡ï¼Œå¹¶å¸¦æ¥æ›´å¤šçš„è¯»å†™å†²çªå’Œæ­»é”ï¼ ç´¢å¼•åç§°å¿…é¡»ä½¿ç”¨å°å†™ï¼Œæ™®é€šç´¢å¼•æŒ‰ç…§â€œidx_å­—æ®µå_å­—æ®µåã€_å­—æ®µåã€‘â€è¿›è¡Œå‘½åï¼Œå”¯ä¸€ç´¢å¼•æŒ‰ç…§â€œuniq_å­—æ®µå_å­—æ®µåã€_å­—æ®µåã€‘â€è¿›è¡Œå‘½åâ€ è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼ŒæŽ¨èä½¿ç”¨ç‹¬ç«‹äºŽä¸šåŠ¡çš„AUTO_INCREMENTåˆ—æˆ–å…¨å±€IDç”Ÿæˆå™¨åšä¸»é”®ï¼Œç¦æ­¢ä½¿ç”¨å¤šå­—æ®µåšè”åˆä¸»é”® ä¸ä½¿ç”¨UUID/MD5/HASHç­‰å‡½æ•°ç”Ÿæˆçš„æ— è§„åˆ™å€¼åšä¸»é”®ï¼Œæ•ˆçŽ‡æžå·® ç´¢å¼•æ•°é‡æŽ§åˆ¶ å•å¼ è¡¨ä¸­ç´¢å¼•æ•°é‡ä¸è¶…è¿‡5ä¸ª å•ä¸ªç´¢å¼•ä¸­çš„å­—æ®µæ•°ä¸è¶…è¿‡5ä¸ª å¯¹å­—ç¬¦ä¸²ä½¿ç”¨å‰ç¼€ç´¢å¼•ï¼Œå‰ç¼€ç´¢å¼•é•¿åº¦ä¸è¶…è¿‡10ä¸ªå­—ç¬¦ ç´¢å¼•å­—æ®µçš„é¡ºåºéœ€è¦è€ƒè™‘æ¯ä¸ªå­—æ®µåŽ»é‡ä¹‹åŽçš„æ•°é‡ï¼ŒåŒºåˆ†åº¦æœ€å¤§çš„ã€ä¸ªæ•°æœ€å¤šçš„ã€‘æ”¾åœ¨å‰é¢ã€‚ åˆç†åˆ›å»ºè”åˆç´¢å¼•ï¼ˆé¿å…å†—ä½™ï¼‰ï¼Œç¬¦åˆæœ€å·¦å‰ç¼€åŽŸåˆ™ï¼š(a,b,c) ç›¸å½“äºŽ (a) ã€(a,b) ã€(a,b,c) å¯èƒ½éœ€è¦æ·»åŠ ç´¢å¼•çš„å­—æ®µï¼š ORDER BYï¼ŒGROUP BYï¼ŒDISTINCTçš„å­—æ®µéœ€è¦æ·»åŠ åœ¨ç´¢å¼•çš„åŽé¢ UPDATEã€DELETEè¯­å¥éœ€è¦æ ¹æ®WHEREæ¡ä»¶æ·»åŠ ç´¢å¼• å¯¹äºŽJOINæ“ä½œï¼Œéœ€è¦åœ¨JOINå­—æ®µä¸Šå»ºç«‹ç´¢å¼• çº¿ä¸Šæ…Žç”¨FORCE INDEXï¼Œä½¿ç”¨å‰éœ€è¦å’ŒDBAæ²Ÿé€šï¼Œå¹¶å¾—åˆ°DBAçš„æµ‹è¯•å…è®¸ çº¿ä¸ŠOLTPç³»ç»Ÿä¸­ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼Œé«˜å¹¶å‘æ—¶æžæ˜“å¼•èµ·æ­»é”ç­‰é—®é¢˜ ç´¢å¼•ä½¿ç”¨ç¦å¿Œ ä¸ä½¿ç”¨%å‰å¯¼çš„æŸ¥è¯¢ï¼Œå¦‚like &#39;%ab&#39; ä¸ä½¿ç”¨è´Ÿå‘æŸ¥è¯¢ï¼Œå¦‚not in/not like/&lt;&gt; ä¸åœ¨ä½ŽåŒºåˆ†åº¦çš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ï¼Œä¾‹å¦‚â€œæ€§åˆ«â€ ä¸åœ¨ç´¢å¼•åˆ—è¿›è¡Œæ•°å­¦è¿ç®—å’Œå‡½æ•°è¿ç®— ç¤ºä¾‹ï¼šå‡è®¾åœ¨è¡¨tabä¸­idå»ºç«‹äº†ç´¢å¼• Select col_A,col_B from tab where id + 1 &gt; 10001 ä¸ä¼šä½¿ç”¨ç´¢å¼• Select col_A,col_B from tab where id &gt; 10001 â€“ 1 ä¼šä½¿ç”¨ç´¢å¼• SQLä¼˜åŒ– çº¿ä¸Šå°½é‡å°‘ä½¿ç”¨å¤§SQLï¼Œå¯èƒ½ä¸€æ¡å¤§SQLå°±æŠŠæ•´ä¸ªæ•°æ®åº“å µæ­»ï¼Œå°†å¤æ‚SQLæ‹†åˆ†ä¸ºå¤šæ¡ç®€å•SQLï¼ŒåŒ–ç¹ä¸ºç®€ ä¸€æ¡SQLåªèƒ½åœ¨ä¸€ä¸ªCPUä¸Šè¿ç®—ï¼Œå¦‚æžœSQLæ¯”è¾ƒå¤æ‚æ‰§è¡Œæ•ˆçŽ‡ä¼šéžå¸¸ä½Ž ç®€å•SQLç¼“å­˜å‘½ä¸­çŽ‡æ›´é«˜ å‡å°‘é”è¡¨æ—¶é—´ å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œæé«˜å¹¶å‘æ•ˆçŽ‡ å‡å°‘MySQLç«¯çš„æ•°å­¦è¿ç®—å’Œé€»è¾‘åˆ¤æ–­ï¼Œé¿å…SQLè¯­å¥å‡ºçŽ°md5()ã€order by rand()ç­‰ å°½é‡å°‘ç”¨SELECT * ,åªå–éœ€è¦çš„æ•°æ®åˆ—, é¿å…æ— è°“çš„IOã€CPUå’Œç½‘ç»œå¼€é”€ WHEREæ¡ä»¶ä¸­ï¼ŒåŒä¸€å­—æ®µæ”¹å†™ORä¸ºIN()ï¼ŒINåŒ…å«çš„å€¼ä¸åº”è¿‡å¤šï¼Œé»˜è®¤ä¸è¶…è¿‡200ä¸ªï¼ŒINé‡Œç¦æ­¢ä½¿ç”¨å­æŸ¥è¯¢ è¿‡æ»¤è¡¨è®°å½•åˆå¹¶ä¸”ä¸åŽ»é‡çš„æƒ…å†µï¼Œæ”¹å†™UNIONä¸ºUNION ALL å‡å°‘ä½¿ç”¨æ‹¼æŽ¥SQL,ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ï¼Œé™ä½ŽSQLæ³¨å…¥æ¦‚çŽ‡ WHEREæ¡ä»¶ä¸­çš„éžç­‰å€¼æ¡ä»¶ï¼ˆINã€BETWEENã€&lt;ã€&lt;=ã€&gt;ã€&gt;=ï¼‰ä¼šå¯¼è‡´ä½¿ç”¨ä¸äº†è”åˆç´¢å¼•çš„åŽç»­å­—æ®µï¼Œæ³¨æ„é¿å… WHEREæ¡ä»¶æ¯”è¾ƒï¼Œå­—æ®µç±»åž‹å’Œä¼ å…¥å€¼å¿…é¡»ä¿è¯ç±»åž‹ä¸€è‡´ï¼Œé¿å…éšå¼è½¬æ¢ ç¤ºä¾‹ï¼šå­—æ®µï¼š code varchar(50) NOT NULL COMENT &#39;ç¼–ç &#39; #codeä¸Šå»ºç«‹äº†ç´¢å¼• SELECT id,name,addr from tab_name where code=10001; ä¸ä¼šä½¿ç”¨ç´¢å¼• SELECT id,name,addr from tab_name where code=&#39;10001&#39;; ä¼šä½¿ç”¨ç´¢å¼• Limitåˆ†é¡µä¼˜åŒ– ä¼ ç»Ÿåˆ†é¡µï¼š Select * from table limit 10000,10; LIMITåŽŸç†ï¼šLimit 10000,10 åç§»é‡è¶Šå¤§åˆ™è¶Šæ…¢ æŽ¨èåˆ†é¡µï¼š åˆ†é¡µæ–¹å¼ä¸€ï¼š Select * from table WHERE id&gt;=23423 limit 11; #10+1 (æ¯é¡µ10æ¡) Select * from table WHERE id&gt;=23434 limit 11; åˆ†é¡µæ–¹å¼äºŒï¼š Select * from table WHERE id &gt;= ( select id from table limit 10000,1 ) limit 10; åˆ†é¡µæ–¹å¼ä¸‰ï¼š Select * from table INNER JOIN (SELECT id from table limit 10000,10) USING(id) åˆ†é¡µæ–¹å¼å››ï¼š ç¨‹åºå–ID: Select id from table limit 10000,10; ç„¶åŽ Select * from table WHERE ID in(123,456â€¦);]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é«˜æ•ˆRediså¼€å‘è§„èŒƒ]]></title>
    <url>%2Fce36c3d9.html</url>
    <content type="text"><![CDATA[*æœ¬ç¯‡è½¬è½½è‡ªå…¬å¸å†…éƒ¨æ–‡ç« ï¼ˆå·²è„±æ•å¤„ç†ï¼‰ å†·çƒ­æ•°æ®åˆ†ç¦»ï¼Œä¸è¦å°†æ‰€æœ‰æ•°æ®å…¨éƒ¨éƒ½æ”¾åˆ°Redisä¸­ è™½ç„¶Redisæ”¯æŒæŒä¹…åŒ–ï¼Œä½†æ˜¯Redisçš„æ•°æ®å­˜å‚¨å…¨éƒ¨éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œæˆæœ¬æ˜‚è´µã€‚å»ºè®®æ ¹æ®ä¸šåŠ¡åªå°†é«˜é¢‘çƒ­æ•°æ®å­˜å‚¨åˆ°Redisä¸­ã€QPSå¤§äºŽ5000ã€‘ï¼Œå¯¹äºŽä½Žé¢‘å†·æ•°æ®å¯ä»¥ä½¿ç”¨MySQL/MongoDBç­‰åŸºäºŽç£ç›˜çš„å­˜å‚¨æ–¹å¼ï¼Œä¸ä»…èŠ‚çœå†…å­˜æˆæœ¬ï¼Œè€Œä¸”æ•°æ®é‡å°åœ¨æ“ä½œæ—¶é€Ÿåº¦æ›´å¿«ã€æ•ˆçŽ‡æ›´é«˜ï¼ ä¸åŒçš„ä¸šåŠ¡æ•°æ®è¦åˆ†å¼€å­˜å‚¨ ä¸è¦å°†ä¸ç›¸å…³çš„ä¸šåŠ¡æ•°æ®éƒ½æ”¾åˆ°ä¸€ä¸ªRediså®žä¾‹ä¸­ï¼Œå»ºè®®æ–°ä¸šåŠ¡ç”³è¯·æ–°çš„å•ç‹¬å®žä¾‹ã€‚å› ä¸ºRedisä¸ºå•çº¿ç¨‹å¤„ç†ï¼Œç‹¬ç«‹å­˜å‚¨ä¼šå‡å°‘ä¸åŒä¸šåŠ¡ç›¸äº’æ“ä½œçš„å½±å“ï¼Œæé«˜è¯·æ±‚å“åº”é€Ÿåº¦ï¼›åŒæ—¶ä¹Ÿé¿å…å•ä¸ªå®žä¾‹å†…å­˜æ•°æ®é‡è†¨èƒ€è¿‡å¤§ï¼Œåœ¨å‡ºçŽ°å¼‚å¸¸æƒ…å†µæ—¶å¯ä»¥æ›´å¿«æ¢å¤æœåŠ¡ï¼ å­˜å‚¨çš„Keyä¸€å®šè¦è®¾ç½®è¶…æ—¶æ—¶é—´ å¦‚æžœåº”ç”¨å°†Rediså®šä½ä¸ºç¼“å­˜Cacheä½¿ç”¨ï¼Œå¯¹äºŽå­˜æ”¾çš„Keyä¸€å®šè¦è®¾ç½®è¶…æ—¶æ—¶é—´ï¼å› ä¸ºè‹¥ä¸è®¾ç½®ï¼Œè¿™äº›Keyä¼šä¸€ç›´å ç”¨å†…å­˜ä¸é‡Šæ”¾ï¼Œé€ æˆæžå¤§çš„æµªè´¹ï¼Œè€Œä¸”éšç€æ—¶é—´çš„æŽ¨ç§»ä¼šå¯¼è‡´å†…å­˜å ç”¨è¶Šæ¥è¶Šå¤§ï¼Œç›´åˆ°è¾¾åˆ°æœåŠ¡å™¨å†…å­˜ä¸Šé™ï¼å¦å¤–Keyçš„è¶…æ—¶é•¿çŸ­è¦æ ¹æ®ä¸šåŠ¡ç»¼åˆè¯„ä¼°ï¼Œè€Œä¸æ˜¯è¶Šé•¿è¶Šå¥½ï¼ å¯¹äºŽå¿…é¡»è¦å­˜å‚¨çš„å¤§æ–‡æœ¬æ•°æ®ä¸€å®šè¦åŽ‹ç¼©åŽå­˜å‚¨ å¯¹äºŽå¤§æ–‡æœ¬ã€è¶…è¿‡500å­—èŠ‚ã€‘å†™å…¥åˆ°Redisæ—¶ï¼Œä¸€å®šè¦åŽ‹ç¼©åŽå­˜å‚¨ï¼å¤§æ–‡æœ¬æ•°æ®å­˜å…¥Redisï¼Œé™¤äº†å¸¦æ¥æžå¤§çš„å†…å­˜å ç”¨å¤–ï¼Œåœ¨è®¿é—®é‡é«˜æ—¶ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå°†ç½‘å¡æµé‡å æ»¡ï¼Œè¿›è€Œé€ æˆæ•´ä¸ªæœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰æœåŠ¡ä¸å¯ç”¨ï¼Œå¹¶å¼•å‘é›ªå´©æ•ˆåº”ï¼Œé€ æˆå„ä¸ªç³»ç»Ÿç˜«ç—ªï¼ çº¿ä¸ŠRedisç¦æ­¢ä½¿ç”¨Keysæ­£åˆ™åŒ¹é…æ“ä½œ Redisæ˜¯å•çº¿ç¨‹å¤„ç†ï¼Œåœ¨çº¿ä¸ŠKEYæ•°é‡è¾ƒå¤šæ—¶ï¼Œæ“ä½œæ•ˆçŽ‡æžä½Žã€æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ã€‘ï¼Œè¯¥å‘½ä»¤ä¸€æ—¦æ‰§è¡Œä¼šä¸¥é‡é˜»å¡žçº¿ä¸Šå…¶å®ƒå‘½ä»¤çš„æ­£å¸¸è¯·æ±‚ï¼Œè€Œä¸”åœ¨é«˜QPSæƒ…å†µä¸‹ä¼šç›´æŽ¥é€ æˆRedisæœåŠ¡å´©æºƒï¼å¦‚æžœæœ‰ç±»ä¼¼éœ€æ±‚ï¼Œè¯·ä½¿ç”¨scanå‘½ä»¤ä»£æ›¿ï¼ å¯é çš„æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ Redis Listç»å¸¸è¢«ç”¨äºŽæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ã€‚å‡è®¾æ¶ˆè´¹è€…ç¨‹åºåœ¨ä»Žé˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯åŽç«‹åˆ»å´©æºƒï¼Œä½†ç”±äºŽè¯¥æ¶ˆæ¯å·²ç»è¢«å–å‡ºä¸”æ²¡æœ‰è¢«æ­£å¸¸å¤„ç†ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºè¯¥æ¶ˆæ¯å·²ç»ä¸¢å¤±ï¼Œç”±æ­¤å¯èƒ½ä¼šå¯¼è‡´ä¸šåŠ¡æ•°æ®ä¸¢å¤±ï¼Œæˆ–ä¸šåŠ¡çŠ¶æ€ä¸ä¸€è‡´ç­‰çŽ°è±¡å‘ç”Ÿã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒRedisæä¾›äº†RPOPLPUSHå‘½ä»¤ï¼Œæ¶ˆè´¹è€…ç¨‹åºä¼šåŽŸå­æ€§çš„ä»Žä¸»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯å¹¶å°†å…¶æ’å…¥åˆ°å¤‡ä»½é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°æ¶ˆè´¹è€…ç¨‹åºå®Œæˆæ­£å¸¸çš„å¤„ç†é€»è¾‘åŽå†å°†è¯¥æ¶ˆæ¯ä»Žå¤‡ä»½é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚åŒæ—¶è¿˜å¯ä»¥æä¾›ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œå½“å‘çŽ°å¤‡ä»½é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯è¿‡æœŸæ—¶ï¼Œå¯ä»¥é‡æ–°å°†å…¶å†æ”¾å›žåˆ°ä¸»æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œä»¥ä¾¿å…¶å®ƒçš„æ¶ˆè´¹è€…ç¨‹åºç»§ç»­å¤„ç†ã€‚ è°¨æ…Žå…¨é‡æ“ä½œHashã€Setç­‰é›†åˆç»“æž„ åœ¨ä½¿ç”¨HASHç»“æž„å­˜å‚¨å¯¹è±¡å±žæ€§æ—¶ï¼Œå¼€å§‹åªæœ‰æœ‰é™çš„åå‡ ä¸ªfieldï¼Œå¾€å¾€ä½¿ç”¨HGETALLèŽ·å–æ‰€æœ‰æˆå‘˜ï¼Œæ•ˆçŽ‡ä¹Ÿå¾ˆé«˜ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡å‘å±•ï¼Œä¼šå°†fieldæ‰©å¼ åˆ°ä¸Šç™¾ä¸ªç”šè‡³å‡ ç™¾ä¸ªï¼Œæ­¤æ—¶è¿˜ä½¿ç”¨HGETALLä¼šå‡ºçŽ°æ•ˆçŽ‡æ€¥å‰§ä¸‹é™ã€ç½‘å¡é¢‘ç¹æ‰“æ»¡ç­‰é—®é¢˜ã€æ—¶é—´å¤æ‚åº¦O(N)ã€‘,æ­¤æ—¶å»ºè®®æ ¹æ®ä¸šåŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªHashç»“æž„ï¼›æˆ–è€…å¦‚æžœå¤§éƒ¨åˆ†éƒ½æ˜¯èŽ·å–æ‰€æœ‰å±žæ€§çš„æ“ä½œ,å¯ä»¥å°†æ‰€æœ‰å±žæ€§åºåˆ—åŒ–ä¸ºä¸€ä¸ªSTRINGç±»åž‹å­˜å‚¨ï¼åŒæ ·åœ¨ä½¿ç”¨SMEMBERSæ“ä½œSETç»“æž„ç±»åž‹æ—¶ä¹Ÿæ˜¯ç›¸åŒçš„æƒ…å†µï¼ æ ¹æ®ä¸šåŠ¡åœºæ™¯åˆç†ä½¿ç”¨ä¸åŒçš„æ•°æ®ç»“æž„ç±»åž‹ ç›®å‰Redisæ”¯æŒçš„æ•°æ®åº“ç»“æž„ç±»åž‹è¾ƒå¤šï¼šå­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼Œå“ˆå¸Œï¼ˆHashï¼‰ï¼Œåˆ—è¡¨ï¼ˆListï¼‰ï¼Œé›†åˆï¼ˆSetï¼‰ï¼Œæœ‰åºé›†åˆï¼ˆSorted Setï¼‰, Bitmap, HyperLogLogå’Œåœ°ç†ç©ºé—´ç´¢å¼•ï¼ˆgeospatialï¼‰ç­‰,éœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„ç±»åž‹ï¼Œå¸¸è§çš„å¦‚ï¼šStringå¯ä»¥ç”¨ä½œæ™®é€šçš„K-Vã€è®¡æ•°ç±»ï¼›Hashå¯ä»¥ç”¨ä½œå¯¹è±¡å¦‚å•†å“ï¼ŒåŒ…å«è¾ƒå¤šå±žæ€§çš„ä¿¡æ¯ï¼›Listå¯ä»¥ç”¨ä½œæ¶ˆæ¯é˜Ÿåˆ—ã€ç²‰ä¸/å…³æ³¨åˆ—è¡¨ç­‰ï¼›Setå¯ä»¥ç”¨äºŽæŽ¨èï¼›Sorted Setå¯ä»¥ç”¨äºŽæŽ’è¡Œæ¦œç­‰ï¼]]></content>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Junitæ— æ³•æ­£å¸¸æµ‹è¯•å¤šçº¿ç¨‹é—®é¢˜åŽŸå› åˆ†æžä¸Žè§£å†³]]></title>
    <url>%2F4a713ad3.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä»Šå¤©åœ¨ Junit ä¸­å°è¯•è°ƒè¯•å¤šçº¿ç¨‹ä¸šåŠ¡ï¼Œç»“æžœå‘çŽ°ï¼ŒtestXX æ–¹æ³•ä¸­æ—©æ—©å°±é€€å‡ºäº†è™šæ‹Ÿæœºï¼Œå¯åŠ¨çš„å­çº¿ç¨‹å…¨éƒ½åŽ‹æ ¹æ²¡æœ‰æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Junit ä¸­æ— æ³•æ­£å¸¸çš„æµ‹è¯•å¤šçº¿ç¨‹ã€‚ åˆ†æžä¸€å¼€å§‹ï¼Œæˆ‘ä»¥ä¸ºæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­å‡ºçŽ°äº†å¼‚å¸¸ï¼Œå¯¼è‡´äº†è™šæ‹Ÿæœºçš„é€€å‡ºï¼Œä½†æ˜¯åšäº†ä¸€ä¸ªå°å®žéªŒåˆ†æžäº†ä¸€ä¸‹ï¼Œå‘çŽ°ä¸æ˜¯é‚£ä¹ˆå›žäº‹ã€‚ç»è¿‡è¯•éªŒï¼Œæˆ‘å‘çŽ°ï¼Œæ— è®ºæ˜¯ Exception RuntimeException ç”šè‡³ Error éƒ½ä¸èƒ½é€ æˆè™šæ‹Ÿæœºçš„é€€å‡ºï¼Œå­çº¿ç¨‹éƒ½èƒ½è¢«æ‰§è¡Œåˆ°ï¼Œåªæœ‰ System.exit(n) æ‰èƒ½ç›´æŽ¥é€€æŽ‰è™šæ‹Ÿæœºï¼Œå¿½ç•¥å­çº¿ç¨‹çš„æ‰§è¡Œã€‚ 1234567891011121314151617181920212223package com.github.since1986.learn.java;import java.util.concurrent.ExecutorService;import java.util.concurrent.Executors;public class LearnThread &#123; public static void main(String[] args) throws Exception &#123; int subThreadCount = 9; ExecutorService executorService = Executors.newFixedThreadPool(subThreadCount); for (int i = 0; i &lt; subThreadCount; i++) &#123; executorService.submit(() -&gt; &#123; System.out.printf("çº¿ç¨‹ [%s] è¿è¡Œ\n", Thread.currentThread().getName()); &#125;); &#125; //throw new Exception(); //throw new RuntimeException(); //throw new Error(); System.exit(0); &#125;&#125; è¾“å‡º 1Process finished with exit code 0 å› æ­¤ï¼Œå¤§è‡´å¯ä»¥çŒœæµ‹ï¼ŒJunit ä¸­åœ¨ä»€ä¹ˆåœ°æ–¹è°ƒç”¨äº†System.exit() æ‰€ä»¥é€ æˆäº†å­çº¿ç¨‹æ— æ³•æ‰§è¡Œï¼ŒGoogle äº†ä¸€ä¸‹ï¼Œæœ‰è¿™ç¯‡æ–‡ç« ä¹Ÿç ”ç©¶äº†è¿™ä¸ªé—®é¢˜ï¼Œæžœç„¶åœ¨ Junit ä¸­æœ‰ä¸€ä¸ªç±» org.junit.runner.JUnitCore åŒ…å«äº† System.exit() 123456789101112/** * Run the tests contained in the classes named in the &lt;code&gt;args&lt;/code&gt;. * If all tests run successfully, exit with a status of 0. Otherwise exit with a status of 1. * Write feedback while tests are running and write * stack traces for all failed tests after the tests all complete. * * @param args names of classes in which to find tests to run */public static void main(String... args) &#123; Result result = new JUnitCore().runMain(new RealSystem(), args); System.exit(result.wasSuccessful() ? 0 : 1);&#125; æˆ‘æƒ³åœ¨è¿™ä¸ªç±»ä¸Šæ‰“ä¸Šæ–­ç‚¹è¯•ä¸€ä¸‹ï¼Œèµ°ä¸€éï¼Œç»“æžœæƒŠå¥‡çš„å‘çŽ°ï¼Œæ–­ç‚¹å¹¶æ²¡æœ‰èµ°åˆ°è¿™ä¸ªï¼Œç„¶åŽçœ‹äº†çœ‹ debug çª—ä¸­çº¿ç¨‹ main å‘çŽ°æœ‰è¿™ä¹ˆä¸€ä¸ªç±» com.intellij.rt.execution.junit.JUnitStarter æœ€åŽ main() åŽŸæ¥æ˜¯åœ¨è¿™äº†ç±»é‡Œçš„ï¼Œè¿™ä¸ªç±»æ˜Žæ˜¾æ˜¯ idea å†…éƒ¨çš„ä¸€ä¸ªæ’ä»¶ç±»ã€‚ Google äº†ä¸€ä¸‹ï¼Œå®žé™…ä¸Šè¿™ä¸ªæ’ä»¶æ˜¯å¼€æºçš„ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªç±»çš„æºä»£ç ï¼Œå¤§è‡´ä¸Šçœ‹äº†ä¸€çœ¼ï¼Œé‡Œé¢ä¹Ÿæ˜¯è°ƒç”¨äº†System.exit()ï¼ˆä¸ç®¡æ€Žæ ·ï¼Œæœ€åŽ testXX æ–¹æ³•è‚¯å®šä¼šæ˜¯é€šè¿‡main()æ¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹main()å°±å¥½äº†ï¼‰ï¼Œæ‰€ä»¥ï¼Œå¤§åªèƒ½å°è¯ä¸ªå¤§æ¦‚ï¼Œæ˜¯å› ä¸º Junit å½“ä¸­ä½¿ç”¨äº†System.exit()ï¼Œæ‰€ä»¥å¯¼è‡´äº†å­çº¿ç¨‹çš„æ‰§è¡Œå› ä¸ºè™šæ‹Ÿæœºçš„é€€å‡ºè€Œè¢«å¿½ç•¥ï¼Œæ‰€ä»¥æ— æ³•æ­£å¸¸æµ‹è¯•å¤šçº¿ç¨‹ã€‚ 123456789101112131415161718192021222324public static void main(String[] args) throws IOException &#123; Vector argList = new Vector(); for (int i = 0; i &lt; args.length; i++) &#123; String arg = args[i]; argList.addElement(arg); &#125; final ArrayList listeners = new ArrayList(); final String[] name = new String[1]; String agentName = processParameters(argList, listeners, name); if (!JUNIT5_RUNNER_NAME.equals(agentName) &amp;&amp; !canWorkWithJUnitVersion(System.err, agentName)) &#123; System.exit(-3); &#125; if (!checkVersion(args, System.err)) &#123; System.exit(-3); &#125; String[] array = new String[argList.size()]; argList.copyInto(array); int exitCode = prepareStreamsAndStart(array, agentName, listeners, name[0]); System.exit(exitCode);&#125; è§£å†³å…¶å®žæ˜Žç™½äº†å¤§è‡´çš„åŽŸå› ï¼Œè§£å†³èµ·æ¥ä¹Ÿå°±ç®€å•äº†ï¼Œè®©ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•å°±å¥½äº†ï¼Œå®žçŽ°è¿™ä¸€ç‚¹æœ‰å¤šç§æ–¹å¼ï¼Œå¯ä»¥ç”¨â€å€’è®¡æ•°é—¨æ “â€æˆ–è€…â€å¯å¾ªçŽ¯ä½¿ç”¨å±éšœâ€ã€‚ï¼ˆå®žé™…ä¸Šæˆ‘ä¸­é—´è¯·æ•™äº†æˆ‘çš„åŒäº‹ï¼Œä»–å¹¶æ²¡æœ‰åˆ†æžè¿™èŽ«å¤šï¼Œå¤§è‡´å‡­ç»éªŒå‘Šè¯‰æˆ‘å¯ä»¥ä½¿ç”¨å€’è®¡æ•°é—¨æ “ï¼Œæˆ‘å½“æ—¶è¯•äº†ç¡®å®žç®¡ç”¨ï¼‰ æ€»ç»“é€šè¿‡è¿™æ¬¡è§£å†³å·¥ä½œä¸­å‡ºçŽ°çš„ä¸€ä¸ªé—®é¢˜çš„å¥‘æœºï¼Œæˆ‘å¯¹ Junit ä»¥åŠå¤šçº¿ç¨‹åˆåŠ æ·±äº†ä¸€äº›ç†è§£ã€‚æ€»çš„æ¥è¯´ï¼Œå¯¹äºŽç†è®ºçš„ç†è§£è¦åœ¨å®žè·µä¸­ä¸æ–­çš„ç£¨ç»ƒæ‰èƒ½è¶Šæ¥è¶Šæ·±å…¥ã€‚]]></content>
      <tags>
        <tag>æºç åˆ†æž</tag>
        <tag>Junit</tag>
        <tag>å¤šçº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨å¿«æ·é”®è®°å½•]]></title>
    <url>%2Fc7eaf7eb.html</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç”¨åˆ°ä¸€äº›å¿«æ·é”®æ“ä½œï¼Œåœ¨è¿™é‡Œç»Ÿä¸€è®°å½•ä¸€ä¸‹ï¼Œé˜²æ­¢é—å¿˜ã€‚ macOSâŒ˜ + â†‘ Finder è½¬å‘ä¸Šå±‚ç›®å½• â‡§ + âŒ˜ + . æ˜¾ç¤º/éšè— éšè—æ–‡ä»¶ âŒ˜ + c å¤åˆ¶åŽæŒ‰ âŒ¥ + âŒ˜ + v ç›¸å½“äºŽ Windows ä¸­çš„å‰ªåˆ‡ IntelliJ IDEACtrl + shift + å¤§æ•°å­—é”® ç»™ä»£ç æ‰“æ ‡ç­¾ æŒ‰ä½ âŒ¥ + é¼ æ ‡é€‰ä¸­ åˆ—ç¼–è¾‘ âŒ¥ + âŒ˜ + å·¦å³æ–¹å‘å»º å›žåˆ°ä¸Šä¸€/ä¸‹ä¸€ ç¼–è¾‘ç‚¹ âŒ¥ + âŒ˜ + b å®šä½åˆ°å®žçŽ° Ctrl + j å¿«é€Ÿæ‰“å¼€ Javadoc âŒ˜ + F12 æ‰“å¼€å¤§çº² â‡§ + âŒ˜ + å°é”®ç›˜åŠ å·é”® å±•å¼€å…¨éƒ¨ â‡§ + âŒ˜ + å°é”®ç›˜å‡å·é”® æ”¶èµ·å…¨éƒ¨ âŒ¥ + âŒ˜ + [ åˆ‡æ¢åˆ°ä¸Šä¸€é¡¹ç›®çª—å£ âŒ¥ + âŒ˜ + ] åˆ‡æ¢åˆ°ä¸‹ä¸€é¡¹ç›®çª—å£ âŒ˜ + y åˆ é™¤è¡Œ â‡§ + âŒ˜ + u åˆ‡æ¢é€‰æ‹©å­—æ¯çš„å¤§å°å†™ âŒ˜ + g å¿«é€Ÿè·³è½¬åˆ° è¡Œ:åˆ— Chromeâ‡§ + âŒ˜ + r å¼ºåˆ¶åˆ·æ–°ï¼ˆç›¸å½“äºŽ Windows ä¸­çš„ Ctrl + F5ï¼‰ iTermâŒ˜ + d æ¨ªå‘åˆ†å± â‡§ + âŒ˜ + d çºµå‘åˆ†å± âŒ¥ + âŒ˜ + f å¯†ç ç®¡ç†å™¨]]></content>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€šè¿‡åˆ†æžåŽŸåž‹åšç³»ç»Ÿè®¾è®¡]]></title>
    <url>%2Fa6253051.html</url>
    <content type="text"><![CDATA[åˆšåˆšæŽ¥æ‰‹äº†ä¸€ä¸ªæ–°ç³»ç»Ÿï¼Œé¢†å¯¼è®©æˆ‘åŽ»åšä¸€ä¸‹è®¾è®¡ï¼Œä¸€å¼€å§‹æˆ‘ç¨æ„Ÿæœ‰äº›æ‰¾ä¸åˆ°å¤´ç»ªï¼ŒåŽæ¥çœ‹äº†äº§å“åŒå­¦ç»™çš„ AxureRP åŽŸåž‹æ–‡ä»¶åŽï¼Œæ„Ÿè§‰æœ‰äº†æ€è·¯äº†ã€‚æ€»ä½“çš„æ€è·¯æ˜¯â€ç”±ç‚¹åŠé¢â€ï¼Œå…ˆåˆ†æžåŽŸåž‹ä¸­ç»™å‡ºçš„å„ä¸ªé¡µé¢å¯èƒ½éœ€è¦å“ªäº›æŽ¥å£ï¼Œéƒ½åˆ†æžå‡ºæ¥åŽï¼Œå†æ€»ç»“å‡ºæ•´ä½“çš„ç±»è®¾è®¡ã€‚ä¸è¦ä¸€ä¸Šæ¥å°±é“ºå¤§é¢ï¼Œä»Žç»†å¾®å¤„ç€çœ¼ï¼Œç„¶åŽå†æ±‡é›†æˆæ•´ä½“çš„æž„æž¶ï¼Œè¿™æ ·åœ¨æ€è·¯ä¸Šå°±å¾ˆè‡ªç„¶äº†ï¼Œå°±åƒå¤§æµ·æ˜¯ç”±å°æºªæ±‡èšæˆæ²³æµï¼Œåœ¨æ±‡èšæˆæ±Ÿï¼Œæœ€åŽåˆæµæˆä¸ºæµ·ä¸Žæ´‹ä¸€æ ·ï¼Œå®žé™…ä¸Šå¤§è‡ªç„¶æ—©å°±ç»™äº†æˆ‘ä»¬å°±å†³é—®é¢˜çš„çµæ„Ÿäº†ï¼Œè¦å–„äºŽå‘çŽ°ã€‚]]></content>
      <tags>
        <tag>è®¾è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Charlesæ— æ³•æŠ“å–iOSä¸­HTTPSè¯·æ±‚çš„è§£å†³]]></title>
    <url>%2Fe138fa49.html</url>
    <content type="text"><![CDATA[ä»Šå¤©å·¥ä½œä¸­éœ€è¦ç”¨ Charles æŠ“å– iOS ä¸­çš„ HTTPS åŒ…ï¼Œå·²ç»é…ç½®å¥½äº† macOS ç«¯ä¸Ž iOS ç«¯çš„è¯ä¹¦ï¼Œä½†æ˜¯ HTTPS æŠ“å–å…¨æ˜¯çº¢å‰ï¼ŒåŽæ¥çœ‹äº†çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæœ‰è¿™ä¹ˆä¸€æ®µæè¿°ï¼š If you are on iOS 10.3 or later, open the Settings.app and navigate to General &gt; About &gt; Certificate Trust Settings, and find the Charles Proxy certificate, and switch it on to enable full trust for it (More information about this change in iOS 10). åŽŸæ¥ iOS 10.3 ä»¥åŽéœ€è¦æ‰‹åŠ¨æ‰“å¼€ä¸€ä¸ªå¼€å…³ï¼Œæ‰èƒ½æ­£å¸¸æŠ“åŒ… HTTPSã€‚ æ‰“å¼€è¿™ä¸ªå¼€å…³åŽï¼Œæžœç„¶èƒ½å¤Ÿæ­£å¸¸æŠ“åŒ…äº†ã€‚]]></content>
      <tags>
        <tag>æŠ“åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥ä½œä¸­å¸¸ç”¨çš„Linuxå‘½ä»¤æ±‡æ€»]]></title>
    <url>%2Ffaa8f5e3.html</url>
    <content type="text"><![CDATA[æ—¥å¸¸å·¥ä½œä¸­ï¼Œéœ€è¦ç”¨åˆ°ä¸å°‘å‘½ä»¤ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œä»¥å¼ºåŒ–è®°å¿†ã€‚ æŸ¥çœ‹ç³»ç»Ÿå½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯1234567wwhowhoamilast æŸ¥çœ‹ç»ˆç«¯å‘½ä»¤æ‰§è¡ŒåŽ†å²1history åŽ‹ç¼©123tar â€“czf desc.tar.gz *.srczip -r desc.zip ./src/* è§£åŽ‹123tar -xzvf file.tar.gzunzip -d /desc src.zip è½¯é“¾æŽ¥123ln -s file linkrm -r link ç§»åŠ¨æ–‡ä»¶1mv src desc/src æ–‡ä»¶ä¼ è¾“12345scp /local/file/path user@remote_host:/remote/save/pathscp user@remote_host:/file/path /local/file/pathrz å­—ç¬¦ä¸²æ“ä½œ12#èŽ·å¾—æ–‡ä»¶åï¼ˆåŽ»æŽ‰è·¯å¾„ï¼‰basename /file/path/file_name #è¾“å‡º file_name æ–‡ä»¶æ“ä½œ12345#æŸ¥çœ‹æ–‡ä»¶è¡Œæ•°cat xxx.x | wc -l#llå‘½ä»¤æ˜¾ç¤ºäººç±»å¯è¯»çš„æ–‡ä»¶å¤§å°ll -h çŽ¯å¢ƒæŸ¥çœ‹12345#æŸ¥çœ‹æ‰€æœ‰çŽ¯å¢ƒå˜é‡env#æŸ¥çœ‹æ‰€æœ‰å˜é‡set]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žè·µä¸­é‡åˆ°çš„è®¾è®¡æ¨¡å¼çš„æ€»ç»“]]></title>
    <url>%2F432fb420.html</url>
    <content type="text"><![CDATA[æ¨¡å¼æ¥æºäºŽå®žè·µï¼Œåˆä¼šåè¿‡æ¥ä½œç”¨äºŽå®žè·µï¼Œåœ¨æ—¥å¸¸çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæœ‰æ„æ— æ„çš„æŽ¥è§¦ä¸€äº›æ¨¡å¼ï¼Œåœ¨æ­¤æŒç»­è®°å½•ä¸€ä¸‹ï¼Œä¸ºè®¾è®¡æä¾›çµæ„Ÿçš„æ¥æºã€‚ æž„å»ºå™¨æ¨¡å¼ java.lang.StringBuilder]]></content>
      <tags>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¸¸ç”¨ä¸šåŠ¡SQLç§¯ç´¯]]></title>
    <url>%2F2e631123.html</url>
    <content type="text"><![CDATA[ç§¯ç´¯ä¸€ä¸‹å¸¸ç”¨çš„ä¸šåŠ¡SQL,ä»¥å¤‡å°†æ¥é‡æ–°å›žé¡¾ä½¿ç”¨ã€‚ æœ‰å¦‚ä¸‹ç”¨æˆ·è¡¨å’Œè®¢å•è¡¨ï¼ŒæŸ¥å‡ºç”¨æˆ·ä¿¡æ¯åŠå…¶è®¢å•æ•°ï¼ˆåªæŸ¥è®¢å•æ•°å¤§äºŽç­‰äºŽ1çš„ï¼‰ï¼Œå¹¶æŒ‰å…¶è®¢å•æ•°å€’åºusers id name phone 1 æµ‹è¯•1 12345671 2 æµ‹è¯•2 12345672 3 æµ‹è¯•3 12345673 4 æµ‹è¯•4 12345674 orders id number user_id 1 o1 1 2 o2 2 3 o3 2 4 o4 2 1select * from (select users.id, users.name, users.phone, (select count(orders.id) from orders where orders.user_id = users.id) as order_count from users) as temp_table where temp_table.order_count &gt;= 1 order by temp_table.order_count desc;]]></content>
      <tags>
        <tag>SQL</tag>
        <tag>ä¸šåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macOSå‘½ä»¤è¡Œå¤‡å¿˜]]></title>
    <url>%2F440c7082.html</url>
    <content type="text"><![CDATA[å‰è¨€å‘½ä»¤è¡Œæ€»æ˜¯è®°ä¸ä½ï¼Œç”¨çš„æ—¶å€™åŽ»Googleï¼ŒæŸ¥æ‰¾æˆæœ¬å¤ªé«˜ï¼Œæƒ³äº†æƒ³ï¼Œç´¢æ€§å¼€ç¯‡æ–‡ç« æ±‡æ€»ä¸€ä¸‹ï¼Œåšä¸ªå¤‡å¿˜å½•ï¼Œæ¯æ¬¡æŸ¥å®Œäº†éƒ½è®°åˆ°è¿™é‡Œï¼Œä¸‹æ¬¡ç›´æŽ¥ä»Žè¿™é‡ŒæŸ¥ï¼Œé€Ÿåº¦è¿˜å¿«äº›ã€‚å¦å¤–è®°å½•çš„è¿‡ç¨‹ä¹Ÿç­‰äºŽåŠ æ·±ä¸€éè®°å¿†ã€‚ å¦å¤–æŽ¨èå®‰è£…å·¥å…· thefuck å¾ˆå®žç”¨ã€‚ ä¸€èˆ¬å‘½ä»¤12#æŸ¥çœ‹IPç­‰ä¿¡æ¯ï¼ˆç›¸å½“äºŽWindowsä¸­çš„ipconfigï¼‰ifconfig 123#æŸ¥çœ‹è¿›ç¨‹ç›‘å¬çš„ç«¯å£å·jps #æŸ¥å‡ºè¿›ç¨‹å·lsof -p &lt;è¿›ç¨‹å·&gt; | grep LISTEN brew å‘½ä»¤1234567891011#æŸ¥çœ‹æœåŠ¡åˆ—è¡¨brew services list#å¯åŠ¨æœåŠ¡brew services start &lt;æœåŠ¡å&gt;#åœæ­¢æœåŠ¡brew services stop &lt;æœåŠ¡å&gt;#é‡å¯æœåŠ¡brew services restart &lt;æœåŠ¡å&gt; npm ç›¸å…³1234567891011#pm2 æŸ¥çœ‹pm2 list#pm2 å¯åŠ¨pm2 start &lt;name&gt;#pm2 é‡å¯pm2 restart &lt;name&gt;#pm2 åœæ­¢pm2 stop &lt;name&gt; å‚è€ƒèµ„æ–™Homebrew Services]]></content>
      <tags>
        <tag>macOS</tag>
        <tag>å‘½ä»¤è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring-bootä¸­æŽ¨æ–­mainæ–¹æ³•æ‰€åœ¨ç±»åçš„æ–¹æ³•]]></title>
    <url>%2F4efb37b0.html</url>
    <content type="text"><![CDATA[åˆšåˆšåœ¨çœ‹spring-bootçš„æºç ï¼Œå¶ç„¶å‘çŽ°äº†spring-bootä¸­æŽ¨æ–­main()æ‰€åœ¨ç±»åçš„å¤„ç†æ–¹æ³•ï¼Œæ„Ÿè§‰å¾ˆå·§å¦™ï¼Œè®°å½•ä¸€ä¸‹ã€‚åŽŸç†å°±æ˜¯æ‰‹å·¥æŠ›ä¸€ä¸ªRuntimeExceptionç„¶åŽèŽ·å¾—è¿™ä¸ªRuntimeExceptionçš„StackTraceElement[]ï¼Œè¿­ä»£æ¯ä¸ªStackTraceElementä»Žä¸­æ‰¾å‡ºmethodNameä¸ºmainçš„é‚£ä¸€ä¸ªçš„classNameã€‚ 1234567891011121314private Class&lt;?&gt; deduceMainApplicationClass() &#123; try &#123; StackTraceElement[] stackTrace = new RuntimeException().getStackTrace(); for (StackTraceElement stackTraceElement : stackTrace) &#123; if ("main".equals(stackTraceElement.getMethodName())) &#123; return Class.forName(stackTraceElement.getClassName()); &#125; &#125; &#125; catch (ClassNotFoundException ex) &#123; // Swallow and continue &#125; return null;&#125;]]></content>
      <tags>
        <tag>æºç åˆ†æž</tag>
        <tag>æŠ€å·§</tag>
        <tag>spring-boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»ŽHashMapæŽ§åˆ¶Nodeä¸‹æ ‡ç•Œé™çš„æ–¹æ³•æ¥ç†è§£æŽ©ç çš„æ¦‚å¿µ]]></title>
    <url>%2F9f829116.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä»¥å‰ä¸€ç›´å¯¹æŽ©ç è¿™ä¸ªæ¦‚å¿µååˆ†æ¨¡ç³Šï¼Œè¿™ä¸¤å¤©åœ¨å­¦ä¹ HashMapçš„æ—¶å€™ï¼Œäº†è§£åˆ°äº†æŽ©ç åœ¨å·¥ç¨‹å½“ä¸­çš„å®žé™…åº”ç”¨ï¼Œæ„Ÿè§‰å¯¹äºŽæŽ©ç è¿™ä¸ªæ¦‚å¿µçš„ç†è§£åŠ æ·±äº†ã€‚ HashMapä¸­æŽ©ç çš„åº”ç”¨åœ¨HashMapä¸­ï¼ŒèŠ‚ç‚¹Nodeæ˜¯å­˜æ”¾äºŽä¸€ä¸ªNode[]ï¼ˆèŠ‚ç‚¹æ•°ç»„ï¼‰ä¸­çš„ï¼Œè¿™ä¸ªæ•°ç»„ä¼šæ ¹æ®loadFactorï¼ˆè£…è½½å› å­ï¼‰æ‰©å®¹ï¼Œå¹¶ä¸”å…¶capacityï¼ˆèŠ‚ç‚¹æ•°ç»„é•¿åº¦çš„ä¸Šé™ï¼‰æ€»ä¼šæ˜¯ä¸Šä¸€æ¬¡æ‰©å®¹å‰capacityçš„ä¸¤å€ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªhashå€¼ï¼ˆæ•£åˆ—å€¼ï¼‰ï¼Œè€Œè¿™ä¸ªhashå¯ä»¥è®¤ä¸ºæ˜¯æ¯”è¾ƒéšæ„çš„ï¼Œæœ€èµ·ç ä¸ä¼šæ˜¯æ­£å¥½æ€»èƒ½è½åœ¨Node[]çš„indexä¸Šä¸‹ç•Œé‡Œçš„ï¼Œè‚¯å®šä¼šæœ‰è¶…è¿‡Node[]å¤§å°èŒƒå›´çš„å€¼ï¼Œå¦‚æžœç›´æŽ¥ç”¨hashå½“ä½œindexæ¥åœ¨Node[]å­˜å‚¨ï¼Œå¿…ç„¶ä¼šé€ æˆä¸‹æ ‡è¶Šç•Œï¼Œé‚£ä¹ˆï¼Œè¯¥å¦‚ä½•å¤„ç†è¿™ä¸€æƒ…å†µå‘¢ï¼ŸHashMapçš„ä½œè€…é€šè¿‡æŽ©ç æ¥ä¿è¯äº†èŠ‚ç‚¹ä¸ä¼šåœ¨èŠ‚ç‚¹æ•°ç»„ä¸Šä¸‹æ ‡è¶Šç•Œï¼š 1234567891011121314151617181920212223242526å‡è®¾æœ‰ä¸€ä¸ªèŠ‚ç‚¹hashå€¼ä¸ºå¦‚ä¸‹ï¼ˆèŠ‚ç‚¹çš„hashæ˜¯ç”¨ä¸“é—¨çš„æ–¹æ³•è®¡ç®—å‡ºæ¥çš„ï¼Œè¯¦æƒ…è¯·çœ‹HashMapæºç ï¼‰0000000000000000000000001111_1011 //ä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„251ï¼Œå‡è®¾å½“å‰capacityä¸º16ï¼Œä¹Ÿå°±æ˜¯Node[]çš„indexç•Œé™ä¸º15,ã€‚èŠ‚ç‚¹çš„hashå€¼251å·²è¿œè¿œè¶…å‡ºäº†15ï¼Œå¦‚æžœæ‹¿è¿™ä¸ªå€¼ä½œä¸ºä¸‹æ ‡å¿…ç„¶ä¼šè¶Šç•ŒHashMapä½œè€…ä½¿ç”¨capacity - 1ä½œä¸ºæŽ©ç (mask)ï¼Œé‚£ä¹ˆæŽ©ç å°±æ˜¯ 16 - 1 = 15ï¼Œä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„000000000000000000000000000011110000000000000000000000000000_1111 //maskå°†Nodeçš„hashä¸ŽæŽ©ç åšé€»è¾‘ä¸Žæ“ä½œå¾—åˆ°çš„å€¼æ¢æˆåè¿›åˆ¶æ˜¯11ï¼Œå·²ç»åœ¨Node[]çš„indexç•Œé™èŒƒå›´å†…äº†0000000000000000000000001111_1011 //hash&amp;0000000000000000000000000000_1111 //maskï¿¬0000000000000000000000000000_1011 //indexé€šè¿‡åˆ†æžï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œï¼ŒæŽ©ç çš„ä½œç”¨å®žé™…ä¸Šæ˜¯æŽ©ç›–æŽ‰äº†è¢«æ“ä½œæ•°æ®è¶…è¿‡æŽ©ç å¤§å°èŒƒå›´çš„éƒ¨åˆ†ï¼Œå…¶å®žå¯ä»¥ç†è§£ä¸º&quot;ç®¡ä¸­çª¥è±¹&quot;ï¼Œä½ çš„è§†çº¿åªèƒ½æ¶‰åŠç®¡å£èŒƒå›´å†…çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†è§†çº¿è¢«æŽ©ç›–ä½äº†ï¼›ä¹Ÿå¯ä»¥ç†è§£æˆåŽ»çœ‹ä¸€ä¸ªå¸¦ç€é¢å…·(mask)çš„äººè„¸ï¼Œä½ åªèƒ½çœ‹åˆ°é¢å…·æ²¡æœ‰é®ç›–çš„éƒ¨åˆ†ï¼ˆçœ¼ç›ï¼‰ï¼Œå…¶ä»–éƒ¨åˆ†è¢«æŽ©ç›–ä½äº†000000000000000000000000[1111]_1011 //é€ æˆhashæ¯”Node[]çš„indexç•Œé™å¤§çš„åŽŸå› æ˜¯å› ä¸ºhashæœ‰æ–¹æ‹¬å·æ ‡ç¤ºå‡ºæ¥çš„è¿™å››ä¸ª1ï¼ˆä¹Ÿå°±æ˜¯æ¯”æŽ©ç æœ€é«˜ä¸€ä½1è¿˜è¦é å‰çš„1ï¼‰ï¼Œæ‰€ä»¥è¦è®©hashèƒ½å¤Ÿå½“ä½œindexæ¥ç”¨çš„è¯ï¼Œå°±éœ€è¦æ¶ˆé™¤æŽ‰è¿™å››ä¸ª1[0000000000000000000000000000]_1111 //æŽ©ç å‰é¢çš„è¿™äº›0ç›¸å½“äºŽé¢å…·çš„é®ç›–éƒ¨åˆ†ï¼ŒåŽé¢çš„4ä¸ª1å°±ç›¸å½“äºŽé¢å…·ä¸­èƒ½å¤Ÿéœ²å‡ºçœ¼ç›çš„éƒ¨åˆ†æŽ©ç ä¸­çš„0ä½ä¼šå°†è¢«æ“ä½œæ•°å¯¹åº”ä½æ¸…é›¶ï¼ˆå› ä¸º0 &amp; 0 = 0 å¹¶ä¸” 0 &amp; 1 = 0ï¼‰ä¹Ÿå°±æ˜¯å°†è¢«æ“ä½œæ•°å¯¹åº”ä½&quot;æŽ©ç›–&quot;äº†0000000000000000000000001111&amp;0000000000000000000000000000ï¿¬0000000000000000000000000000æœ€ç»ˆèƒ½çœ‹åˆ°çš„&quot;é¢å…·éœ²å‡ºæ¥çš„éƒ¨åˆ†&quot;å°±æ˜¯indexï¼ˆä¸ºäºŒè¿›åˆ¶11ï¼Œå°äºŽNode[]çš„indexç•Œé™15ï¼‰0000000000000000000000000000_1011 æ€»ç»“æœ¬æ¬¡é€šè¿‡å­¦ä¹ HashMapä¸­æŽ§åˆ¶Nodeä¸‹æ ‡ç•Œé™çš„æ–¹æ³•ï¼Œé—´æŽ¥åœ°åŠ æ·±äº†å¯¹äºŽæŽ©ç æ¦‚å¿µçš„ç†è§£ï¼Œå°±åƒå…¶è‹±æ–‡â€maskâ€åŽŸæœ¬çš„æ„æ€ä¸€æ ·ï¼ŒæŽ©ç å…¶å®žå°±æ˜¯è¢«æ“ä½œæ•°çš„â€é¢å…·â€ã€‚ å‚è€ƒèµ„æ–™Java HashMapå·¥ä½œåŽŸç†åŠå®žçŽ°]]></content>
      <tags>
        <tag>æŠ€å·§</tag>
        <tag>äºŒè¿›åˆ¶</tag>
        <tag>ä½æ“ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JDKåŠ¨æ€ä»£ç†å®žçŽ°åŽŸç†æµ…æž]]></title>
    <url>%2Fbf178159.html</url>
    <content type="text"><![CDATA[å…³äºŽä»£ç†æ¨¡å¼ä»£ç†æ¨¡å¼ç†è§£èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ã€‚å¤§è‡´å¯ä»¥ç†è§£ä¸ºä»£ç†äººä¸Žè¢«ä»£ç†äººå®žçŽ°åŒä¸€æŽ¥å£å®šä¹‰çš„è¡Œä¸ºï¼Œåœ¨å¤–éƒ¨è°ƒç”¨è€…è°ƒç”¨å®šä¹‰çš„è¡Œä¸ºæ—¶ï¼Œä¸ç›´æŽ¥è°ƒç”¨ä»£ç†äººçš„æä¾›çš„è¡Œä¸ºï¼Œè€Œæ˜¯è°ƒç”¨ä»£ç†äººæä¾›çš„è¡Œä¸ºï¼Œæ­¤æ—¶è°ƒç”¨è€…æ˜¯ä¸ä¼šæ„Ÿè§‰åˆ°åŒºåˆ«çš„ï¼Œå› ä¸ºä»£ç†äººæœ‰ç€å’Œè¢«ä»£ç†äººçš„è¡Œä¸ºå®šä¹‰æ˜¯ç›¸åŒçš„ï¼Œè°ƒç”¨è€…æ„Ÿè§‰ä¸åˆ°åŒºåˆ«ï¼ˆä¹Ÿå°±æ˜¯å®žçŽ°äº†åŒä¸€æŽ¥å£ï¼‰ï¼Œåœ¨ä»£ç†äººçš„è¡Œä¸ºä¸­åœ¨åŽ»è°ƒç”¨è¢«ä»£ç†äººçš„è¡Œä¸ºï¼Œå¹¶ä¸”å¯ä»¥å®žçŽ°å¢žå¼ºã€‚è®°å¾—å‰å‡ å¹´æœ‰éƒ¨ç”µå½±ï¼Œæˆ‘è§‰å¾—å…¶å®žå°±å¾ˆå¥½çš„è¯ é‡Šäº†â€ä»£ç†â€è¿™ä¸ªæ¦‚å¿µï¼Œæƒ³å¿…çœ‹äº†å°±æ˜Žç™½ä»£ç†æ¨¡å¼æ˜¯æ€Žä¹ˆå›žäº‹äº†ã€‚ æ›´å¤šçš„ä¸å†ç»†è¯´äº†ï¼Œè¿™ä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚æˆ‘ä»¬è¿™æ¬¡ä¸»è¦æ˜¯å­¦ä¹ åŠ¨æ€ä»£ç†ã€‚ å…³äºŽåŠ¨æ€ä»£ç†ä¸Šè¾¹è¯´çš„ä»£ç†æ¨¡å¼å®žé™…ä¸Šç»†åˆ†çš„è¯ï¼Œå¯ä»¥åˆ†ä¸ºé™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ï¼Œåœ¨å®žé™…ç¼–ç ä¸­ï¼Œä»£ç†æ¨¡å¼ä¸€èˆ¬æ˜¯ä»¥åŠ¨æ€ä»£ç†çš„å½¢å¼å‡ºçŽ°çš„ã€‚ JDKåŠ¨æ€ä»£ç†åŠ¨æ€ä»£ç†çš„å®žçŽ°é€”å¾„æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ç”¨JDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€ä»£ç†ï¼Œæœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä¸»è¦å…³æ³¨JDKåŠ¨æ€ä»£ç†ã€‚ ç”¨æ³•é¦–å…ˆäº†è§£ä¸€ä¸‹æ€Žæ ·ä½¿ç”¨ã€‚æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å§ï¼š 1234567package com.github.since1986.learn.java.proxy;//å®šä¹‰å¥½è¡Œä¸ºpublic interface InterfaceA &#123; String doSomething(String param);&#125; 12345678910//å®šä¹‰å¥½é»˜è®¤å®žçŽ°package com.github.since1986.learn.java.proxy;public class ImplementationA implements InterfaceA &#123; @Override public String doSomething(String param) &#123; return String.format("hello, %s.", param); &#125;&#125; 12345678910111213141516171819202122232425262728package com.github.since1986.learn.java.proxy.dynamic;import com.github.since1986.learn.java.proxy.ImplementationA;import com.github.since1986.learn.java.proxy.InterfaceA;import java.lang.reflect.InvocationHandler;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;import java.lang.reflect.Proxy;public class DynamicProxyCase &#123; public static void main(String[] args) &#123; //ç”Ÿæˆä»£ç† InterfaceA proxyA = (InterfaceA) Proxy.newProxyInstance(DynamicProxyCase.class.getClassLoader(), new Class[]&#123;InterfaceA.class&#125;, new InvocationHandler() &#123; //åå°„è°ƒç”¨é»˜è®¤è¡Œä¸ºï¼ˆå¹¶å¯åœ¨æ­¤å®žçŽ°å¢žå¼ºï¼‰ @Override public Object invoke(Object proxy, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException &#123; return method.invoke(new ImplementationA(), args) + " Bye~"; &#125; &#125;); //è°ƒç”¨æŽ¥å£å®šä¹‰çš„è¡Œä¸º System.out.println(proxyA.doSomething("Test")); &#125;&#125; è¿è¡Œç»“æžœï¼š 1hello, Test Bye~. æ€»ç»“èµ·æ¥ï¼Œå†™JDKåŠ¨æ€ä»£ç†ä¸€å…±4æ­¥ï¼ˆæ¯”æŠŠå¤§è±¡è£…åˆ°å†°ç®±é‡Œå¤šä¸€æ­¥ï¼‰ï¼š å®šä¹‰è¡Œä¸ºï¼ˆä¹Ÿå°±æ˜¯æŽ¥å£ï¼‰ å®žçŽ°ä¸€ä¸ªé»˜è®¤è¡Œä¸ºï¼ˆä¹Ÿå°±æ˜¯ç»™ç¬¬1æ­¥ä¸­å®šä¹‰çš„æŽ¥å£æä¾›ä¸€ä¸ªé»˜è®¤å®žçŽ°ï¼‰ å®žçŽ°ä¸€ä¸ªå›žè°ƒæ–¹æ³•ï¼ˆåœ¨è¿™ä¸ªå›žè°ƒä¸­è°ƒç”¨ç¬¬2æ­¥ä¸­çš„é»˜è®¤è¡Œä¸ºï¼‰ 1java.lang.reflect.InvocationHandler#invoke(Object proxy, Method method, Object[] args) throws Throwable; è°ƒç”¨Proxy#newProxyInstanceç”Ÿæˆä»£ç†å®žä¾‹ 1java.lang.reflect.Proxy#newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) throws IllegalArgumentException åŽŸç†äº†è§£äº†æ€Žæ ·ä½¿ç”¨ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹JDKåŠ¨æ€ä»£ç†æ˜¯æ€Žä¹ˆå®žçŽ°çš„å§ã€‚ å…ˆçœ‹ 1java.lang.reflect.Proxy#newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h) throws IllegalArgumentException è¿™ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æ•´ä¸ªåŠ¨æ€ä»£ç†æµç¨‹çš„å…¥å£ç‚¹ã€‚ åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ä¼šåŽ»åå°„èŽ·å¾—æˆ‘ä»¬å®šä¹‰çš„æŽ¥å£çš„Class 1234/* * Look up or generate the designated proxy class. */Class&lt;?&gt; cl = getProxyClass0(loader, intfs); //intfsæ˜¯å…‹éš†çš„å‚æ•°ä¼ è¿›æ¥çš„interfacesï¼šClass&lt;?&gt;[] intfs = interfaces.clone(); ç„¶åŽé€šè¿‡è¿™ä¸ªClassæ‹¿åˆ°java.lang.reflect.Constructor 1final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams); å†é€šè¿‡java.lang.reflect.Constructorçš„java.lang.reflect.Constructor#newInstanceæ¥åˆ›å»ºä»£ç†çš„å®žä¾‹å¹¶è¿”å›žï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨java.lang.reflect.Proxy#newProxyInstanceè¿”å›žçš„ä»£ç†å®žä¾‹å…¶å®žæ˜¯java.lang.reflect.Constructor#newInstanceæä¾›çš„ã€‚ æŽ¥ä¸‹æ¥å†æ¥çœ‹java.lang.reflect.Constructor#newInstanceï¼š 1234567ConstructorAccessor ca = constructorAccessor; // read volatileif (ca == null) &#123; ca = acquireConstructorAccessor();&#125;@SuppressWarnings("unchecked")T inst = (T) ca.newInstance(initargs);return inst; æ³¨æ„è¿™ä¸€æ®µï¼Œjava.lang.reflect.Constructor#newInstanceè¿”å›žçš„å®žé™…ä¸Šæ˜¯sun.reflect.ConstructorAccessor#newInstanceæ‰€è¿”å›žçš„ æˆ‘ä»¬å†è½¬åˆ°sun.reflect.ConstructorAccessor#newInstanceï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–¹æ³•æ˜¯ä¸ªæŽ¥å£æ–¹æ³• æˆ‘ä»¬æ‰“å¼€å®ƒå…¶ä¸­ä¸€ä¸ªå®žçŽ°sun.reflect.NativeConstructorAccessorImplï¼Œå¯ä»¥çœ‹åˆ°å†å¾€ä¸‹å°±æ˜¯å¼€å§‹æ“ä½œclassæ–‡ä»¶ç»“æž„äº†ï¼Œæˆ‘ä»¬åˆ°æ­¤åŸºæœ¬ä¸Šå¤§è‡´äº†è§£ä¸€éƒ¨åˆ†JDKåŠ¨æ€ä»£ç†çš„åŽŸç†äº†ï¼Œé‚£å°±æ˜¯ç”Ÿæˆclassæ–‡ä»¶ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•çœ‹åˆ°ç”Ÿæˆçš„classæ–‡ä»¶å‘¢ï¼Ÿå¦å¤–å‰è¾¹æåˆ°çš„InvocationHandleråœ¨æµç¨‹ä¸­æ²¡æœ‰å‡ºçŽ°å•Šï¼Ÿä¸ç”¨ç€æ€¥ï¼Œæˆ‘ä»¬ä¸€ä¸€æ¥ã€‚ æ€Žæ ·çœ‹åˆ°ç”Ÿæˆçš„classæ–‡ä»¶å‘¢ï¼Ÿåœ¨ç”ŸæˆåŠ¨æ€ä»£ç†å‰è®¾ç½®ä¸€ä¸ªPropertieså°±å¯ä»¥äº†ï¼ˆè¿™ä¸ªPropertiesæºç ä½ç½®åœ¨sun.misc.ProxyGenerator#saveGeneratedFilesï¼‰ï¼šSystem.getProperties().put(&quot;sun.misc.ProxyGenerator.saveGeneratedFiles&quot;, &quot;true&quot;);ã€‚è®¾ç½®å¥½åŽï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ä»¥$å¼€å¤´çš„classæ–‡ä»¶ï¼š ç”¨ideaæ‰“å¼€è¿™ä¸ªclassæ–‡ä»¶çœ‹åç¼–è¯‘åŽçš„ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576//// Source code recreated from a .class file by IntelliJ IDEA// (powered by Fernflower decompiler)//package com.sun.proxy;import com.github.since1986.learn.java.proxy.InterfaceA;import java.lang.reflect.InvocationHandler;import java.lang.reflect.Method;import java.lang.reflect.Proxy;import java.lang.reflect.UndeclaredThrowableException;public final class $Proxy0 extends Proxy implements InterfaceA &#123; //åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»ï¼Œå®žçŽ°äº†æˆ‘ä»¬å®šä¹‰çš„æŽ¥å£ private static Method m1; private static Method m2; private static Method m3; private static Method m0; public $Proxy0(InvocationHandler var1) throws &#123; super(var1); &#125; public final boolean equals(Object var1) throws &#123; try &#123; return (Boolean)super.h.invoke(this, m1, new Object[]&#123;var1&#125;); &#125; catch (RuntimeException | Error var3) &#123; throw var3; &#125; catch (Throwable var4) &#123; throw new UndeclaredThrowableException(var4); &#125; &#125; public final String toString() throws &#123; try &#123; return (String)super.h.invoke(this, m2, (Object[])null); &#125; catch (RuntimeException | Error var2) &#123; throw var2; &#125; catch (Throwable var3) &#123; throw new UndeclaredThrowableException(var3); &#125; &#125; public final String doSomething(String var1) throws &#123; //æˆ‘ä»¬å®šä¹‰çš„è¡Œä¸ºï¼ˆæŽ¥å£æ–¹æ³•ï¼‰ try &#123; return (String)super.h.invoke(this, m3, new Object[]&#123;var1&#125;); //æ³¨æ„è¿™é‡Œ &#125; catch (RuntimeException | Error var3) &#123; throw var3; &#125; catch (Throwable var4) &#123; throw new UndeclaredThrowableException(var4); &#125; &#125; public final int hashCode() throws &#123; try &#123; return (Integer)super.h.invoke(this, m0, (Object[])null); &#125; catch (RuntimeException | Error var2) &#123; throw var2; &#125; catch (Throwable var3) &#123; throw new UndeclaredThrowableException(var3); &#125; &#125; static &#123; try &#123; m1 = Class.forName("java.lang.Object").getMethod("equals", Class.forName("java.lang.Object")); m2 = Class.forName("java.lang.Object").getMethod("toString"); m3 = Class.forName("com.github.since1986.learn.java.proxy.InterfaceA").getMethod("doSomething", Class.forName("java.lang.String")); m0 = Class.forName("java.lang.Object").getMethod("hashCode"); &#125; catch (NoSuchMethodException var2) &#123; throw new NoSuchMethodError(var2.getMessage()); &#125; catch (ClassNotFoundException var3) &#123; throw new NoClassDefFoundError(var3.getMessage()); &#125; &#125;&#125; æ³¨æ„ä¸Šè¾¹ä»£ç doSomethingæ–¹æ³•ä¸­è¿™ä¸€æ®µï¼š 1return (String)super.h.invoke(this, m3, new Object[]&#123;var1&#125;); è¿™é‡Œé¢çš„super.hæ˜¯java.lang.reflect.Proxy#hè¿™ä¸ªå±žæ€§ï¼š 12345/** * the invocation handler for this proxy instance. * @serial */protected InvocationHandler h; ä¹Ÿå°±æ˜¯è¯´InvocationHandleræ˜¯è¢«æ’å…¥åˆ°äº†ç”Ÿæˆçš„classæ–‡ä»¶ä¸­çš„ã€‚æˆ‘ä»¬ç»§ç»­çœ‹h.invoke(this, m3, new Object[]{var1});ï¼Œåœ¨è¿™ä¸ªè°ƒç”¨ä¸­ä¼ å…¥çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªthiså°±æ˜¯å½“å‰ç”Ÿæˆçš„$Proxy0çš„å®žä¾‹ï¼Œç¬¬äºŒä¸ªå‚æ•°m3å®žé™…ä¸Šå°±æ˜¯æˆ‘ä»¬å®šä¹‰çš„æŽ¥å£æ–¹æ³• 1m3 = Class.forName("com.github.since1986.learn.java.proxy.InterfaceA").getMethod("doSomething", Class.forName("java.lang.String")); ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¢«ä¼ å…¥çš„è¢«è°ƒç”¨çš„æŽ¥å£æ–¹æ³•çš„å®žé™…å‚æ•°ã€‚è¿™ä¸ªh.invokeå°±æ˜¯å‰é¢æˆ‘ä»¬æåˆ°çš„é‚£ä¸ªjava.lang.reflect.InvocationHandlerçš„æ–¹æ³•ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051/** * Processes a method invocation on a proxy instance and returns * the result. This method will be invoked on an invocation handler * when a method is invoked on a proxy instance that it is * associated with. * * @param proxy the proxy instance that the method was invoked on * * @param method the &#123;@code Method&#125; instance corresponding to * the interface method invoked on the proxy instance. The declaring * class of the &#123;@code Method&#125; object will be the interface that * the method was declared in, which may be a superinterface of the * proxy interface that the proxy class inherits the method through. * * @param args an array of objects containing the values of the * arguments passed in the method invocation on the proxy instance, * or &#123;@code null&#125; if interface method takes no arguments. * Arguments of primitive types are wrapped in instances of the * appropriate primitive wrapper class, such as * &#123;@code java.lang.Integer&#125; or &#123;@code java.lang.Boolean&#125;. * * @return the value to return from the method invocation on the * proxy instance. If the declared return type of the interface * method is a primitive type, then the value returned by * this method must be an instance of the corresponding primitive * wrapper class; otherwise, it must be a type assignable to the * declared return type. If the value returned by this method is * &#123;@code null&#125; and the interface method's return type is * primitive, then a &#123;@code NullPointerException&#125; will be * thrown by the method invocation on the proxy instance. If the * value returned by this method is otherwise not compatible with * the interface method's declared return type as described above, * a &#123;@code ClassCastException&#125; will be thrown by the method * invocation on the proxy instance. * * @throws Throwable the exception to throw from the method * invocation on the proxy instance. The exception's type must be * assignable either to any of the exception types declared in the * &#123;@code throws&#125; clause of the interface method or to the * unchecked exception types &#123;@code java.lang.RuntimeException&#125; * or &#123;@code java.lang.Error&#125;. If a checked exception is * thrown by this method that is not assignable to any of the * exception types declared in the &#123;@code throws&#125; clause of * the interface method, then an * &#123;@link UndeclaredThrowableException&#125; containing the * exception that was thrown by this method will be thrown by the * method invocation on the proxy instance. * * @see UndeclaredThrowableException */public Object invoke(Object proxy, Method method, Object[] args) throws Throwable; å°±æ˜¯åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†å®žé™…çš„é»˜è®¤å®žçŽ°ï¼Œå¹¶å®žçŽ°äº†å¯¹é»˜è®¤å®žçŽ°çš„å¢žå¼ºï¼š 12345//åå°„è°ƒç”¨é»˜è®¤è¡Œä¸ºï¼ˆå¹¶å¯åœ¨æ­¤å®žçŽ°å¢žå¼ºï¼‰@Overridepublic Object invoke(Object proxy, Method method, Object[] args) throws InvocationTargetException, IllegalAccessException &#123; return method.invoke(new ImplementationA(), args) + " Bye~";&#125; å¯ä»¥çœ‹åˆ°å®žé™…ä¸Šè¿™ä¸ªæ–¹æ³•ä¸­çš„3ä¸ªå‚æ•°Object proxy, Method method, Object[] argså°±æ˜¯$Proxy0é€šè¿‡h.invoke(this, m3, new Object[]{var1});ä¼ é€’ç»™æˆ‘ä»¬çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å®žçŽ°çš„InvocationHandlerçš„ 1public Object invoke(Object proxy, Method method, Object[] args) throws Throwable; å®žé™…ä¸Šæ˜¯ä¸€ä¸ªå›žè°ƒï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é¢„å…ˆå®šä¹‰å¥½çš„ï¼Œç„¶åŽJDKç”Ÿæˆçš„ç±»$Proxy0å›žè¿‡æ¥è°ƒç”¨çš„ã€‚åˆ°è¿™é‡Œï¼Œæ•´ä¸ªæµç¨‹åŸºæœ¬ä¸Šå°±æ¸…æ¥šäº†ï¼Œæ€»ç»“ä¸€ä¸‹ï¼šJDKåŠ¨æ€ä»£ç†çš„åŸºæœ¬åŽŸç†å°±æ˜¯ æˆ‘ä»¬å®šä¹‰å¥½æŽ¥å£å’Œé»˜è®¤å®žçŽ°ï¼ŒJDKæ ¹æ®é€šè¿‡ç”Ÿæˆclassæ–‡ä»¶çš„æ–¹å¼â€åŠ¨æ€â€çš„ç”Ÿæˆä¸€ä¸ªä»£ç†ç±»ï¼Œè¿™ä¸ªä»£ç†ç±»å®žçŽ°äº†æˆ‘ä»¬å®šä¹‰çš„æŽ¥å£ï¼Œå¹¶åœ¨æŽ¥å£å®žçŽ°æ–¹æ³•ä¸­å›žè°ƒäº†æˆ‘ä»¬é€šè¿‡InvocationHandlerå®šä¹‰çš„å¤„ç†æµç¨‹ï¼Œè¿™ä¸ªå¤„ç†æµç¨‹ä¸­æˆ‘ä»¬å›žåŽ»è°ƒç”¨é»˜è®¤å®žçŽ°ï¼Œå¹¶æä¾›å¢žå¼ºã€‚ æ€»ç»“åœ¨æœ¬ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­äº†è§£äº†JDKåŠ¨æ€ä»£ç†çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¹¶ä¸”é€šè¿‡æºç å¤§è‡´äº†è§£äº†JDKåŠ¨æ€ä»£ç†çš„æµ…å±‚å®žçŽ°åŽŸç†ï¼Œå…¶å®žï¼Œåœ¨æˆ‘ä»¬æ—¥å¸¸å®žç”¨çš„æ¡†æž¶ä¸­ä¼šç»å¸¸ç”¨åˆ°JDKåŠ¨æ€ä»£ç†ï¼ˆä¾‹å¦‚MyBatisï¼‰ï¼Œæˆ‘ä»¬å¹³å¸¸ä¹Ÿå¯ä»¥ç•™å¿ƒæ³¨æ„ä¸€ä¸‹ï¼ŒJDKåŠ¨æ€ä»£ç†è¿˜æ˜¯å¾ˆå®žç”¨çš„ã€‚ å‚è€ƒèµ„æ–™ä»ŽJVMä¸­dumpå‡ºåŠ¨æ€ä»£ç†ç”Ÿæˆçš„class]]></content>
      <tags>
        <tag>ä»£ç†æ¨¡å¼</tag>
        <tag>ä»£ç†</tag>
        <tag>åŠ¨æ€ä»£ç†</tag>
        <tag>proxy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®žçŽ°ä¸€ä¸ªåŒå‘é“¾è¡¨çš„å€’ç½®åŠŸèƒ½ï¼ˆ1->2->3 å˜æˆ 3->2->1ï¼‰]]></title>
    <url>%2F17c527fd.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯è¿™ä¸¤å¤©èŠ±äº†äº›æ—¶é—´ç ”ç©¶äº†ä¸€é“é¢˜ç›®ï¼ŒæŠŠè§£é¢˜çš„æ€ç»´è¿‡ç¨‹è®°å½•ä¸€ä¸‹ã€‚åŽŸé¢˜ç›®å¦‚ä¸‹ï¼š å®žçŽ°ä¸€ä¸ªåŒå‘é“¾è¡¨çš„å€’ç½®åŠŸèƒ½ï¼ˆ1-&gt;2-&gt;3 å˜æˆ 3-&gt;2-&gt;1ï¼‰ï¼Œè¯·å‹¿ç›´æŽ¥ä½¿ç”¨JDKçš„LinkedListã€‚ è§£é¢˜æ‹†é¢˜æ‹¿åˆ°è¿™ä¸ªé¢˜ç›®åŽï¼Œç¬¬ä¸€æ„Ÿè§‰ç½‘ä¸Šæœ‰è¿™ä¸ªé¢˜ï¼Œå½“ç„¶ï¼Œä¸èƒ½ä¸€ä¸Šæ¥å°±åŽ»æœç­”æ¡ˆï¼Œè¿™ç±»é¢˜æ—¨åœ¨è€ƒéªŒç¨‹åºå‘˜çš„é—®é¢˜åˆ†æžèƒ½åŠ›çš„ï¼Œç›´æŽ¥çœ‹äº†ç­”æ¡ˆå°±æ²¡æœ‰æ„ä¹‰äº†ã€‚å…ˆè‡ªå·±åŽ»æƒ³ï¼Œå®žåœ¨æœ‰çš„ç‚¹å¡ä½äº†ï¼Œå†åŽ»æœç´¢ä¸€äº›æ€è·¯ã€‚è€Œä¸”ä¹ŸåªåŽ»çœ‹èµ„æ–™ä¸­å…³äºŽå¡ä¸»è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œä¸è¦å…¨ç¯‡çœ‹ï¼Œä»¥è‡ªå·±çš„æ€è€ƒä¸ºä¸»ã€‚ ç„¶åŽæˆ‘ä»¬å¼€å§‹åˆ†æžã€‚è¦æƒ³è§£é¢˜ï¼Œé¦–å…ˆè¦æ˜Žç™½è¿™ä¸ªé¢˜æ˜¯æƒ³è®©æˆ‘ä»¬åšä»€ä¹ˆã€‚å¾ˆæ˜Žæ˜¾ï¼Œè¿™ä¸ªé¢˜åŒ…å«äº†ä¸¤ä¸ªè¦ç‚¹ï¼š å®žçŽ°å€’ç½®ï¼ˆç»“æžœï¼‰ å®žçŽ°åŒå‘é“¾è¡¨æ•°æ®ç»“æž„ï¼ˆç»“æžœä¾èµ–çš„å‰æï¼‰ å®žçŽ°å€’ç½®æ˜¯ç»“æžœï¼Œå®žçŽ°åŒå‘é“¾è¡¨æ•°æ®ç»“æž„æ˜¯ä¾èµ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»Žç»“æžœå¼€å§‹æ€è€ƒï¼Œå°†å¾—å‡ºç»“æžœçš„é€»è¾‘æŠ½è±¡å‡ºæ¥ï¼Œç„¶åŽå†æ…¢æ…¢åæŽ¨ä¾èµ–ã€‚ çº¸ç¬”åˆ†æžè¿™ç±»é¢˜æœ‰ä¸ªç‰¹ç‚¹ï¼Œç¬¬ä¸€çœ¼çœ‹ä¸ŠåŽ»ä¼šæ¯”è¾ƒæ‡µé€¼ï¼Œç”Ÿåœ¨è„‘å­é‡Œæƒ³ä¹Ÿæ¯”è¾ƒç´¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨çº¸ç«¯è¾…åŠ©æ€è€ƒï¼Œç”¨æ–‡å­—æ¥æ‹é¡ºè‡ªå·±çš„æ€è·¯ï¼š ä¸Šå›¾ä¸­æ˜¯æˆ‘çš„æœ€åˆå§‹çš„åˆ†æžæ€è·¯ï¼Œå½“ç„¶ï¼Œåˆ°åŽæœŸç¼–ç å®žçŽ°æ—¶ï¼Œä¼šå‘çŽ°å…¶ä¸­çš„step3å…¶å®žæ˜¯ä¸å…¨é¢çš„ï¼Œæ²¡å…³ç³»ï¼Œåœ¨çº¸å’Œç¬”åˆ†æžé˜¶æ®µæˆ‘ä»¬è¦å†™çš„æ˜¯æœ€ç›´æŽ¥çš„æ€è·¯ï¼ŒåŽæœŸä¼šä¸æ–­ä¼˜åŒ–ã€‚ ç¼–ç å®žçŽ°åœ¨ç¼–ç é˜¶æ®µï¼Œæˆ‘æ˜¯ä¸Žæ€è€ƒé˜¶æ®µåç€æ¥çš„ï¼Œæˆ‘å…ˆå®žçŽ°äº†ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯å…ˆå®žçŽ°åŒå‘é“¾è¡¨è¿™ä¸ªæ•°æ®ç»“æž„ é‚£ä¹ˆï¼Œä»£ç ä»Žå“ªé‡Œå†™èµ·å‘¢ï¼Ÿæˆ‘æ˜¯ä»ŽæŽ¥å£å¼€å§‹çš„ï¼Œå› ä¸ºå¾ˆæ˜Žæ˜¾ï¼Œåœ¨JDKçš„æ ‡å‡†åº“é‡Œï¼Œéƒ½æ˜¯ä»ŽæŽ¥å£å¼€å§‹çš„ï¼ŒæŽ¥å£å¯¹æ¶ˆè´¹ç«¯æä¾›äº†è¡Œä¸ºçš„å®šä¹‰ã€‚å¾ˆæ˜Žæ˜¾ï¼Œä½œä¸ºä¸€ä¸ªæœ€åŸºæœ¬çš„çº¿æ€§è¡¨åº”å½“æœ‰åˆ å¢žæ”¹æŸ¥å››ä¸ªæ–¹æ³•ï¼Œç„¶åŽå¯¹äºŽåŒå‘çš„è¡¨æ¥è¯´ï¼Œåº”å½“æœ‰getFirstå’ŒgetLastï¼Œæ‰€ä»¥ï¼Œæœ€åŸºæœ¬çš„ä¸¤ä¸ªæŽ¥å£å°±æœ‰äº†ã€‚ 12345678910111213141516171819package com.github.since1986.learn.collection;/** * çº¿æ€§è¡¨ */public interface List&lt;E&gt; &#123; void add(E element); void add(int index, E element); E get(int index); void remove(E element); void remove(int index); int size();&#125; 1234567891011package com.github.since1986.learn.collection;/** * åŒå‘è¡¨ */public interface Deque&lt;E&gt; extends List&lt;E&gt; &#123; E getFirst(); E getLast();&#125; ç„¶åŽæˆ‘ä»¬çš„åŒå‘é“¾è¡¨LinkedListåº”å½“å®žçŽ°åŒå‘è¡¨Deque 1public class LinkedList&lt;E&gt; implements Deque&lt;E&gt; ç„¶åŽå†æ€è€ƒï¼Œæˆ‘åº”å½“æ€Žæ ·å­˜å‚¨åŒçº¿é“¾è¡¨ä¸­çš„èŠ‚ç‚¹å‘¢ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘å…¶å®žç¬¬ä¸€å¼€å§‹æ€è·¯æœ‰ç‚¹è·‘åäº†ï¼Œç”±äºŽåŽŸæ¥æˆ‘çœ‹è¿‡JDKä¸­çš„ArrayListçš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘æ€»æ˜¯æƒ³æ˜¯ä¸æ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨ï¼Œä½†æ˜¯åŽæ¥è¶Šæƒ³è¶Šè§‰å¾—åˆ«æ‰­ï¼Œç´¢æ€§æ‰“å¼€äº†JDKçš„LinkedListçš„ä»£ç ï¼Œçœ‹äº†ä¸€çœ¼ï¼Œæç„¶å¤§æ‚Ÿï¼Œå…¶å®žå®šä¹‰ä¸€ä¸ªå†…éƒ¨çš„ç±»Nodeï¼ŒNodeä¸­åŒ…å«äº†æŒ‡å‘nextå’Œpreviousçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨æœ¬èº«å°±æž„æˆäº†ä¸€ä¸ªé“¾å¼çš„ç»“æž„ã€‚OKäº†ï¼Œæ•°æ®ç»“æž„æžå®šã€‚ 1234567891011121314//æ ¸å¿ƒæ•°æ®ç»“æž„ï¼ˆä¸å¯¹å¤–åŒ…æš´éœ²ï¼‰static class Node&lt;E&gt; &#123; private Node&lt;E&gt; previous; private Node&lt;E&gt; next; E element; Node(Node&lt;E&gt; previous, Node&lt;E&gt; next, E element) &#123; this.previous = previous; this.next = next; this.element = element; &#125;&#125; æ³¨æ„ä¸€ç‚¹ï¼Œè¿™ä¸ªæ•°æ®ç»“æž„ä¸åº”è¢«LinkedListçš„æ¶ˆè´¹è€…çœ‹åˆ°ï¼Œä¿æŒå†…èšæ€§ã€‚ ç„¶åŽæˆ‘ä»¬æ¥å®žçŽ°addï¼Œæœ‰äº†addæˆ‘ä»¬å°±èƒ½å¤Ÿæ·»åŠ æµ‹è¯•æ•°æ®äº†ï¼Œå…¶ä»–æœ‰å‡ ä¸ªæ–¹æ³•å’Œé¢˜ç›®æ— å…³ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ”¾ç€ä¸å®žçŽ°ã€‚ 1234567891011@Overridepublic void add(E element) &#123; if (size == 0) &#123; //å‡å¦‚å½“å‰çš„size == 0ï¼Œé‚£ä¹ˆå°±è®©å½“å‰addè¿›æ¥çš„å…ƒç´ ï¼Œç”ŸæˆèŠ‚ç‚¹æˆä¸ºfirstèŠ‚ç‚¹å’ŒlastèŠ‚ç‚¹ first = last = new Node&lt;&gt;(null, null, element); &#125; else &#123; //å¦åˆ™å‘lastèŠ‚ç‚¹åŽæ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå°†lastèŠ‚ç‚¹çš„nextæŒ‡å‘è¿™ä¸ªæ–°èŠ‚ç‚¹ï¼‰ï¼Œè®©åŽè®©æ–°çš„èŠ‚ç‚¹æˆä¸ºlastå°±å¯ä»¥äº† Node&lt;E&gt; newLast = new Node&lt;&gt;(last, null, element); last.next = newLast; last = newLast; &#125; size++;&#125; å†æ¥å®žçŽ°getä»¥åŠå…¶ä¾èµ–çš„getNode 12345678910111213141516171819private Node&lt;E&gt; getNode(int index) &#123; if (index &lt; 0 || index &gt; size - 1) &#123; throw new IndexOutOfBoundsException(); &#125; else if (size == 0) &#123; //å¦‚æžœå½“å‰size == 0åˆ™è¿”å›žnull return null; &#125; else if (index &lt; size / 2) &#123; //å¦‚æžœindexå¤„äºŽlistçš„å‰åŠéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯index &lt; size / 2ï¼‰é‚£ä¹ˆå°±ä»ŽfirstèŠ‚ç‚¹å¼€å§‹å‘åŽæ‰¾ Node&lt;E&gt; temp = first; for (int i = 0; i &lt; index; i++) &#123; temp = temp.next; &#125; return temp; &#125; else &#123; //å¦åˆ™ï¼Œä»ŽlastèŠ‚ç‚¹å¼€å§‹å‘å‰æ‰¾ Node&lt;E&gt; temp = last; for (int i = size - 1; i &gt; index; i--) &#123; temp = temp.previous; &#125; return temp; &#125;&#125; 1234@Overridepublic E get(int index) &#123; return getNode(index) == null ? null : getNode(index).element;&#125; åˆ°è¿™é‡Œï¼ŒåŸºæœ¬çš„æ•°æ®ç»“æž„ç®—æ˜¯å®žçŽ°äº†ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€çœ¼å®Œæ•´çš„LinkedListä»£ç å§ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140package com.github.since1986.learn.collection;/** * ï¼ˆåŒå‘ï¼‰é“¾è¡¨ */public class LinkedList&lt;E&gt; implements Deque&lt;E&gt; &#123; private int size; private Node&lt;E&gt; first; private Node&lt;E&gt; last; @Override public void add(E element) &#123; if (size == 0) &#123; //å‡å¦‚å½“å‰çš„size == 0ï¼Œé‚£ä¹ˆå°±è®©å½“å‰addè¿›æ¥çš„å…ƒç´ ï¼Œç”ŸæˆèŠ‚ç‚¹æˆä¸ºfirstèŠ‚ç‚¹å’ŒlastèŠ‚ç‚¹ first = last = new Node&lt;&gt;(null, null, element); &#125; else &#123; //å¦åˆ™å‘lastèŠ‚ç‚¹åŽæ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼ˆä¹Ÿå°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå°†lastèŠ‚ç‚¹çš„nextæŒ‡å‘è¿™ä¸ªæ–°èŠ‚ç‚¹ï¼‰ï¼Œè®©åŽè®©æ–°çš„èŠ‚ç‚¹æˆä¸ºlastå°±å¯ä»¥äº† Node&lt;E&gt; newLast = new Node&lt;&gt;(last, null, element); last.next = newLast; last = newLast; &#125; size++; &#125; @Override public void add(int index, E element) &#123; //TODO ä¸Žé¢˜ç›®æ— å…³ï¼Œæš‚ä¸å®žçŽ° &#125; @Override public E get(int index) &#123; return getNode(index) == null ? null : getNode(index).element; &#125; @Override public void remove(E element) &#123; //TODO ä¸Žé¢˜ç›®æ— å…³ï¼Œæš‚ä¸å®žçŽ° &#125; @Override public void remove(int index) &#123; //TODO ä¸Žé¢˜ç›®æ— å…³ï¼Œæš‚ä¸å®žçŽ° &#125; @Override public int size() &#123; return size; &#125; @Override public E getFirst() &#123; return getFirstNode().element; &#125; @Override public E getLast() &#123; return getLastNode().element; &#125; //æ ¸å¿ƒæ•°æ®ç»“æž„ï¼ˆä¸å¯¹å¤–åŒ…æš´éœ²ï¼‰ static class Node&lt;E&gt; &#123; private Node&lt;E&gt; previous; private Node&lt;E&gt; next; E element; Node(Node&lt;E&gt; previous, Node&lt;E&gt; next, E element) &#123; this.previous = previous; this.next = next; this.element = element; &#125; Node&lt;E&gt; getPrevious() &#123; return previous; &#125; void setPrevious(Node&lt;E&gt; previous) &#123; this.previous = previous; &#125; Node&lt;E&gt; getNext() &#123; return next; &#125; void setNext(Node&lt;E&gt; next) &#123; this.next = next; &#125; &#125; private Node&lt;E&gt; getNode(int index) &#123; if (index &lt; 0 || index &gt; size - 1) &#123; throw new IndexOutOfBoundsException(); &#125; else if (size == 0) &#123; //å¦‚æžœå½“å‰size == 0åˆ™è¿”å›žnull return null; &#125; else if (index &lt; size / 2) &#123; //å¦‚æžœindexå¤„äºŽlistçš„å‰åŠéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯index &lt; size / 2ï¼‰é‚£ä¹ˆå°±ä»ŽfirstèŠ‚ç‚¹å¼€å§‹å‘åŽæ‰¾ Node&lt;E&gt; temp = first; for (int i = 0; i &lt; index; i++) &#123; temp = temp.next; &#125; return temp; &#125; else &#123; //å¦åˆ™ï¼Œä»ŽlastèŠ‚ç‚¹å¼€å§‹å‘å‰æ‰¾ Node&lt;E&gt; temp = last; for (int i = size - 1; i &gt; index; i--) &#123; temp = temp.previous; &#125; return temp; &#125; &#125; Node&lt;E&gt; getFirstNode() &#123; return size == 0 ? null : getNode(0); &#125; Node&lt;E&gt; getLastNode() &#123; return size == 0 ? null : getNode(size - 1); &#125; void setFirstNode(Node&lt;E&gt; first) &#123; this.first = first; &#125; void setLastNode(Node&lt;E&gt; last) &#123; this.last = last; &#125; @Override public String toString() &#123; StringBuilder stringBuilder = new StringBuilder(); stringBuilder.append("(null) &lt;-&gt; "); Node&lt;E&gt; node = first; while (node != null) &#123; stringBuilder.append(node.element); stringBuilder.append(" &lt;-&gt; "); node = node.next; &#125; stringBuilder.append("(null)"); return stringBuilder.toString(); &#125;&#125; å®žçŽ°å¥½äº†æ•°æ®ç»“æž„ï¼Œæˆ‘ä»¬å†æ¥å®žçŽ°ç®—æ³•å€’ç½®å§ï¼Œè¿™æ‰æ˜¯æœ€ç»ˆç›®æ ‡ã€‚è¿™é‡Œæ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¦å®žçŽ°çš„reverseæ–¹æ³•ä¸åº”åœ¨LinkedListä¸­æä¾›ï¼Œå› ä¸ºåœ¨LinkedListè¯­ä¹‰ä¸Šï¼Œæä¾›è¿™ä¸ªæ–¹æ³•å¹¶æ— æ„ä¹‰ï¼Œreverseæ›´åº”è¯¥æ˜¯ä¸ªutilç±»çš„æ–¹æ³•ï¼Œè¾“å…¥çš„æ˜¯ä¸€ä¸ªLinkedListï¼Œè¾“å‡ºæ˜¯å€’ç½®åŽçš„LinkedListã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ä¸ªæ–¹æ³•å°è£…åœ¨ä¸€ä¸ªå·¥å…·ç±»é‡Œé¢å¯¹æ¶ˆè´¹è€…ä»£ç æä¾›ã€‚ç”±äºŽæˆ‘ä»¬çš„reverseæ–¹æ³•è¦è®¿é—®LinkedListå†…éƒ¨çš„Nodeç±»çš„APIï¼Œè€ŒNodeç±»è®¿é—®æ˜¯åŒ…çº§åˆ«çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„å·¥å…·ç±»åº”å½“åŒLinkedListåœ¨åŒä¸€ä¸ªåŒ…ä¸‹å®šä¹‰ã€‚ æ¥çœ‹å…·ä½“ä»£ç å§ï¼Œç®—æ³•å®žçŽ°çš„æ€è·¯å†™åœ¨æ³¨é‡Šé‡Œäº†ï¼š 123456789101112131415161718192021222324252627282930313233343536package com.github.since1986.learn.collection;public final class LinkedListUtils &#123; /* * å€’ç½®ï¼ˆæ ¹æ®é«˜å†…èšçš„åŽŸåˆ™ï¼Œè¿™ä¸ªAPIä¸åº”ç”±LinkedListæœ¬èº«æä¾›ï¼Œå› ä¸ºå€’ç½®æ˜¯è¦æ“ä½œLinkedListå†…éƒ¨API Nodeçš„ï¼Œè¿™ä¸ªNodeå¯¹æ¶ˆè´¹è€…åº”å½“æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥ç”¨äº†ä¸€ä¸ªä¸ŽLinkedListåŒä¸€ä¸ªåŒ…çš„Utilsç±»æ¥æ“ä½œï¼Œè¿™æ ·å°±å¯¹å¤–æŽ©è—äº†Nodeè¿™ä¸ªAPIï¼‰ * åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š * ç¬¬ä¸€æ­¥ äº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„previouså’Œnext * ç¬¬äºŒæ­¥ äº¤æ¢LinkedListçš„firstå’Œlast */ public static &lt;E&gt; LinkedList&lt;E&gt; reverse(LinkedList&lt;E&gt; linkedList) &#123; //ä¿å­˜åŽŸé¦–å°¾èŠ‚ç‚¹ä¿¡æ¯ï¼Œç”¨äºŽäº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„previouså’ŒnextåŽå°†LinkedListçš„firstå’Œlastè¿›è¡Œäº¤æ¢ LinkedList.Node&lt;E&gt; originalFirstNode = linkedList.getFirstNode(); LinkedList.Node&lt;E&gt; originalLastNode = linkedList.getLastNode(); //äº¤æ¢æ¯ä¸ªèŠ‚ç‚¹çš„previouså’Œnext LinkedList.Node&lt;E&gt; originalOrderCurrentNode = originalFirstNode; //æŒ‰ç…§åŽŸé¡ºåºå¾ªçŽ¯ while (originalOrderCurrentNode != null) &#123; //æŒ‰ç…§åŽŸLinkedListçš„é¡ºåºå¾ªçŽ¯ï¼Œç›´è‡³åˆ°è¾¾nullï¼ˆå‡å¦‚åŽŸLinkedListä¸º (null) &lt;-&gt; 1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; 4 &lt;-&gt; (null) é‚£ä¹ˆä¹Ÿå°±æ˜¯æŒ‰ 1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; (null) è¿™æ ·æ¥å¾ªçŽ¯ï¼Œå…¶ä¸­4åŽé¢çš„(null)ä¸ºå¾ªçŽ¯ç»ˆæ­¢æ¡ä»¶ï¼‰ LinkedList.Node&lt;E&gt; originalPrevious = originalOrderCurrentNode.getPrevious(); //èŽ·å¾—å½“å‰nodeçš„åŽŸprevious LinkedList.Node&lt;E&gt; originalNext = originalOrderCurrentNode.getNext(); //èŽ·å¾—å½“å‰nodeçš„åŽŸnext LinkedList.Node&lt;E&gt; tempReference = originalOrderCurrentNode; //æ–°å»ºä¸€ä¸ªå¼•ç”¨ï¼ŒåŽç»­çš„previouså’Œnextçš„äº¤æ¢åœ¨æ–°å¼•ç”¨ä¸Šè¿›è¡Œï¼Œä¸å½±å“åŽŸLinkedListçš„èŠ‚ç‚¹ï¼Œè¿™æ ·æ‰èƒ½è®©whileå¾ªçŽ¯èƒ½å¤Ÿç»§ç»­ï¼ˆå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æžœç›´æŽ¥åœ¨åŽŸèŠ‚ç‚¹ä¸Šäº¤æ¢ï¼Œå‡å¦‚å½“å‰ç”±1èŠ‚ç‚¹å¾ªçŽ¯åˆ°äº†2ä¸ªèŠ‚ç‚¹ é‚£ä¹ˆ 1 -&gt; 2 -&gt; 3äº¤æ¢åŽå°±å˜æˆäº† 3 -&gt; 2 -&gt; 1 ï¼Œå¾ªçŽ¯çš„ä¸‹ä¸€æ¬¡ç­‰äºŽè¿˜æ˜¯1ï¼Œå°±é‡å¤äº†ï¼Œå°±ä¸æ˜¯åŽŸé¡ºåºåœ¨å¾ªçŽ¯äº†ï¼Œé€»è¾‘ä¸Šæ˜¯ä¸å¯¹çš„ï¼‰ originalOrderCurrentNode = originalNext; //è®©å¾ªçŽ¯ç»§ç»­åˆ°ä¸‹ä¸€èŠ‚ç‚¹ tempReference.setPrevious(originalNext); //å°†å½“å‰nodeçš„previousè®¾ç½®ä¸ºåŽŸæ¥çš„next tempReference.setNext(originalPrevious); //å°†å½“å‰nodeçš„nextè®¾ç½®ä¸ºåŽŸæ¥çš„previous &#125; //äº¤æ¢LinkedListçš„firstå’Œlast linkedList.setFirstNode(originalLastNode); linkedList.setLastNode(originalFirstNode); return linkedList; &#125;&#125; åœ¨å®žçŽ°å€’ç½®æ—¶ï¼Œæˆ‘åœ¨æ€Žæ ·è®©whileå¾ªçŽ¯èƒ½å¤Ÿç»§ç»­è¿™é‡Œå¡ä½äº†ï¼Œæ€Žä¹ˆæƒ³ä¹Ÿæƒ³ä¸é€šï¼ŒåŽæ¥çœ‹äº†çœ‹è¿™ç¯‡æ–‡ç« ä¸­è¿™æ®µä»£ç ï¼š 12345678910public DListNode reverse(DListNode head) &#123; DListNode curr = null; while (head != null) &#123; curr = head; head = curr.next; curr.next = curr.prev; curr.prev = head; &#125; return curr;&#125; æ‰æ˜Žç™½äº†ï¼Œå…¶å®žç”¨ä¸€ä¸ªä¸­é—´å¼•ç”¨å°±å¥½äº†ã€‚å¦å¤–åœ¨å‰é¢çº¸ç¬”åˆ†æžå¤„æˆ‘ä»¬æåˆ°äº†ï¼Œçº¸ç¬”åˆ†æžä¸­çš„step3å¹¶ä¸å…¨é¢ï¼Œå…¶å®žæ˜¯å°‘äº†ï¼š 123//äº¤æ¢LinkedListçš„firstå’ŒlastlinkedList.setFirstNode(originalLastNode);linkedList.setLastNode(originalFirstNode); è¿™ä¸€çŽ¯èŠ‚ï¼Œæ²¡æœ‰è¿™ä¸€çŽ¯èŠ‚å€’ç½®åŽæ¯ä¸ªNodeè™½ç„¶æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯é¦–å°¾èŠ‚ç‚¹å¹¶ä¸æ­£ç¡®ï¼ŒåŽæ¥æˆ‘æ‰æƒ³æ˜Žç™½ï¼Œå®žé™…ä¸Šé¦–å°¾å¯¹è°ƒåŽæ‰ç®—å®Œæˆäº†æ•´ä¸ªé“¾è¡¨çš„å€’ç½®ã€‚ å¥½ï¼Œåˆ°äº†è¿™é‡Œï¼ŒåŸºæœ¬ä¸Šé¢˜ç›®å°±è§£å®Œäº†ã€‚æ•´ä½“å·¥ç¨‹åœ¨æˆ‘çš„GitHubé‡Œã€‚ æ€»ç»“é€šè¿‡è¿™ä¸ªé¢˜ç›®ï¼Œé”»ç‚¼äº†ä¸€ä¸‹è‡ªå·±æ€è€ƒ/åˆ†æž/è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼ŒåŒæ—¶ä¹Ÿå¯¹JDKä¸­çš„LinkedListåŠ æ·±äº†ç†è§£. å‚è€ƒèµ„æ–™Javaæ ‡å‡†åº“çš„LinkedListæºç  Linked List - é“¾è¡¨]]></content>
      <tags>
        <tag>é›†åˆ</tag>
        <tag>æ•°æ®ç»“æž„</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽé¢å‘å¯¹è±¡]]></title>
    <url>%2F75636f49.html</url>
    <content type="text"><![CDATA[å…³äºŽâ€é¢å‘å¯¹è±¡â€æœ€è‘—åçš„ä¸€å¥è¯å¯èƒ½å°±æ˜¯â€ä¸‡ç‰©çš†å¯¹è±¡äº†â€ï¼Œå½“ç„¶ï¼Œè¿™æ˜¯ä¸€å¥â€æ­£ç¡®çš„åºŸè¯â€ã€‚å®žé™…ä¸Šæˆ‘ä»¬å¤§å¯ä»¥é€†å‘æ€ç»´ï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æžœæ²¡æœ‰äº†â€å¯¹è±¡â€çš„æ¦‚å¿µï¼Œä½ ä¼šæ€Žä¹ˆåšã€‚æ¯”å¦‚è¦å®žçŽ°å¤ç”¨ï¼Œæˆ‘èƒ½æƒ³åˆ°çš„ï¼Œæœ€ç›´æŽ¥çš„åŠžæ³•æ˜¯å°†è¿‡ç¨‹å°è£…åˆ°æ–‡ä»¶é‡Œï¼Œä»¥æŸç§æ–¹å¼å¯¼å…¥æ–‡ä»¶æ¥å¤ç”¨ï¼Œé‚£è¿˜çœŸä¸å¦‚æœ‰ä¸ªâ€å¯¹è±¡â€è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Œæˆ‘æƒ³â€é¢å‘å¯¹è±¡â€åº”å½“æ˜¯è¿‡ç¨‹å¼èŒƒå¼å‘å±•åˆ°ä¸€å®šçš„ç¨‹åº¦æœ‰äº†éœ€æ±‚è‡ªç„¶è€Œç„¶äº§ç”Ÿäº†ï¼Œä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†è§£å†³é—®é¢˜è€Œç”Ÿçš„ã€‚æˆ‘çŒœæƒ³åº”å½“æ˜¯è¿™æ ·çš„ï¼Œéœ€æ±‚æ˜¯åˆ›é€ æ€§çš„æºæ³‰ã€‚]]></content>
      <tags>
        <tag>é¢å‘å¯¹è±¡</tag>
        <tag>ç¼–ç¨‹èŒƒå¼</tag>
        <tag>æ€æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayListæ‰©å®¹è§„åˆ™çš„å…³é”®ä»£ç ]]></title>
    <url>%2Fdd047d82.html</url>
    <content type="text"><![CDATA[çœ‹äº†çœ‹ArrayListä¸­æ‰©å®¹å¤„ç†çš„ä»£ç ã€‚æ„Ÿè§‰å†™çš„è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ã€‚ æ‰©å®¹å¤„ç†å¤„ï¼Œä¼ å…¥æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰ï¼Œç„¶åŽèŽ·å¾—åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°ï¼›å†å°†æ–°çš„æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° = åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° + (åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° / 2)ï¼Œå…¶å®žä¹Ÿå°±æ˜¯è®©æ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°å˜ä¸ºåŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°çš„1.5å€ã€‚å¦‚æžœæ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°æ¯”æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰è¦å°ï¼ˆå‡ºçŽ°è¿™ç§æƒ…å†µå› ä¸ºaddAllæ–¹æ³•æœ‰å¯èƒ½ä¸€æ¬¡æ€§æ”¾å¾ˆå¤šå€¼è¿›æ¥ï¼Œæ•°é‡å¤šåˆ°äº†è¶…è¿‡äº† åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™ * 1.5ï¼‰ï¼Œåˆ™è®©æ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° = æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼›å¦‚æžœæ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°æ¯”è§„å®šçš„æœ€é«˜ä¸Šé™è¿˜è¦å¤§ï¼ˆæœ‰å¯èƒ½é€šè¿‡addAllæ”¾å…¥äº†å·¨é‡çš„æ•°æ®ï¼‰ï¼Œé‚£ä¹ˆå°±èµ°è¶…å¤§å¤„ç† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970/** * Appends the specified element to the end of this list. * * @param e element to be appended to this list * @return &lt;tt&gt;true&lt;/tt&gt; (as specified by &#123;@link Collection#add&#125;) */public boolean add(E e) &#123; ensureCapacityInternal(size + 1); // Increments modCount!! å°†æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰ä¼ å…¥ ç¡®ä¿å®¹é‡è¶³å¤Ÿå¤„ç† çš„è¿‡ç¨‹ elementData[size++] = e; return true;&#125;/** * Appends all of the elements in the specified collection to the end of * this list, in the order that they are returned by the * specified collection's Iterator. The behavior of this operation is * undefined if the specified collection is modified while the operation * is in progress. (This implies that the behavior of this call is * undefined if the specified collection is this list, and this * list is nonempty.) * * @param c collection containing elements to be added to this list * @return &lt;tt&gt;true&lt;/tt&gt; if this list changed as a result of the call * @throws NullPointerException if the specified collection is null */public boolean addAll(Collection&lt;? extends E&gt; c) &#123; Object[] a = c.toArray(); int numNew = a.length; ensureCapacityInternal(size + numNew); // Increments modCount System.arraycopy(a, 0, elementData, size, numNew); size += numNew; return numNew != 0;&#125;//ç¡®ä¿å®¹é‡è¶³å¤Ÿå¤„ç†è¿‡ç¨‹private void ensureCapacityInternal(int minCapacity) &#123; if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123; minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity); &#125; ensureExplicitCapacity(minCapacity);&#125;private void ensureExplicitCapacity(int minCapacity) &#123; modCount++; // overflow-conscious code if (minCapacity - elementData.length &gt; 0) //å¦‚æžœæƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰å·²ç»å¤§äºŽæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™äº† grow(minCapacity); //åˆ™è¿›è¡Œæ‰©å®¹&#125;/** * è¿›è¡Œæ‰©å®¹ * Increases the capacity to ensure that it can hold at least the * number of elements specified by the minimum capacity argument. * * @param minCapacity the desired minimum capacity */private void grow(int minCapacity) &#123; //ä¼ å…¥æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰ // overflow-conscious code int oldCapacity = elementData.length; //èŽ·å¾—åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1); //æ–°çš„æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° = åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° + (åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° / 2)ï¼Œå…¶å®žä¹Ÿå°±æ˜¯è®©æ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°å˜ä¸ºåŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°çš„1.5å€ ï¼ˆæ³¨æ„ï¼šå³ç§»ä¸€ä½ç›¸å½“äºŽé™¤2ï¼‰ if (newCapacity - minCapacity &lt; 0) //å¦‚æžœæ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°æ¯”æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ï¼ˆä¹Ÿå°±æ˜¯å½“å‰å®žé™…å®¹é‡å¤§å° + 1ï¼‰è¦å°ï¼ˆå‡ºçŽ°è¿™ç§æƒ…å†µå› ä¸ºaddAllæ–¹æ³•æœ‰å¯èƒ½ä¸€æ¬¡æ€§æ”¾å¾ˆå¤šå€¼è¿›æ¥ï¼Œæ•°é‡å¤šåˆ°äº†è¶…è¿‡äº† åŽŸæ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™ * 1.5ï¼‰ newCapacity = minCapacity; //åˆ™è®©æ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å° = æƒ³è¦å¢žé•¿åˆ°çš„å¤§å° if (newCapacity - MAX_ARRAY_SIZE &gt; 0) //å¦‚æžœæ–°æ‰¿è½½æ•°ç»„å®¹é‡ä¸Šé™å¤§å°æ¯”è§„å®šçš„æœ€é«˜ä¸Šé™è¿˜è¦å¤§ï¼ˆæœ‰å¯èƒ½é€šè¿‡addAllæ”¾å…¥äº†å·¨é‡çš„æ•°æ®ï¼‰ newCapacity = hugeCapacity(minCapacity); //é‚£ä¹ˆå°±èµ°è¶…å¤§å¤„ç† // minCapacity is usually close to size, so this is a win: //ä¸€èˆ¬æ¥è¯´æƒ³è¦å¢žé•¿åˆ°çš„å¤§å°ä¼šä¸ŽåŽŸæ¥æ‰¿è½½æ•°ç»„ä¸­å®žé™…æ•°æ®çš„sizeæŽ¥è¿‘ï¼Œä¹Ÿå°±æžç«¯æƒ…å†µä¸€æ¬¡æ€§addAllå¤§é‡æ•°æ®çš„æƒ…å†µå¹¶ä¸å¸¸è§ elementData = Arrays.copyOf(elementData, newCapacity); //å°†è€çš„æ‰¿è½½æ•°ç»„æŒ‰ç…§åˆšæ‰ç”Ÿæˆçš„ä¸Šé™å¤åˆ¶æˆä¸€ä¸ªæ–°çš„æ‰¿è½½æ•°ç»„&#125;]]></content>
      <tags>
        <tag>Java</tag>
        <tag>é›†åˆç±»</tag>
        <tag>æºç åˆ†æž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘çŽ°äº†ä¸€ç¯‡å¾ˆé€šä¿—æ˜“æ‡‚çš„è®²è§£èšé›†ç´¢å¼•ä¸Žéžèšé›†ç´¢å¼•çš„æ–‡ç« ]]></title>
    <url>%2F9e5f69ef.html</url>
    <content type="text"><![CDATA[æ¥è‡ªâ€œæ—¥æ–°é˜â€çš„ä¸€ç¯‡æ–‡ç« ï¼Œä½œè€…å†™çš„å¾ˆå½¢è±¡ï¼Œå¾ˆæ˜“æ‡‚ã€‚ èšé›†ç´¢å¼•å’Œéžèšé›†ç´¢å¼•çš„åŒºåˆ«: æ±‰è¯­å­—å…¸çš„æ­£æ–‡æœ¬èº«å°±æ˜¯ä¸€ä¸ªèšé›†ç´¢å¼•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦æŸ¥â€œå®‰â€å­—ï¼Œå°±ä¼šå¾ˆè‡ªç„¶åœ°ç¿»å¼€å­—å…¸çš„å‰å‡ é¡µï¼Œå› ä¸ºâ€œå®‰â€çš„æ‹¼éŸ³æ˜¯â€œanâ€ï¼Œè€ŒæŒ‰ç…§æ‹¼éŸ³æŽ’åºæ±‰å­—çš„å­—å…¸æ˜¯ä»¥è‹±æ–‡å­—æ¯â€œaâ€å¼€å¤´å¹¶ä»¥â€œzâ€ç»“å°¾çš„ï¼Œé‚£ä¹ˆâ€œå®‰â€å­—å°±è‡ªç„¶åœ°æŽ’åœ¨å­—å…¸çš„å‰éƒ¨ã€‚å¦‚æžœæ‚¨ç¿»å®Œäº†æ‰€æœ‰ä»¥â€œaâ€å¼€å¤´çš„éƒ¨åˆ†ä»ç„¶æ‰¾ä¸åˆ°è¿™ä¸ªå­—ï¼Œé‚£ä¹ˆå°±è¯´æ˜Žæ‚¨çš„å­—å…¸ä¸­æ²¡æœ‰è¿™ä¸ªå­—ï¼›åŒæ ·çš„ï¼Œå¦‚æžœæŸ¥â€œå¼ â€å­—ï¼Œé‚£æ‚¨ä¹Ÿä¼šå°†æ‚¨çš„å­—å…¸ç¿»åˆ°æœ€åŽéƒ¨åˆ†ï¼Œå› ä¸ºâ€œå¼ â€çš„æ‹¼éŸ³æ˜¯â€œzhangâ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­—å…¸çš„æ­£æ–‡éƒ¨åˆ†æœ¬èº«å°±æ˜¯ä¸€ä¸ªç›®å½•ï¼Œæ‚¨ä¸éœ€è¦å†åŽ»æŸ¥å…¶ä»–ç›®å½•æ¥æ‰¾åˆ°æ‚¨éœ€è¦æ‰¾çš„å†…å®¹ã€‚æ­£æ–‡å†…å®¹æœ¬èº«å°±æ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šè§„åˆ™æŽ’åˆ—çš„ç›®å½•ç§°ä¸ºâ€œèšé›†ç´¢å¼•â€ã€‚ å¦‚æžœæ‚¨è®¤è¯†æŸä¸ªå­—ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿåœ°ä»Žè‡ªåŠ¨ä¸­æŸ¥åˆ°è¿™ä¸ªå­—ã€‚ä½†æ‚¨ä¹Ÿå¯èƒ½ä¼šé‡åˆ°æ‚¨ä¸è®¤è¯†çš„å­—ï¼Œä¸çŸ¥é“å®ƒçš„å‘éŸ³ï¼Œè¿™æ—¶å€™ï¼Œæ‚¨å°±ä¸èƒ½æŒ‰ç…§åˆšæ‰çš„æ–¹æ³•æ‰¾åˆ°æ‚¨è¦æŸ¥çš„å­—ï¼Œè€Œéœ€è¦åŽ»æ ¹æ®â€œåæ—éƒ¨é¦–â€æŸ¥åˆ°æ‚¨è¦æ‰¾çš„å­—ï¼Œç„¶åŽæ ¹æ®è¿™ä¸ªå­—åŽçš„é¡µç ç›´æŽ¥ç¿»åˆ°æŸé¡µæ¥æ‰¾åˆ°æ‚¨è¦æ‰¾çš„å­—ã€‚ä½†æ‚¨ç»“åˆâ€œéƒ¨é¦–ç›®å½•â€å’Œâ€œæ£€å­—è¡¨â€è€ŒæŸ¥åˆ°çš„å­—çš„æŽ’åºå¹¶ä¸æ˜¯çœŸæ­£çš„æ­£æ–‡çš„æŽ’åºæ–¹æ³•ï¼Œæ¯”å¦‚æ‚¨æŸ¥â€œå¼ â€å­—ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨æŸ¥éƒ¨é¦–ä¹‹åŽçš„æ£€å­—è¡¨ä¸­â€œå¼ â€çš„é¡µç æ˜¯672é¡µï¼Œæ£€å­—è¡¨ä¸­â€œå¼ â€çš„ä¸Šé¢æ˜¯â€œé©°â€å­—ï¼Œä½†é¡µç å´æ˜¯63é¡µï¼Œâ€œå¼ â€çš„ä¸‹é¢æ˜¯â€œå¼©â€å­—ï¼Œé¡µé¢æ˜¯390é¡µã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™äº›å­—å¹¶ä¸æ˜¯çœŸæ­£çš„åˆ†åˆ«ä½äºŽâ€œå¼ â€å­—çš„ä¸Šä¸‹æ–¹ï¼ŒçŽ°åœ¨æ‚¨çœ‹åˆ°çš„è¿žç»­çš„â€œé©°ã€å¼ ã€å¼©â€ä¸‰å­—å®žé™…ä¸Šå°±æ˜¯ä»–ä»¬åœ¨éžèšé›†ç´¢å¼•ä¸­çš„æŽ’åºï¼Œæ˜¯å­—å…¸æ­£æ–‡ä¸­çš„å­—åœ¨éžèšé›†ç´¢å¼•ä¸­çš„æ˜ å°„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥æ‰¾åˆ°æ‚¨æ‰€éœ€è¦çš„å­—ï¼Œä½†å®ƒéœ€è¦ä¸¤ä¸ªè¿‡ç¨‹ï¼Œå…ˆæ‰¾åˆ°ç›®å½•ä¸­çš„ç»“æžœï¼Œç„¶åŽå†ç¿»åˆ°æ‚¨æ‰€éœ€è¦çš„é¡µç ã€‚ æˆ‘ä»¬æŠŠè¿™ç§ç›®å½•çº¯ç²¹æ˜¯ç›®å½•ï¼Œæ­£æ–‡çº¯ç²¹æ˜¯æ­£æ–‡çš„æŽ’åºæ–¹å¼ç§°ä¸ºâ€œéžèšé›†ç´¢å¼•â€ã€‚ é€šè¿‡ä»¥ä¸Šä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£åˆ°ä»€ä¹ˆæ˜¯â€œèšé›†ç´¢å¼•â€å’Œâ€œéžèšé›†ç´¢å¼•â€ã€‚ è¿›ä¸€æ­¥å¼•ç”³ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„ç†è§£ï¼šæ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ï¼Œå› ä¸ºç›®å½•åªèƒ½æŒ‰ç…§ä¸€ç§æ–¹æ³•è¿›è¡ŒæŽ’åºã€‚]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>ç´¢å¼•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³hexo local searchçš„XML Parsing Error: not well-formedå¼‚å¸¸]]></title>
    <url>%2Fb73920ad.html</url>
    <content type="text"><![CDATA[å¦‚æžœä½ çš„hexoçš„local searchå‡ºçŽ°äº†ï¼š 1XML Parsing Error: not well-formed è¯·å°è¯•è¿™æ ·è§£å†³ï¼š ç”¨WebStormæ‰“å¼€ä½ çš„blogä»£ç ï¼Œreplace in path å‹¾é€‰ Regexï¼Œæ›¿æ¢\u0008ä¸ºç©º ç”¨Firefoxæ‰“å¼€local searchæµ‹è¯•ï¼Œè‹¥è¿˜æŠ¥åŒæ ·å¼‚å¸¸ï¼Œé€šè¿‡FirefoxæŽ§åˆ¶å°å®šä½åˆ°search.xmlæ–‡ä»¶å‡ºé”™å¤„ï¼Œæ”¾å¤§å±å¹•æŸ¥çœ‹å‡ºé”™å‡ºæ–¹å—ä¹±ç å†…çš„Unicodeç¼–ç æ˜¯å¤šå°‘è®°ä¸‹æ¥ ç”¨WebStormæ‰“å¼€ä½ çš„blogä»£ç ï¼Œreplace in path å‹¾é€‰ Regexï¼Œæ›¿æ¢åˆšæ‰è®°ä¸‹çš„Unicodeä¸ºç©º hexo clean hexo g é‡æ–°ç”Ÿæˆï¼Œå†æ¬¡æµ‹è¯• åå¤æ­¥éª¤2-4ï¼Œç›´è‡³æˆåŠŸ Ps. æŽ¨èå¤§å®¶ç”¨ WebStormæˆ–ideaæ¥å†™åšå®¢ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Graph Easyç”»æµç¨‹å›¾]]></title>
    <url>%2F47b22367.html</url>
    <content type="text"><![CDATA[WhatGraph Easyæ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸€ä¸ªç”¨æ¥ç”ŸæˆASCIIFlowçš„å·¥å…·ï¼Œä¹Ÿå°±æ˜¯ç”¨æ–‡æœ¬æ¥â€å†™â€æµç¨‹å›¾çš„å·¥å…·ã€‚ Whyæˆ‘ç”¨æµç¨‹å›¾è½¯ä»¶ä¸€æ ·èƒ½ç”»æµç¨‹å›¾ï¼Œä¸ºä»€ä¹ˆè¦ç”¨Graph Easyï¼Ÿåé—®è‡ªå·±ï¼šæµç¨‹å›¾è½¯ä»¶å‡ºçš„å›¾èƒ½è´´åˆ°ä»£ç æ³¨é‡Šé‡Œå—ï¼Ÿ Howå®‰è£…1234567#shellbrew install graphvizcpansudo cpan Graph:Easy ä½¿ç”¨123456789echo '[A] --&gt; &#123;start: front,0;&#125; [A1],[A2]' | graph-easyè¾“å‡º+---+ +----+| A | -+-----&gt; | A1 |+---+ | +----+ | +----+ +-----&gt; | A2 | +----+ è¯¦ç»†ç”¨æ³•è§å®˜æ–¹æ–‡æ¡£ è§£å†³ä¸­æ–‡é”™ä½è§ç”¨ Ascii ç”»å…³ç³»å›¾ å‚è€ƒèµ„æ–™æŽ¨èä¸€ä¸ªåˆ¶ä½œã€ŒASCII æµç¨‹å›¾ã€å·¥å…·â€”â€”Graph Easy graph-easy-cn Â· GitBook ä½¿ç”¨Graph Easyæ¥åšç‚«é…·çš„Asciiå­—ç¬¦å›¾ ç”¨ Ascii ç”»å…³ç³»å›¾]]></content>
      <tags>
        <tag>æ–‡æ¡£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Springå†…ç½®çš„AOPå·¥å…·]]></title>
    <url>%2F8862452.html</url>
    <content type="text"><![CDATA[Spring å†…ç½®äº†ä¸€ä¸ª AOP å·¥å…·ç±»ï¼Œæä¾›äº†å¾ˆå¤šå®žç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚åˆ¤æ–­å½“å‰ class æ˜¯ä¸æ˜¯ AOP class ï¼Œæˆ–è€…ç›´æŽ¥è¿›è¡Œåå°„è°ƒç”¨ï¼Œç­‰ç­‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349/* * Copyright 2002-2016 the original author or authors. * * Licensed under the Apache License, Version 2.0 (the "License"); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an "AS IS" BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */package org.springframework.aop.support;import java.lang.reflect.InvocationTargetException;import java.lang.reflect.Method;import java.lang.reflect.Modifier;import java.lang.reflect.Proxy;import java.util.LinkedHashSet;import java.util.LinkedList;import java.util.List;import java.util.Set;import org.springframework.aop.Advisor;import org.springframework.aop.AopInvocationException;import org.springframework.aop.IntroductionAdvisor;import org.springframework.aop.IntroductionAwareMethodMatcher;import org.springframework.aop.MethodMatcher;import org.springframework.aop.Pointcut;import org.springframework.aop.PointcutAdvisor;import org.springframework.aop.SpringProxy;import org.springframework.aop.TargetClassAware;import org.springframework.core.BridgeMethodResolver;import org.springframework.core.MethodIntrospector;import org.springframework.util.Assert;import org.springframework.util.ClassUtils;import org.springframework.util.ReflectionUtils;/** * Utility methods for AOP support code. * * &lt;p&gt;Mainly for internal use within Spring's AOP support. * * &lt;p&gt;See &#123;@link org.springframework.aop.framework.AopProxyUtils&#125; for a * collection of framework-specific AOP utility methods which depend * on internals of Spring's AOP framework implementation. * * @author Rod Johnson * @author Juergen Hoeller * @author Rob Harrop * @see org.springframework.aop.framework.AopProxyUtils */public abstract class AopUtils &#123; /** * Check whether the given object is a JDK dynamic proxy or a CGLIB proxy. * &lt;p&gt;This method additionally checks if the given object is an instance * of &#123;@link SpringProxy&#125;. * @param object the object to check * @see #isJdkDynamicProxy * @see #isCglibProxy */ public static boolean isAopProxy(Object object) &#123; return (object instanceof SpringProxy &amp;&amp; (Proxy.isProxyClass(object.getClass()) || ClassUtils.isCglibProxyClass(object.getClass()))); &#125; /** * Check whether the given object is a JDK dynamic proxy. * &lt;p&gt;This method goes beyond the implementation of * &#123;@link Proxy#isProxyClass(Class)&#125; by additionally checking if the * given object is an instance of &#123;@link SpringProxy&#125;. * @param object the object to check * @see java.lang.reflect.Proxy#isProxyClass */ public static boolean isJdkDynamicProxy(Object object) &#123; return (object instanceof SpringProxy &amp;&amp; Proxy.isProxyClass(object.getClass())); &#125; /** * Check whether the given object is a CGLIB proxy. * &lt;p&gt;This method goes beyond the implementation of * &#123;@link ClassUtils#isCglibProxy(Object)&#125; by additionally checking if * the given object is an instance of &#123;@link SpringProxy&#125;. * @param object the object to check * @see ClassUtils#isCglibProxy(Object) */ public static boolean isCglibProxy(Object object) &#123; return (object instanceof SpringProxy &amp;&amp; ClassUtils.isCglibProxy(object)); &#125; /** * Determine the target class of the given bean instance which might be an AOP proxy. * &lt;p&gt;Returns the target class for an AOP proxy or the plain class otherwise. * @param candidate the instance to check (might be an AOP proxy) * @return the target class (or the plain class of the given object as fallback; * never &#123;@code null&#125;) * @see org.springframework.aop.TargetClassAware#getTargetClass() * @see org.springframework.aop.framework.AopProxyUtils#ultimateTargetClass(Object) */ public static Class&lt;?&gt; getTargetClass(Object candidate) &#123; Assert.notNull(candidate, "Candidate object must not be null"); Class&lt;?&gt; result = null; if (candidate instanceof TargetClassAware) &#123; result = ((TargetClassAware) candidate).getTargetClass(); &#125; if (result == null) &#123; result = (isCglibProxy(candidate) ? candidate.getClass().getSuperclass() : candidate.getClass()); &#125; return result; &#125; /** * Select an invocable method on the target type: either the given method itself * if actually exposed on the target type, or otherwise a corresponding method * on one of the target type's interfaces or on the target type itself. * @param method the method to check * @param targetType the target type to search methods on (typically an AOP proxy) * @return a corresponding invocable method on the target type * @throws IllegalStateException if the given method is not invocable on the given * target type (typically due to a proxy mismatch) * @since 4.3 * @see MethodIntrospector#selectInvocableMethod(Method, Class) */ public static Method selectInvocableMethod(Method method, Class&lt;?&gt; targetType) &#123; Method methodToUse = MethodIntrospector.selectInvocableMethod(method, targetType); if (Modifier.isPrivate(methodToUse.getModifiers()) &amp;&amp; !Modifier.isStatic(methodToUse.getModifiers()) &amp;&amp; SpringProxy.class.isAssignableFrom(targetType)) &#123; throw new IllegalStateException(String.format( "Need to invoke method '%s' found on proxy for target class '%s' but cannot " + "be delegated to target bean. Switch its visibility to package or protected.", method.getName(), method.getDeclaringClass().getSimpleName())); &#125; return methodToUse; &#125; /** * Determine whether the given method is an "equals" method. * @see java.lang.Object#equals */ public static boolean isEqualsMethod(Method method) &#123; return ReflectionUtils.isEqualsMethod(method); &#125; /** * Determine whether the given method is a "hashCode" method. * @see java.lang.Object#hashCode */ public static boolean isHashCodeMethod(Method method) &#123; return ReflectionUtils.isHashCodeMethod(method); &#125; /** * Determine whether the given method is a "toString" method. * @see java.lang.Object#toString() */ public static boolean isToStringMethod(Method method) &#123; return ReflectionUtils.isToStringMethod(method); &#125; /** * Determine whether the given method is a "finalize" method. * @see java.lang.Object#finalize() */ public static boolean isFinalizeMethod(Method method) &#123; return (method != null &amp;&amp; method.getName().equals("finalize") &amp;&amp; method.getParameterTypes().length == 0); &#125; /** * Given a method, which may come from an interface, and a target class used * in the current AOP invocation, find the corresponding target method if there * is one. E.g. the method may be &#123;@code IFoo.bar()&#125; and the target class * may be &#123;@code DefaultFoo&#125;. In this case, the method may be * &#123;@code DefaultFoo.bar()&#125;. This enables attributes on that method to be found. * &lt;p&gt;&lt;b&gt;NOTE:&lt;/b&gt; In contrast to &#123;@link org.springframework.util.ClassUtils#getMostSpecificMethod&#125;, * this method resolves Java 5 bridge methods in order to retrieve attributes * from the &lt;i&gt;original&lt;/i&gt; method definition. * @param method the method to be invoked, which may come from an interface * @param targetClass the target class for the current invocation. * May be &#123;@code null&#125; or may not even implement the method. * @return the specific target method, or the original method if the * &#123;@code targetClass&#125; doesn't implement it or is &#123;@code null&#125; * @see org.springframework.util.ClassUtils#getMostSpecificMethod */ public static Method getMostSpecificMethod(Method method, Class&lt;?&gt; targetClass) &#123; Method resolvedMethod = ClassUtils.getMostSpecificMethod(method, targetClass); // If we are dealing with method with generic parameters, find the original method. return BridgeMethodResolver.findBridgedMethod(resolvedMethod); &#125; /** * Can the given pointcut apply at all on the given class? * &lt;p&gt;This is an important test as it can be used to optimize * out a pointcut for a class. * @param pc the static or dynamic pointcut to check * @param targetClass the class to test * @return whether the pointcut can apply on any method */ public static boolean canApply(Pointcut pc, Class&lt;?&gt; targetClass) &#123; return canApply(pc, targetClass, false); &#125; /** * Can the given pointcut apply at all on the given class? * &lt;p&gt;This is an important test as it can be used to optimize * out a pointcut for a class. * @param pc the static or dynamic pointcut to check * @param targetClass the class to test * @param hasIntroductions whether or not the advisor chain * for this bean includes any introductions * @return whether the pointcut can apply on any method */ public static boolean canApply(Pointcut pc, Class&lt;?&gt; targetClass, boolean hasIntroductions) &#123; Assert.notNull(pc, "Pointcut must not be null"); if (!pc.getClassFilter().matches(targetClass)) &#123; return false; &#125; MethodMatcher methodMatcher = pc.getMethodMatcher(); if (methodMatcher == MethodMatcher.TRUE) &#123; // No need to iterate the methods if we're matching any method anyway... return true; &#125; IntroductionAwareMethodMatcher introductionAwareMethodMatcher = null; if (methodMatcher instanceof IntroductionAwareMethodMatcher) &#123; introductionAwareMethodMatcher = (IntroductionAwareMethodMatcher) methodMatcher; &#125; Set&lt;Class&lt;?&gt;&gt; classes = new LinkedHashSet&lt;Class&lt;?&gt;&gt;(ClassUtils.getAllInterfacesForClassAsSet(targetClass)); classes.add(targetClass); for (Class&lt;?&gt; clazz : classes) &#123; Method[] methods = ReflectionUtils.getAllDeclaredMethods(clazz); for (Method method : methods) &#123; if ((introductionAwareMethodMatcher != null &amp;&amp; introductionAwareMethodMatcher.matches(method, targetClass, hasIntroductions)) || methodMatcher.matches(method, targetClass)) &#123; return true; &#125; &#125; &#125; return false; &#125; /** * Can the given advisor apply at all on the given class? * This is an important test as it can be used to optimize * out a advisor for a class. * @param advisor the advisor to check * @param targetClass class we're testing * @return whether the pointcut can apply on any method */ public static boolean canApply(Advisor advisor, Class&lt;?&gt; targetClass) &#123; return canApply(advisor, targetClass, false); &#125; /** * Can the given advisor apply at all on the given class? * &lt;p&gt;This is an important test as it can be used to optimize out a advisor for a class. * This version also takes into account introductions (for IntroductionAwareMethodMatchers). * @param advisor the advisor to check * @param targetClass class we're testing * @param hasIntroductions whether or not the advisor chain for this bean includes * any introductions * @return whether the pointcut can apply on any method */ public static boolean canApply(Advisor advisor, Class&lt;?&gt; targetClass, boolean hasIntroductions) &#123; if (advisor instanceof IntroductionAdvisor) &#123; return ((IntroductionAdvisor) advisor).getClassFilter().matches(targetClass); &#125; else if (advisor instanceof PointcutAdvisor) &#123; PointcutAdvisor pca = (PointcutAdvisor) advisor; return canApply(pca.getPointcut(), targetClass, hasIntroductions); &#125; else &#123; // It doesn't have a pointcut so we assume it applies. return true; &#125; &#125; /** * Determine the sublist of the &#123;@code candidateAdvisors&#125; list * that is applicable to the given class. * @param candidateAdvisors the Advisors to evaluate * @param clazz the target class * @return sublist of Advisors that can apply to an object of the given class * (may be the incoming List as-is) */ public static List&lt;Advisor&gt; findAdvisorsThatCanApply(List&lt;Advisor&gt; candidateAdvisors, Class&lt;?&gt; clazz) &#123; if (candidateAdvisors.isEmpty()) &#123; return candidateAdvisors; &#125; List&lt;Advisor&gt; eligibleAdvisors = new LinkedList&lt;Advisor&gt;(); for (Advisor candidate : candidateAdvisors) &#123; if (candidate instanceof IntroductionAdvisor &amp;&amp; canApply(candidate, clazz)) &#123; eligibleAdvisors.add(candidate); &#125; &#125; boolean hasIntroductions = !eligibleAdvisors.isEmpty(); for (Advisor candidate : candidateAdvisors) &#123; if (candidate instanceof IntroductionAdvisor) &#123; // already processed continue; &#125; if (canApply(candidate, clazz, hasIntroductions)) &#123; eligibleAdvisors.add(candidate); &#125; &#125; return eligibleAdvisors; &#125; /** * Invoke the given target via reflection, as part of an AOP method invocation. * @param target the target object * @param method the method to invoke * @param args the arguments for the method * @return the invocation result, if any * @throws Throwable if thrown by the target method * @throws org.springframework.aop.AopInvocationException in case of a reflection error */ public static Object invokeJoinpointUsingReflection(Object target, Method method, Object[] args) throws Throwable &#123; // Use reflection to invoke the method. try &#123; ReflectionUtils.makeAccessible(method); return method.invoke(target, args); &#125; catch (InvocationTargetException ex) &#123; // Invoked method threw a checked exception. // We must rethrow it. The client won't see the interceptor. throw ex.getTargetException(); &#125; catch (IllegalArgumentException ex) &#123; throw new AopInvocationException("AOP configuration seems to be invalid: tried calling method [" + method + "] on target [" + target + "]", ex); &#125; catch (IllegalAccessException ex) &#123; throw new AopInvocationException("Could not access method [" + method + "]", ex); &#125; &#125;&#125;]]></content>
      <tags>
        <tag>spring</tag>
        <tag>ä»£ç†</tag>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Homebrewå®‰è£…ã€å¯åŠ¨ã€åœæ­¢NGINX]]></title>
    <url>%2Fffce7a36.html</url>
    <content type="text"><![CDATA[12345678#å®‰è£…brew install nginx#å¯åŠ¨brew services start nginx#åœæ­¢brew services stop nginx]]></content>
      <tags>
        <tag>Homebrew</tag>
        <tag>NGINX</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æœåŠ¡è°ƒç”¨ï¼ˆä¸Šï¼‰]]></title>
    <url>%2Ffe76b270.html</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æ³¨å†Œä¸Žå‘çŽ°ã€ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ€Žæ ·å‘çŽ°æœåŠ¡ã€‚æ—¢ç„¶å·²ç»å‘çŽ°äº†æœåŠ¡ï¼Œé‚£ä¹ˆæŽ¥ä¸‹æ¥å°±è½®åˆ°åŽ»è°ƒç”¨äº†ã€‚æœåŠ¡è°ƒç”¨ä¼šåˆ†ä¸ºä¸Šã€ä¸‹ä¸¤ç¯‡æ–‡ç« ï¼Œåœ¨ä¸Šç¯‡ä¸­ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ Spring CloudæœåŠ¡è°ƒç”¨çš„åŸºæœ¬æ“ä½œå’ŒåŸºæœ¬æ¦‚å¿µï¼Œåœ¨ä¸‹ç¯‡ä¸­æˆ‘ä»¬ä¼šè¿›ä¸€æ­¥æ·±å…¥åˆ†æžSpring Cloudå®žçŽ°æœåŠ¡è°ƒç”¨çš„åŽŸç†ã€‚ ä¾‹å­å…³äºŽæœåŠ¡è°ƒç”¨ï¼Œæ²¡æœ‰å¤ªå¤šæ–°çš„æ¦‚å¿µéœ€è¦ç†è§£ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ç›´æŽ¥å…ˆæ¥ä»Žå®žè·µå…¥æ‰‹ï¼Œå†™ä¸€ä¸ªå°ä¾‹å­ï¼Œåœ¨è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬ä¼šè´Ÿè½½å‡è¡¡çš„ä»Žä¸€ä¸ªæœåŠ¡åŽ»è°ƒç”¨å¦ä¸€ä¸ªæœåŠ¡ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥ä½“éªŒä¸€ä¸‹åœ¨Spring Cloudå¹³å°ä¸‹è¿›è¡ŒæœåŠ¡è°ƒç”¨çš„è¿‡ç¨‹ã€‚ï¼ˆä¾‹å­å…¨éƒ¨ä»£ç åœ¨æˆ‘çš„Githubä¸Šï¼‰ ä»ç„¶åƒä¸Šç¯‡æ–‡ç« ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬æ¥å»ºç«‹ä¸€ä¸ªå¤šæ¨¡å—çš„Gradleå·¥ç¨‹ï¼Œåˆ†ä¸º3ä¸ªæ¨¡å—ï¼šeureka-serverã€service-aã€service-bã€‚å·¥ç¨‹ç»“æž„å’Œå‰ç¯‡æ–‡ç« ä¸­çš„ä¾‹å­å·¥ç¨‹åŸºæœ¬ä¸€è‡´ï¼šeureka-serveræ˜¯æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡å™¨ï¼Œservice-aå’Œservice-bæ˜¯ä¸¤ä¸ªæœåŠ¡ã€‚ä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä¼šè®©service-aæ¥è°ƒç”¨service-bæä¾›çš„æœåŠ¡ã€‚ eureka-serveræ€Žæ ·å†™è¯·å‚çœ‹å‰ç¯‡æ–‡ç« ï¼Œåœ¨æ­¤ä¸å†å¤è¿°ï¼Œæˆ‘ä»¬æ¥å†™service-aã€‚å…ˆæ¥å†™å¥½é…ç½®ï¼š 12345//æž„å»ºé…ç½®dependencies &#123; compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-netflix-eureka-client', version: '1.4.0.RELEASE' compile group: 'org.springframework.cloud', name: 'spring-cloud-starter-openfeign', version: '1.4.4.RELEASE'&#125; 12345678910//ä¸»é…ç½®package com.github.since1986.learn.cloud.service.a;import org.springframework.cloud.netflix.feign.EnableFeignClients;import org.springframework.context.annotation.Configuration;@EnableFeignClients@Configurationpublic class AppConfig &#123;&#125; 1234567891011121314151617181920212223242526#application.ymlspring: profiles: peer1 application: name: com-github-since1986-learn-cloud-service-aserver: port: 8010eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/---spring: profiles: peer2 application: name: com-github-since1986-learn-cloud-service-aserver: port: 8011eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/ é…ç½®å†™å¥½åŽï¼Œå°±å¯ä»¥å¼€å§‹å†™é€»è¾‘äº†ï¼Œåœ¨service-aä¸­å†™ä¸€ä¸ªModelã€ä¸€ä¸ªServiceï¼ˆServiceé‡Œæœ‰äº›æ³¨è§£æ¯”è¾ƒé™Œç”Ÿï¼Œå…ˆä¸ç”¨ç®¡å®ƒæ˜¯ä»€ä¹ˆæ„æ€ï¼ŒåŽé¢æˆ‘ä»¬ä¼šè®²åˆ°ï¼‰å’Œä¸€ä¸ªControllerï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778//Modelpackage com.github.since1986.learn.cloud.service.a;import java.io.Serializable;public class Echo implements Serializable &#123; private long id; private String content; private long timestamp; public Echo() &#123; &#125; private Echo(Builder builder) &#123; setId(builder.id); setContent(builder.content); setTimestamp(builder.timestamp); &#125; public static Builder newBuilder() &#123; return new Builder(); &#125; public long getId() &#123; return id; &#125; public void setId(long id) &#123; this.id = id; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public long getTimestamp() &#123; return timestamp; &#125; public void setTimestamp(long timestamp) &#123; this.timestamp = timestamp; &#125; public static final class Builder &#123; private long id; private String content; private long timestamp; private Builder() &#123; &#125; public Builder withId(long id) &#123; this.id = id; return this; &#125; public Builder withContent(String content) &#123; this.content = content; return this; &#125; public Builder withTimestamp(long timestamp) &#123; this.timestamp = timestamp; return this; &#125; public Echo build() &#123; return new Echo(this); &#125; &#125;&#125; 1234567891011121314//Servicepackage com.github.since1986.learn.cloud.service.a;import org.springframework.cloud.netflix.feign.FeignClient;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RequestParam;@FeignClient("com-github-since1986-learn-cloud-service-b")public interface B &#123; @RequestMapping(method = RequestMethod.GET, value = "/echo") Echo getEcho(@RequestParam("id") long id, @RequestParam("showTimestamp") boolean showTimestamp);&#125; 12345678910111213141516171819202122232425//Controllerpackage com.github.since1986.learn.cloud.service.a;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RequestMapping("/call")@RestControllerpublic class CallServiceBController &#123; private final B b; @Autowired public CallServiceBController(B b) &#123; this.b = b; &#125; @GetMapping public ResponseEntity get() &#123; return ResponseEntity.ok(b.getEcho(System.nanoTime(), true)); &#125;&#125; service-aåˆ°æ­¤å°±å†™å®Œäº†ï¼Œæˆ‘ä»¬å†æ¥æŽ¥ç€å†™service-bã€‚service-bä¸Žservice-açš„é…ç½®åªæœ‰application.ymlä¸åŒã€‚ 1234567891011121314151617181920212223242526#application.ymlspring: profiles: peer1 application: name: com-github-since1986-learn-cloud-service-bserver: port: 8020eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/---spring: profiles: peer2 application: name: com-github-since1986-learn-cloud-service-bserver: port: 8021eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/ ä¸šåŠ¡ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778//Modelpackage com.github.since1986.learn.cloud.service.b;import java.io.Serializable;public class Echo implements Serializable &#123; private long id; private String content; private long timestamp; public Echo() &#123; &#125; private Echo(Builder builder) &#123; setId(builder.id); setContent(builder.content); setTimestamp(builder.timestamp); &#125; public static Builder newBuilder() &#123; return new Builder(); &#125; public long getId() &#123; return id; &#125; public void setId(long id) &#123; this.id = id; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125; public long getTimestamp() &#123; return timestamp; &#125; public void setTimestamp(long timestamp) &#123; this.timestamp = timestamp; &#125; public static final class Builder &#123; private long id; private String content; private long timestamp; private Builder() &#123; &#125; public Builder withId(long id) &#123; this.id = id; return this; &#125; public Builder withContent(String content) &#123; this.content = content; return this; &#125; public Builder withTimestamp(long timestamp) &#123; this.timestamp = timestamp; return this; &#125; public Echo build() &#123; return new Echo(this); &#125; &#125;&#125; 1234567//ServiceæŽ¥å£package com.github.since1986.learn.cloud.service.b;public interface EchoService &#123; Echo get(long id, boolean showTimestamp);&#125; 12345678910111213141516171819202122232425262728//Serviceå®žçŽ°package com.github.since1986.learn.cloud.service.b;import org.springframework.beans.BeansException;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.stereotype.Service;@Servicepublic class EchoServiceImpl implements EchoService, ApplicationContextAware &#123; private ApplicationContext applicationContext; @Override public Echo get(long id, boolean showTimestamp) &#123; return Echo .newBuilder() .withId(id) .withContent("å½“å‰Profileä¸ºï¼š" + applicationContext.getEnvironment().getActiveProfiles()[0]) .withTimestamp(showTimestamp ? System.currentTimeMillis() : -1L) .build(); &#125; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; this.applicationContext = applicationContext; &#125;&#125; 12345678910111213141516171819202122232425//Controllerpackage com.github.since1986.learn.cloud.service.b;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RestController;@RequestMapping("/echo")@RestControllerpublic class EchoController &#123; private final EchoService echoService; @Autowired public EchoController(EchoService echoService) &#123; this.echoService = echoService; &#125; @GetMapping public ResponseEntity get(long id, boolean showTimestamp) &#123; return ResponseEntity.ok(echoService.get(id, showTimestamp)); &#125;&#125; å¤§è‡´è¯´æ˜Žä¸‹è¿™ä¸ªä¾‹å­ï¼š service-açš„Controllerå¯¹å¤–æš´éœ²äº†/callè¿™ä¸ªåœ°å€ï¼Œå¹¶è¿”å›žEcho service-açš„Controllerè°ƒç”¨Bè¿™ä¸ªServiceä¸­çš„Echo getEcho(@RequestParam(&quot;id&quot;) long id, @RequestParam(&quot;showTimestamp&quot;) boolean showTimestamp);æ–¹æ³•ï¼Œè¿™ä¸ªgetEcho()æ–¹æ³•å®žé™…ä¸Šæ˜¯é€šè¿‡@FeignClient(&quot;com-github-since1986-learn-cloud-service-b&quot;)ä»¥åŠ@RequestMapping(method = RequestMethod.GET, value = &quot;/echo&quot;)è¿™ä¸¤ä¸ªæ³¨è§£æ‰€æä¾›çš„è§„åˆ™è°ƒç”¨æœåŠ¡åä¸ºcom-github-since1986-learn-cloud-service-bçš„æœåŠ¡å®žä¾‹æä¾›çš„è·¯å¾„ä¸º/echoçš„æœåŠ¡ æˆ‘ä»¬çœ‹service-bçš„application.ymlä¸­çš„å®šä¹‰ï¼Œservice-bçš„æœåŠ¡åå°±æ˜¯com-github-since1986-learn-cloud-service-bï¼ˆåŒæ—¶æ³¨æ„application.ymlä¸­çš„å®šä¹‰ï¼Œservice-bå®šä¹‰æœ‰ä¸¤ä¸ªèŠ‚ç‚¹peer1å’Œpeer2ï¼Œè¿™æ˜¯ä¸ºäº†éªŒè¯Spring Cloudæä¾›ç»™æˆ‘ä»¬çš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œä¸ºäº†èƒ½å¤Ÿçœ‹å‡ºè´Ÿè½½å‡è¡¡æ˜¯å¦ç”Ÿæ•ˆï¼Œæˆ‘ä»¬æŠŠè¢«è°ƒç”¨çš„æœåŠ¡service-bçš„ä¸¤ä¸ªèŠ‚ç‚¹éƒ½å¯åŠ¨èµ·æ¥ï¼Œè°ƒç”¨è€…service-aå¯ä»¥åªå¯ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ service-bçš„Controlleræš´éœ²äº†åœ°å€ä¸º/echoçš„æœåŠ¡ï¼Œå¹¶ä¸”è¾“å‡ºEcho åœ¨service-bçš„/echoè°ƒç”¨çš„æœ¬åœ°çš„Serviceæ–¹æ³•Echo get(long id, boolean showTimestamp);ä¸­ï¼Œæˆ‘ä»¬ä¼šå°†service-bå½“å‰æ¿€æ´»çš„profileçš„åå­—æ”¾åœ¨è¿”å›žçš„Echoå¯¹è±¡çš„contentå±žæ€§ä¸­ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬åœ¨service-aè°ƒç”¨æ—¶ï¼Œå°±èƒ½çŸ¥é“æˆ‘ä»¬è°ƒç”¨çš„æ˜¯service-bçš„å“ªä¸€ä¸ªå®žä¾‹äº† å›žè¿‡å¤´æ¥æ•´ä½“çœ‹ä¸€ä¸‹ï¼Œå…¶å®žæ•´ä¸ªä¾‹å­å°±æ˜¯service-açš„/callåŽ»è´Ÿè½½å‡è¡¡çš„è°ƒç”¨äº†service-bæä¾›çš„/echo è¿è¡Œè¿™ä¸ªä¾‹å­ï¼Œè®¿é—®service-aä¸­Controlleræš´éœ²çš„åœ°å€ /callï¼ŒæŸ¥çœ‹ç»“æžœï¼š å¯ä»¥çœ‹åˆ°service-aæˆåŠŸè°ƒç”¨äº†service-bä¸­æä¾›çš„æœåŠ¡ï¼Œè¾“å‡ºäº†ç”±Echoè§£ç è€Œæˆçš„jsonï¼Œå¹¶ä¸”ï¼Œå¦‚æžœæˆ‘ä»¬å¤šæ¬¡è¿è¡Œä¼šå‘çŽ°è¿”å›žçš„jsonç»“æžœä¸­&quot;content&quot;å±žæ€§ä¼šåœ¨peer1å’Œpeer2ä¹‹é—´å˜æ¢ï¼Œå‰é¢è¯´åˆ°äº†è¿™ä¸ªå±žæ€§è®°å½•çš„æ˜¯service-bå½“å‰æ¿€æ´»çš„profileï¼Œå…¶å®žä¹Ÿå°±æ˜¯æ ‡è¯†äº†å½“å‰è°ƒç”¨çš„æ˜¯service-bçš„å“ªä¸ªå®žä¾‹ï¼ˆå®žé™…ä¸Šæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æŽ¥çœ‹å“åº”çš„headerï¼ŒSpring Cloudå·²ç»åœ¨å…¶ä¸­ç»™æˆ‘ä»¬åŠ ä¸Šäº†è°ƒç”¨çš„æ˜¯å“ªä¸ªå®žä¾‹çš„æ ‡è¯†äº†ï¼šX-Application-Context â†’com-github-since1986-learn-cloud-service-a:peer1:8010ï¼‰ï¼Œè¢«è°ƒç”¨çš„å®žä¾‹æ˜¯å˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯è¡¨æ˜Žäº†è°ƒç”¨æ—¶æ˜¯æœ‰è´Ÿè½½å‡è¡¡çš„ã€‚ è¿™ä¸ªä¾‹å­æˆ‘ä»¬å·²ç»çœ‹å®Œäº†ï¼Œç„¶åŽæˆ‘ä»¬æ¥æ ¹æ®ä¾‹å­æ€»ç»“ä¸€ä¸‹åœ¨å¦‚ä½•åœ¨Spring Cloudä¸­åšæœåŠ¡è°ƒç”¨å§ï¼Œå®žé™…ä¸Šä¹Ÿéžå¸¸ç®€å•ï¼š è°ƒç”¨ç«¯ä¸Žè¢«è°ƒç”¨ç«¯å®šä¹‰å¥½è°ƒç”¨å¥‘çº¦ï¼Œç®€å•çš„ç†è§£å°±æ˜¯çº¦å®šå¥½RESTæŽ¥å£çš„å®šä¹‰ è¢«è°ƒç”¨ç«¯å°†æœåŠ¡æš´éœ²ä¸ºREST è°ƒç”¨ç«¯å†™ä¸€ä¸ªinterfaceï¼Œå¹¶ç”¨@FeignClientæ³¨è§£å£°æ˜Žä¸ºè°ƒç”¨å®¢æˆ·ç«¯ï¼Œinterfaceä¸­å†™å¥½å…·ä½“çš„è°ƒç”¨æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é€šè¿‡ä½¿ç”¨Spring MVCçš„æ³¨è§£æ¥ä¸Žå®šä¹‰å¥½çš„å¥‘çº¦åšå¯¹åº” æ¦‚å¿µå®žè·µå®Œäº†ï¼Œæˆ‘ä»¬å›žè¿‡å¤´æ¥å†æ¥äº†è§£ä¸€ä¸‹æ¦‚å¿µã€‚çœ‹å‰è¾¹çš„ä¾‹å­ï¼Œä¼šå‘çŽ°ï¼Œåœ¨Spring Cloudä¸­åšæœåŠ¡è°ƒç”¨åªéœ€è¦å†™ä¸€ä¸ªinterfaceï¼ŒåŠ ä¸€ä¸ªæ³¨è§£ï¼Œå°±æžå®šäº†ï¼Œè€Œä¸”è°ƒç”¨æ—¶æ˜¯æ”¯æŒè´Ÿè½½å‡è¡¡çš„ã€‚æ•´ä¸ªè°ƒç”¨çš„ä»£ç é‡ç›¸å½“å°‘ï¼Œå¯¹äºŽç¨‹åºå‘˜æ¥è¯´ååˆ†ä¾¿åˆ©ã€‚å®žé™…ä¸Šè¿™å…¶ä¸­çš„ä¾¿åˆ©æ˜¯Spring Cloudä¸­çš„Feignä¸ŽRibbonå¸¦ç»™æˆ‘ä»¬çš„ï¼Œé‚£ä¹ˆFeignå’ŒRibbonéƒ½æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å…ˆæ¥è¯´Feignã€‚â€Feignâ€ï¼Œå‘éŸ³ä¸º [feÉªn]ï¼Œæ„ä¸ºâ€æé€ â€ã€‚å›žæƒ³å‰é¢å®žéªŒä¸­çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨service-aä¸­å†™äº†ä¸€ä¸ªinterfaceï¼Œç„¶åŽåŠ ä¸Šäº†@FeignClientå’Œ@RequestMappingè¿™ä¸¤ä¸ªæ³¨è§£ï¼Œå°±å¯ä»¥è°ƒç”¨service-bä¸­æš´éœ²çš„/echoè¿™ä¸ªHttp APIäº†ï¼ˆåœ¨Spring Cloudä¸­ï¼Œæœ€ä¸€èˆ¬çš„æœåŠ¡è°ƒç”¨æ˜¯é€šè¿‡REST APIçš„æ–¹å¼æ¥è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯Http APIï¼Œæ‰€ä»¥ï¼Œä¸ä¸¥è°¨çš„è¯´ï¼Œå¯ä»¥æŠŠæœåŠ¡è°ƒç”¨ç†è§£ä¸ºæ˜¯Http APIè°ƒç”¨ï¼‰ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ ¹æœ¬æ²¡å†™ä»»ä½•Httpå®¢æˆ·ç«¯ï¼ˆè¯¸å¦‚URLConnectionæˆ–è€…HttpClientï¼‰è°ƒç”¨çš„å®žçŽ°ï¼Œå®žé™…ä¸Šï¼Œæ˜¯Feignç»™æˆ‘ä»¬ç”¨JDKåŠ¨æ€ä»£ç†â€™æé€ â€™å‡ºäº†è¿™äº›ä»£ç ï¼Œå› æ­¤ï¼ŒæŠŠFeignç†è§£ä¸ºâ€é€šè¿‡interfaceä¸Žæ³¨è§£è‡ªåŠ¨ç”ŸæˆHttpå®¢æˆ·ç«¯è°ƒç”¨å®žçŽ°çš„å·¥å…·â€å°±å¥½äº†ï¼Œç”¨å®˜æ–¹çš„è¯æ¥è¯´å°±æ˜¯ï¼šâ€Feign makes writing java http clients easierâ€ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»è¯·çœ‹å®˜ç½‘ã€‚ å†æ¥çœ‹Ribbonã€‚æˆ‘ä»¬ç›´æŽ¥æ¥çœ‹å®˜ç½‘çš„ä»‹ç»ï¼š Ribbon is a client side IPC library that is battle-tested in cloud. It provides the following features Load balancing Fault tolerance Multiple protocol (HTTP, TCP, UDP) support in an asynchronous and reactive model Caching and batching ç®€å•åœ°è¯´ï¼ŒRibbonå°±æ˜¯ä¸€ä¸ªè¿œç¨‹è°ƒç”¨å·¥å…·ã€‚å®ƒæ”¯æŒè´Ÿè½½å‡è¡¡ã€å®¹é”™ï¼Œæ”¯æŒå¤šç§åè®®ï¼Œæ”¯æŒå¼‚æ­¥ä»¥åŠreactiveç¼–ç¨‹æ¨¡åž‹ï¼ˆRxJavaï¼‰ï¼Œè¿˜æ”¯æŒç¼“å­˜å’Œbatchingã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒSpring CloudæœåŠ¡è°ƒç”¨ä¸­çš„è´Ÿè½½å‡è¡¡æ˜¯Ribbonæä¾›çš„ã€‚ æ€»ç»“åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥å®žè·µäº†Spring Cloudä¸­çš„æœåŠ¡è°ƒç”¨ï¼Œå¹¶ä¸”äº†è§£äº†ä¸€äº›ç›¸å…³çš„æ¦‚å¿µã€‚åœ¨ä¸‹ç¯‡æ–‡ç« Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æœåŠ¡è°ƒç”¨ï¼ˆä¸‹ï¼‰ä¸­æˆ‘ä»¬ä¼šæ·±å…¥åˆ†æžSpring CloudæœåŠ¡è°ƒç”¨èƒŒåŽçš„åŽŸç†ã€‚]]></content>
      <tags>
        <tag>spring-cloud</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°å½•ä¸€æ¬¡java.lang.NoSuchMethodErrorçš„è§£å†³]]></title>
    <url>%2Fb99ec4d4.html</url>
    <content type="text"><![CDATA[æˆ‘çš„ä¸€ä¸ªé¡¹ç›®ï¼Œçº¿ä¸Šå‡ºçŽ°äº†java.lang.NoSuchMethodErrorï¼Œæœ¬åœ°è°ƒäº†ä¸€ä¸‹ä»€ä¹ˆé—®é¢˜ä¹Ÿæ²¡æœ‰ï¼Œæˆ‘å…ˆé‡æ–°éƒ¨ç½²äº†ä¸¤éï¼Œæœªè§£å†³ï¼Œç„¶åŽé—®äº†é—®é¢†å¯¼ï¼Œé¢†å¯¼æç¤ºè¯´æ”¹ä¸ªåè¯•è¯•ï¼Œå…¶å®žæˆ‘ä¹Ÿæƒ³åˆ°å¯èƒ½é‡åäº†ï¼Œç„¶åŽå…ˆæ”¹äº†æ–¹æ³•åï¼Œé‡æ–°éƒ¨ç½²ï¼Œä¾æ—§ï¼Œç„¶åŽåˆæŠŠç±»åä¹Ÿæ”¹äº†ï¼Œè¿™æ¬¡OKäº†ã€‚äº‹åŽæˆ‘æƒ³äº†æƒ³ï¼Œè¯¥æ‰¾å‡ºæ¥åˆ°åº•è°é‡åäº†ï¼ŒäºŽæ˜¯æŠŠæœåŠ¡å™¨ä¸Šçš„libæ•´ä¸ªä¸‹äº†ä¸‹æ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªç©ºå·¥ç¨‹é‡Œï¼Œdouble shiftæœäº†ä¸€ä¸‹é‚£ä¸ªç±»åï¼Œæžœç„¶æ˜¯å’ŒåŒäº‹çš„ä¸€ä¸ªåŒ…é‡Œçš„ç±»é‡åäº†ï¼Œå“ˆå“ˆã€‚æ€»ç»“ä¸€ä¸‹å…¶å®žä»¥åŽåƒè¿™ç§é—®é¢˜æœ€å¿«çš„è§£å†³åŠžæ³•å°±æ˜¯ç›´æŽ¥ä¸‹è½½libç„¶åŽæ‰¾å‡ºé‡å¤å°±å¥½äº†ã€‚]]></content>
      <tags>
        <tag>å¼‚å¸¸</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨sedã€tailã€egrepã€lessåœ¨æ—¥å¿—ä¸­å®šä½å¼‚å¸¸]]></title>
    <url>%2F20aae457.html</url>
    <content type="text"><![CDATA[é™æ€å®šä½ç¬¬ä¸€æ­¥ï¼Œç”¨sedæ¥åˆæ­¥ç­›é€‰ï¼š 12#sedæ˜¯æŒ‰è¡Œçš„ï¼Œå¯ä»¥æ”¯æŒå¤§æ—¥å¿—æ–‡ä»¶ï¼›å•å¼•å·ä¸­æ˜¯æ­£åˆ™ï¼šè¿‡æ»¤2018-04-08 10å¼€å¤´åˆ°2018-04-08 11å¼€å¤´çš„è¡Œï¼Œä¹Ÿå°±æ˜¯è¿‡æ»¤å‡ºå¤§è‡´ä¸€ä¸ªå°æ—¶å·¦å³çš„æ—¥å¿—ï¼Œè¿™æ ·åˆç­›åŽåŽ»æŽ‰äº†å¤§éƒ¨åˆ†å™ªéŸ³ sed -n '/^2018-04-08 10/,/^2018-04-08 11/p' /your/log/file/path ç¬¬äºŒæ­¥ï¼Œç”¨egrepäºŒæ¬¡è¿‡æ»¤ï¼š 12#egrepæ˜¯èƒ½ä½¿ç”¨æ‰©å±•æ­£åˆ™çš„grep | egrep '.*(exception|error|ERROR).*' | egrep 'anthor keyword' ç¬¬ä¸‰æ­¥ï¼Œç”¨lessä¼˜åŒ–æ˜¾ç¤ºï¼ˆlessæ˜¯å¯ä»¥æœç´¢ç»“æžœé«˜äº®çš„ï¼Œåœ¨lessä¸­ç”¨/keywordæ¥æœç´¢ï¼Œç”¨qæ¥é€€å‡ºï¼‰ï¼š 1| less è¿žèµ·æ¥ï¼š 1sed -n '/^2018-04-08 10/,/^2018-04-08 11/p' /your/log/file/path | egrep '.*(exception|error|ERROR).*' | egrep 'anthor keyword' | less åŠ¨æ€å®šä½ç¬¬ä¸€æ­¥ï¼Œç”¨tailæ¥åˆæ­¥ç­›é€‰ï¼š 12#-f å¯ä»¥æ»šåŠ¨æ˜¾ç¤ºè¿½åŠ åˆ°æ–‡ä»¶å†…çš„å†…å®¹ï¼Œä¸‹é¢çš„å‘½ä»¤æ˜¯æ»šåŠ¨æ˜¾ç¤ºç›®æ ‡æ–‡ä»¶å€’æ•°30è¡Œtail -n 30 -f /your/log/file/path ç¬¬äºŒæ­¥ï¼šé™æ€å®šä½çš„ä¸€äºŒæ­¥ä»»æ„ç»„åˆç¬¬ä¸‰æ­¥ï¼šåŒé™æ€å®šä½ç¬¬ä¸‰æ­¥è¿žèµ·æ¥ï¼š 123tail -n 30 -f /your/log/file/path | sed -n '/^2018-04-08 10/,/^2018-04-08 | egrep '.*(exception|error|ERROR).*' | egrep 'anthor keyword' 11/p' | less#æˆ–è€…tail -n 30 -f /your/log/file/path | egrep '.*(exception|error|ERROR).*' | egrep 'anthor keyword' 11/p' | less æ€»ç»“å®šä½æ—¥å¿—å…¶å®žå°±æ˜¯ç”¨sedã€tailã€headã€catã€egrepã€grepã€moreã€lessç­‰ç­‰è¿™äº›å‘½ä»¤ç”¨ç®¡é“ç»„åˆèµ·æ¥å°±å¥½äº†ã€‚]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æ³¨å†Œä¸Žå‘çŽ°]]></title>
    <url>%2F17601ed9.html</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-åŸºæœ¬æ¦‚å¿µã€ä¸­ï¼Œæˆ‘ä»¬ç®€è¦ä»‹ç»äº†å¾®æœåŠ¡å’ŒSpring Cloudçš„æ¦‚å¿µã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¾®æœåŠ¡ä¸­ä¸å¯æˆ–ç¼ºçš„ç»„æˆéƒ¨åˆ†ï¼šæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°ï¼Œå¹¶ä¸”ä½¿ç”¨Spring Cloud Netflixä¸­çš„Eurekaç»„ä»¶æ¥æ­å»ºä¸€ç»„æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡å™¨ã€‚ ä»€ä¹ˆæ˜¯æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°å…³äºŽè¿™ä¸ªé—®é¢˜ï¼Œå’±ä»¬æ¥è®¾æƒ³ä¸€ä¸ªç”Ÿæ´»ä¸­çš„åœºæ™¯ï¼šå°å¼ æ™šä¸Šä¸‹ç­å›žå®¶ï¼Œé¥¿äº†å°±è¦é¥¿äº†ä¹ˆï¼Œç„¶åŽæ‹¿èµ·äº†æ‰‹æœºï¼Œç‚¹å¼€ç¾Žå›¢å¤–å–è½¯ä»¶ï¼Œä»Žä¸­ç¿»äº†ä¸€ç¿»ï¼Œåœ¨é¥­åº—åˆ—è¡¨ä¸­çœ‹åˆ°äº†ä¸€å®¶æ–°åº—ï¼šâ€œè€æŽè‚‰å¤¹é¦â€ï¼Œå¿ƒæƒ³ï¼Œåˆšå¥½è¦åƒè‚‰å¤¹é¦ï¼Œå°±è¿™å®¶å§ï¼Œä¸‹å•ï¼Œç­‰åƒï¼›å¦ä¸€è¾¹ï¼Œå‰ä¸ä¹…ï¼Œè€æ¿è€æŽï¼Œæ–°å¼€äº†ä¸€å®¶åº—ï¼šè€æŽè‚‰å¤¹é¦ï¼Œè€æŽçŸ¥é“å¤–å–èƒ½ç»™è‡ªå·±çš„åº—å¸¦æ¥ç”Ÿæ„ï¼ŒäºŽæ˜¯åœ¨å¤–å–å¹³å°ä¸Šæ³¨å†Œäº†è‡ªå·±çš„åº—ï¼Œè¿™å‡ å¤©æžœç„¶ç”Ÿæ„å…´éš†ï¼Œåˆšåˆšè€æŽçœ‹åˆ°äº†å°æ˜Žä¸‹çš„å•ï¼Œç„¶åŽæŽ¥å•ï¼Œåšé¥­ã€‚è¿™ä¸ªåœºæ™¯ä¸­ï¼Œè€å¼ æ˜¯æœåŠ¡çš„æä¾›æ–¹ï¼Œè€Œå°å¼ æ˜¯æœåŠ¡çš„æ¶ˆè´¹æ–¹ï¼Œè€Œè€æŽå‘å¤–å–å¹³å°æ³¨å†ŒåŽï¼Œå°å¼ å°±èƒ½å¤Ÿå‘çŽ°å¹¶æ¶ˆè´¹è€æŽæä¾›çš„æœåŠ¡äº†ï¼Œè¿™ä¸ªå¤–å–å¹³å°å…¶å®žå°±æ˜¯æä¾›äº†â€œæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°â€ã€‚ ä¸ºä»€ä¹ˆè¦æœ‰â€œæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°â€é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆå¾®æœåŠ¡éœ€è¦æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°å‘¢ï¼Ÿå› ä¸ºæ²¡æœ‰æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°ä¼šå¾ˆéº»çƒ¦çš„ï¼Œè¿˜æ˜¯ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜Žå§ï¼šå¹³å¸¸æˆ‘ä»¬ç»å¸¸ä¼šè®¿é—®å„ç§å„æ ·çš„ç½‘ç«™ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æžœè®¿é—®æ¯ä¸€ä¸ªç½‘ç«™éƒ½éœ€è¦è®°ä½å¾ˆé•¿çš„ä¸€ä¸²IPåœ°å€çš„è¯ï¼Œé‚£è®¿é—®èµ·æ¥ä¼šæœ‰å¤šä¸æ–¹ä¾¿ï¼Œå†µä¸”ï¼Œç½‘ç«™çš„IPä¹Ÿä¸å¯èƒ½è‡ªå§‹è‡³ç»ˆå°±é‚£èŽ«ä¸€ä¸ªï¼Œä¸€æ—¦å˜åŒ–äº†ï¼Œéš¾é“ä½œä¸ºç½‘ç«™çš„ç»è¥è€…è¦é€šçŸ¥æ‰€æœ‰å¿ å®žçš„ç”¨æˆ·æ–°çš„IPåœ°å€æ˜¯å¤šå°‘å—ï¼Œå¥½åœ¨ï¼Œæˆ‘ä»¬æœ‰DNSè¿™ç§æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡ï¼Œå‰è¾¹è¯´çš„é‚£äº›æƒ…å†µï¼ŒDNSè¿™ç§æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡å°±é»˜é»˜çš„å¸®æˆ‘ä»¬å¤„ç†äº†ã€‚å¯¹äºŽå¾®æœåŠ¡ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå‡å¦‚Aä¼šæ¶ˆè´¹Bçš„æœåŠ¡ï¼Œä½ å¯ä»¥Aä¸­ç¡¬ç¼–ç BæœåŠ¡çš„è°ƒç”¨åœ°å€çš„æ–¹å¼æ¥è®°ä½è°ƒç”¨çš„è·¯å¾„ï¼Œä½†æ˜¯ä¸€æ—¦Bçš„éƒ¨ç½²çŽ¯å¢ƒå‘ç”Ÿæ”¹å˜ï¼ŒAå²‚ä¸æ˜¯ä¹Ÿè¦è·Ÿç€æ”¹ï¼Œè¿™æ ·å˜æ¥å˜åŽ»ä¼šçƒ¦æ­»çš„ï¼Œæ›´ä½•å†µBæœ‰å¯èƒ½ä¼šæœ‰å¤šä¸ªå®žä¾‹ï¼ŒAæƒ³è¦æ¶ˆè´¹Bå°±éœ€è¦ä»ŽBçš„ä¼—å¤šå®žä¾‹ä¸­é€‰å‡ºä¸€ä¸ªæ¥æ¶ˆè´¹ï¼Œå°±æ›´ä¸å¯èƒ½ç”¨ç¡¬ç¼–ç è®°ä½åœ°å€è¿™ç§æ–¹å¼è°ƒç”¨äº†ï¼Œæ‰€ä»¥éœ€è¦æœ‰ç±»ä¼¼äºŽDNSèƒ½æ³¨å†Œä¸Žå‘çŽ°IPåœ°å€è¿™æ ·çš„æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡æ¥å¸®åŠ©æˆ‘ä»¬åŽ»å¤„ç†è¿™äº›ç¹ççš„ç»†èŠ‚ã€‚ Eurekaé‚£ä¹ˆï¼Œåœ¨Spring Cloudä½“ç³»ä¸­ï¼Œæ˜¯å¦‚ä½•å®žçŽ°æ³¨å†Œä¸Žå‘çŽ°çš„å‘¢ï¼ŸSpring Cloudå¤ç”¨äº†çŽ°æœ‰çš„è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒæŽ¥å…¥ä¸‰ç§æˆç†Ÿçš„æ³¨å†Œä¸Žå‘çŽ°çš„è§£å†³æ–¹æ¡ˆï¼šZookeeperã€Consulå’ŒEurekaï¼Œè¿™ä¸‰ç§è§£å†³æ–¹æ¡ˆå¯ä»¥æŒ‰ç…§éœ€è¦è‡ªå·±é€‰æ‹©ï¼ˆSpring CloudæŽ¨èEurekaï¼‰ï¼Œå¹¶ä¸”Spring Cloudæä¾›äº†ç»Ÿä¸€çš„æŽ¥å£æ¥å±è”½ä»–ä»¬çš„åŒºåˆ«ã€‚ ç”±äºŽæˆ‘ä»¬é€‰æ‹©äº†ä½¿ç”¨Spring Cloud Netflixä½“ç³»æ¥å®žçŽ°å¾®æœåŠ¡ï¼Œè€ŒEurekaæ˜¯åŒ…å«åœ¨Spring Cloud Netflixä½“ç³»ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨Eurekaæ¥åšæ³¨å†Œä¸Žå‘çŽ°ã€‚ Eurekaçš„æ¦‚å¿µä»€ä¹ˆæ˜¯Eurekaå‘¢ï¼Ÿæ¥çœ‹å®˜æ–¹çš„ä»‹ç»ï¼š What is Eureka? Eureka is a REST (Representational State Transfer) based service that is primarily used in the AWS cloud for locating services for the purpose of load balancing and failover of middle-tier servers. We call this service, the Eureka Server. Eureka also comes with a Java-based client component,the Eureka Client, which makes interactions with the service much easier. The client also has a built-in load balancer that does basic round-robin load balancing. At Netflix, a much more sophisticated load balancer wraps Eureka to provide weighted load balancing based on several factors like traffic, resource usage, error conditions etc to provide superior resiliency. å¤§è‡´çš„æ„æ€æ˜¯Eurekaæ˜¯åŸºäºŽRESTçš„ï¼Œä¸»è¦ç›®çš„ç”¨äºŽAWSäº‘æœåŠ¡ï¼ˆAmazon Web Servicesï¼‰ä¸ŠæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°ã€è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»çš„ä¸­é—´å±‚æœåŠ¡å™¨ã€‚EurekaåŒ…å«äº†æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­å®¢æˆ·ç«¯å†…ç½®äº†è´Ÿè½½å‡è¡¡ã€‚ å¦‚ä½•ä½¿ç”¨Eurekaå¦‚ä½•ä½¿ç”¨Eurekaå‘¢ï¼Ÿå¦‚æžœæ²¡æœ‰Spring Cloudï¼Œæˆ‘ä»¬éœ€è¦é…ç½®å¥½ä¸€ç»„EurekaæœåŠ¡å™¨ï¼Œç„¶åŽåœ¨æˆ‘ä»¬çš„æœåŠ¡ä¸­åŠ å…¥Eurekaå®¢æˆ·ç«¯,ç„¶åŽè°ƒç”¨å®¢æˆ·ç«¯APIå°±è¡Œäº†ï¼ˆå¯ä»¥çœ‹å®˜æ–¹ç»™çš„ä¾‹å­ï¼‰ã€‚å½“ç„¶ï¼Œæœ‰äº†Spring CloudåŽï¼Œæˆ‘ä»¬ä¸ç”¨è¿™ä¹ˆåšäº†ï¼ŒSpring Cloudç»™Eurekaåšäº†ä¸€å±‚åŒ…è£…ï¼ŒæœåŠ¡å™¨ç«¯å¯ä»¥ä»¥Spring Bootç¨‹åºçš„å½¢å¼æ¥è·‘ï¼Œè€Œå®¢æˆ·ç«¯åˆ™ä¸éœ€æ˜¾å¼è°ƒç”¨APIäº†ï¼Œç”±Spring Cloudæä¾›äº†ç»Ÿä¸€çš„å£°æ˜Žå¼æŽ¥å…¥çš„æ–¹æ³•æŽ¥å…¥å°±å¯ä»¥äº†ã€‚ ç”¨Eurekaæ¥åšæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°çš„demoè¯´å½’è¯´ï¼Œç»ƒå½’è¿žï¼Œæƒ³è¦ç”¨çš„èµ·æ¥ï¼Œè¿˜å¾—å®žé™…åŠ¨æ‰‹ï¼Œæˆ‘ä»¬å¼€å§‹å§ã€‚æˆ‘ä¼šåšä¸¤ä¸ªdemoï¼Œä¸€ä¸ªæ˜¯æœ€åŸºæœ¬çš„å•å®žä¾‹eureka server + å•å®žä¾‹serviceçš„ä¾‹å­ï¼Œå¦ä¸€ä¸ªæ˜¯å¤šå®žä¾‹eureka server + å¤šå®žä¾‹serviceçš„ä¾‹å­ã€‚ å•å®žä¾‹eureka server + å•å®žä¾‹serviceæˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ªå¤šæ¨¡å—çš„Gradleå·¥ç¨‹ï¼ŒåŒ…å«3ä¸ªæ¨¡å—ï¼šeureka-severã€service-aã€service-bï¼Œåˆ†åˆ«å¯¹åº”äº†EurekaæœåŠ¡å™¨å’Œä¸¤ä¸ªæœåŠ¡ã€‚ï¼ˆå…¨éƒ¨ä»£ç åœ¨æˆ‘çš„Githubä¸Šï¼‰ å…ˆæ¥å†™EurekaæœåŠ¡å™¨ï¼ŒSpring Cloudå¯¹Eurekaè¿›è¡Œäº†åŒ…è£…ï¼Œå¯ä»¥å°†eureka serveråšæˆä¸€ä¸ªSpring Bootåº”ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234//eureka-serveræ¨¡å—æž„å»ºé…ç½®dependencies &#123; compile group: &apos;org.springframework.cloud&apos;, name: &apos;spring-cloud-starter-eureka-server&apos;, version: &apos;1.4.0.RELEASE&apos;&#125; 12345678910111213//eureka-serveræ¨¡å—ä¸»å¯åŠ¨package com.github.since1986.learn.cloud.eureka.server;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.boot.builder.SpringApplicationBuilder;@SpringBootApplicationpublic class App &#123; public static void main(String[] args) &#123; new SpringApplicationBuilder(App.class).web(true).run(args); &#125;&#125; 12345678910//eureka-serveræ¨¡å—ä¸»é…ç½®package com.github.since1986.learn.cloud.eureka.server;import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;import org.springframework.context.annotation.Configuration;@EnableEurekaServer@Configurationpublic class AppConfig &#123;&#125; 12345678910111213141516# Spring Cloudé…ç½®spring: application: name: com-github-since1986-learn-cloud-eureka-server #æ³¨æ„å‘½åè¦ç¬¦åˆRFC 2396ï¼Œå¦åˆ™ä¼šå½±å“æœåŠ¡å‘çŽ° è¯¦è§https://stackoverflow.com/questions/37062828/spring-cloud-brixton-rc2-eureka-feign-or-rest-template-configuration-not-worserver: port: 8001eureka: #è¿™é‡Œé…ç½®eurekaç›¸å…³ instance: hostname: localhost #æœåŠ¡å™¨å®žä¾‹ä¸»æœºå client: #å®¢æˆ·ç«¯é…ç½® registerWithEureka: false #ç”±äºŽåªæœ‰ä¸€ä¸ªæœåŠ¡å™¨å®žä¾‹ï¼Œæˆ‘ä»¬æ²¡å¿…è¦è‡ªå·±æ³¨å†Œè‡ªå·±äº† fetchRegistry: false serviceUrl: defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»é…ç½®å¥½äº†ä¸€ä¸ªEurekaæœåŠ¡å™¨çš„å®žä¾‹ï¼Œå¤§å®¶æ³¨æ„ä¸»é…ç½®ä¸­çš„@EnableEurekaServerï¼Œåœ¨Javaä¸­æˆ‘ä»¬åªéœ€è¦åŠ è¿™ä¸€ä¸ªæ³¨è§£å°±å¥½äº†ï¼Œä¸€è¡Œä»£ç ä¹Ÿä¸ç”¨å†™ï¼Œå…¶ä»–çš„éƒ½æ˜¯starterå’Œapplication.ymlé…ç½®ä¸­çš„äº‹äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ å†æ¥çœ‹serviceï¼ˆæˆ‘ä»¬ä»¥service-aä¸ºä¾‹ï¼Œservice-bä¸Žservice-aç±»ä¼¼ï¼Œå°±ä¸å¤è¿°äº†ï¼‰ 1234//service-a æž„å»ºé…ç½®dependencies &#123; compile group: &apos;org.springframework.cloud&apos;, name: &apos;spring-cloud-starter-netflix-eureka-client&apos;, version: &apos;1.4.0.RELEASE&apos;&#125; 1234567891011121314151617181920212223242526272829303132//service-aä¸»å¯åŠ¨package com.github.since1986.learn.cloud.service.a;import com.netflix.appinfo.InstanceInfo;import com.netflix.discovery.EurekaClient;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.scheduling.annotation.EnableScheduling;import org.springframework.scheduling.annotation.Scheduled;@EnableScheduling@SpringBootApplicationpublic class App &#123; private final EurekaClient eurekaClient; @Autowired public App(EurekaClient eurekaClient) &#123; this.eurekaClient = eurekaClient; &#125; public static void main(String[] args) &#123; SpringApplication.run(App.class, args); &#125; @Scheduled(initialDelay = 1000 * 60 * 3, fixedRate = 1000 * 30) public void printInstanceInfo() &#123; InstanceInfo instanceInfo = eurekaClient.getNextServerFromEureka("com-github-since1986-learn-cloud-service-b", false); System.out.println(String.format("å‘çŽ°äº† æœåŠ¡åä¸º %s IPä¸º %s çš„æœåŠ¡.", instanceInfo.getAppName(), instanceInfo.getIPAddr())); &#125;&#125; 123456789101112#Spring Cloudé…ç½®spring: application: name: com-github-since1986-learn-cloud-service-aserver: port: 8002eureka: client: serviceUrl: defaultZone: http://localhost:8001/eureka/ åŒæ ·ï¼Œæˆ‘ä»¬è¿˜æ¥çœ‹ä¸»å¯åŠ¨ï¼Œç”±äºŽæˆ‘ä»¬æƒ³æµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½å‘çŽ°åˆ«çš„æœåŠ¡ï¼Œæ‰€ä»¥åœ¨ä½å¯åŠ¨æ–‡ä»¶é‡Œï¼Œæˆ‘ä»¬å†™äº†ä¸€äº›è°ƒç”¨EurekaClientæ¥åšå‘çŽ°çš„ä»£ç ï¼Œé™¤åŽ»è¿™äº›ä»£ç ï¼Œå®žé™…ä¸Šä½œä¸ºä¸€ä¸ªæ™®é€šserviceï¼Œæˆ‘ä»¬åœ¨Javaä¸­ä¸ç”¨å†™ä»»ä½•ç‰¹æ®Šçš„ä»£ç ï¼Œåªè¦é…ç½®å¥½starterå’Œapplication.ymlå°±è‡ªåŠ¨ä¼šæ³¨å†Œä¸Žå‘çŽ°äº†ï¼Œå¤ªçœå¿ƒäº†ðŸ˜† å†™å¥½äº†EurekaæœåŠ¡å™¨å’Œä¸¤ä¸ªserviceï¼Œæˆ‘ä»¬æ¥å¯åŠ¨ï¼Œçœ‹ä¸€ä¸‹æ•ˆæžœå§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæˆ‘ä»¬æŠŠä¸‰ä¸ªæ¨¡å—åˆ†åˆ«å»ºç«‹å¯åŠ¨é…ç½®ï¼š ç„¶åŽå¯åŠ¨ï¼Œè®¿é—®æˆ‘ä»¬åœ¨application.ymlä¸­è®¾ç½®å¥½çš„EurekaæœåŠ¡å™¨çš„åœ°å€ï¼Œç„¶åŽå¯ä»¥çœ‹åˆ°Spring Cloudä¸ºEurekaæœåŠ¡å™¨åšçš„å†…ç½®çš„UIï¼Œä¸Šè¾¹å¯ä»¥çœ‹åˆ°åœ¨æœåŠ¡å™¨ä¸Šæ³¨å†Œäº†å“ªäº›serviceå®žä¾‹ã€‚ ç„¶åŽï¼Œå›žè¿‡å¤´æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹service-aä¸­æˆ‘ä»¬å†™çš„æµ‹è¯•æœåŠ¡å‘çŽ°çš„ä»£ç ï¼š 12345@Scheduled(initialDelay = 1000 * 60 * 3, fixedRate = 1000 * 30)public void printInstanceInfo() &#123; InstanceInfo instanceInfo = eurekaClient.getNextServerFromEurek("com-github-since1986-learn-cloud-service-b", false); System.out.println(String.format("å‘çŽ°äº† æœåŠ¡åä¸º %s IPä¸º %s çš„æœåŠ¡.", instanceInfo.getAppName(), instanceInfo.getIPAddr()));&#125; åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬æ¯30ç§’å°è¯•å‘çŽ°åä¸ºcom-github-since1986-learn-cloud-service-bçš„æœåŠ¡çš„åå­—å’ŒIPï¼Œå…¶ä¸­com-github-since1986-learn-cloud-service-bæ˜¯æœåŠ¡service-båœ¨Eurekaä¸­æ³¨å†Œçš„åå­—ï¼Œå¦‚æžœæ­£ç¡®çš„è¯ï¼Œä¼šåœ¨æ ‡å‡†è¾“å‡ºä¸­è¾“å‡ºå‘çŽ°çš„service-bçš„åå­—ä¸ŽIP è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸€ä¸ªåˆæ­¥çš„æ³¨å†Œä¸Žå‘çŽ°äº†ï¼Œåœ¨Spring Boot/Cloudä½“ç³»ä¸­çš„æ³¨å†Œä¸Žå‘çŽ°æ˜¯ä¸æ˜¯éžå¸¸ç®€å•å•ŠðŸ˜œ å¤šå®žä¾‹eureka server + å¤šå®žä¾‹serviceå®Œæˆäº†å•å®žä¾‹çš„æ³¨å†Œä¸Žå‘çŽ°ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å¤šå®žä¾‹çš„ï¼ˆå…¨éƒ¨ä»£ç åœ¨æˆ‘çš„Githubä¸Šï¼‰ å¤šä¸ªå®žä¾‹ä¸Žå•å®žä¾‹åªåœ¨application.ymlä¸­æœ‰æ‰€ä¸åŒï¼Œå…¶ä»–çš„ä»£ç åŒºåˆ«ä¸å¤§ï¼Œå°±ä¸è´´äº†ï¼Œçœ‹ä¸€ä¸‹application.ymlå§ã€‚ eureka-serverçš„application.ymlï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647spring: profiles: eureka1 application: name: com-github-since1986-learn-cloud-eureka-server #æ³¨æ„å‘½åè¦ç¬¦åˆRFC 2396ï¼Œå¦åˆ™ä¼šå½±å“æœåŠ¡å‘çŽ° è¯¦è§https://stackoverflow.com/questions/37062828/spring-cloud-brixton-rc2-eureka-feign-or-rest-template-configuration-not-worserver: port: 8001eureka: instance: hostname: eureka1 client: serviceUrl: defaultZone: http://eureka2:8002/eureka/,http://eureka3:8003/eureka/ register-with-eureka: true #éœ€è¦é…ç½®è¿™ä¸€é¡¹æ‰ç”Ÿæ•ˆï¼ˆè™½ç„¶é»˜è®¤è¿™ä¸ªé…ç½®æ˜¯trueï¼Œä½†æ˜¯å¯èƒ½é»˜è®¤é…ç½®è¢«è¦†ç›–æŽ‰äº†æ‰€ä»¥æœªç”Ÿæ•ˆï¼‰---spring: profiles: eureka2 application: name: com-github-since1986-learn-cloud-eureka-server #æ³¨æ„å‘½åè¦ç¬¦åˆRFC 2396ï¼Œå¦åˆ™ä¼šå½±å“æœåŠ¡å‘çŽ° è¯¦è§https://stackoverflow.com/questions/37062828/spring-cloud-brixton-rc2-eureka-feign-or-rest-template-configuration-not-worserver: port: 8002eureka: instance: hostname: eureka2 client: serviceUrl: defaultZone: http://eureka1:8001/eureka/,http://eureka3:8003/eureka/ register-with-eureka: true #éœ€è¦é…ç½®è¿™ä¸€é¡¹æ‰ç”Ÿæ•ˆï¼ˆè™½ç„¶é»˜è®¤è¿™ä¸ªé…ç½®æ˜¯trueï¼Œä½†æ˜¯å¯èƒ½é»˜è®¤é…ç½®è¢«è¦†ç›–æŽ‰äº†æ‰€ä»¥æœªç”Ÿæ•ˆï¼‰---spring: profiles: eureka3 application: name: com-github-since1986-learn-cloud-eureka-server #æ³¨æ„å‘½åè¦ç¬¦åˆRFC 2396ï¼Œå¦åˆ™ä¼šå½±å“æœåŠ¡å‘çŽ° è¯¦è§https://stackoverflow.com/questions/37062828/spring-cloud-brixton-rc2-eureka-feign-or-rest-template-configuration-not-worserver: port: 8003eureka: instance: hostname: eureka3 client: serviceUrl: defaultZone: http://eureka1:8001/eureka/,http://eureka2:8002/eureka/ register-with-eureka: true #éœ€è¦é…ç½®è¿™ä¸€é¡¹æ‰ç”Ÿæ•ˆï¼ˆè™½ç„¶é»˜è®¤è¿™ä¸ªé…ç½®æ˜¯trueï¼Œä½†æ˜¯å¯èƒ½é»˜è®¤é…ç½®è¢«è¦†ç›–æŽ‰äº†æ‰€ä»¥æœªç”Ÿæ•ˆï¼‰ è¿™æ®µé…ç½®æ¯”è¾ƒé•¿ï¼Œä»”ç»†çœ‹ä¸€ä¸‹ï¼Œè¿™å…¶å®žåŒ…å«äº†ä¸‰æ®µç±»ä¼¼é‡å¤çš„é…ç½®ï¼Œä¸­é—´ä»¥---åˆ†å‰²ï¼Œå¹¶ä¸”æ¯ä¸€æ®µä¸­éƒ½æœ‰profiles: eureka&lt;n&gt;è¿™ä¸ªé…ç½®é¡¹ï¼Œè¿™å…¶å®žæ˜¯é…ç½®äº†ä¸€ä¸ªSpring Cloudçš„profileï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œæœ‰3ä¸ªprofileï¼Œå®žé™…ä¸Šä¹Ÿå°±æ˜¯é…ç½®äº†3ä¸ªå®žä¾‹èŠ‚ç‚¹ï¼Œåœ¨ideaçš„è¿è¡Œé…ç½®ä¸­æˆ‘ä»¬é€‰æ‹©æ¿€æ´»æŸä¸€ä¸ªprofileï¼Œå°±ä¼šå¯åŠ¨å¯¹ç”¨çš„èŠ‚ç‚¹ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬åªè¦é…ç½®å¤šä¸ªå¯åŠ¨é¡¹å°±å¯ä»¥åœ¨ä¸€å¥—å·¥ç¨‹é‡Œå¯åŠ¨3ä¸ªå®žåŠ›èŠ‚ç‚¹äº†ã€‚ ç„¶åŽå†æ¥æ³¨æ„æ¯ä¸€ä¸ªprofileä¸­defaultZoneè¿™ä¸€é…ç½®é¡¹ï¼Œåœ¨å¤šå®žä¾‹çš„æƒ…å¢ƒä¸‹ï¼Œæˆ‘ä»¬è®©æ¯ä¸€ä¸ªEurekaæœåŠ¡å™¨éƒ½åœ¨é›†ç¾¤ä¸­çš„å…¶ä»–æœåŠ¡å™¨ä¸Šæ³¨å†Œï¼Œé›†ç¾¤ä¸­çš„æ‰€æœ‰æœåŠ¡å™¨ä¼šç›¸äº’åŒæ­¥çŠ¶æ€ï¼Œè¿™æ ·å³ä¾¿ä¸€å°æœåŠ¡å™¨æŽ‰äº†ï¼Œè¿˜æœ‰å…¶ä»–çš„æœåŠ¡å™¨é¡¶ç€ï¼Œè¿™æ ·å°±ä¿è¯äº†æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡çš„å¯ç”¨æ€§ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬è¦é…ç½®å¤šå®žä¾‹çš„åŽŸå› ã€‚ å¦å¤–è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œç”±äºŽå’±ä»¬æ˜¯åœ¨æœ¬åœ°æœºå™¨ä¸Šåšæµ‹è¯•ï¼Œæ‰€ä»¥æ‰€æœ‰EurekaæœåŠ¡å™¨çš„æœºå™¨åæ˜¯ç›¸åŒçš„ï¼Œç„¶è€Œè¦æƒ³è®©å¤šä¸ªå®žä¾‹è·‘èµ·æ¥ä¸»æœºåæ˜¯ä¸èƒ½ç›¸åŒçš„ï¼Œå‚è§hostnameé…ç½®é¡¹ï¼Œè¿™å°±å¾ˆçŸ›ç›¾äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿæœ‰åŠžæ³•è§£å†³ï¼Œä¿®æ”¹æœ¬æœºçš„hostsæ–‡ä»¶å°±å¥½äº†ï¼Œè®©æœ¬æœºæ–°åŠ å‡ºä¸‰ä¸ªä¸åŒçš„host nameå‡ºæ¥ï¼š 1234#hostsé…ç½®127.0.0.1 eureka1127.0.0.1 eureka2127.0.0.1 eureka3 åšå¥½äº†è¿™äº›ï¼Œ3ä¸ªEurekaæœåŠ¡å™¨å®žä¾‹å°±å¯ä»¥è·‘èµ·æ¥äº†ï¼Œservice-aå’Œservice-bä¹Ÿæ˜¯å¦‚æ³•ç‚®åˆ¶å°±å¥½äº†ã€‚æœ€åŽï¼Œæˆ‘ä»¬ä¼šä¸€å…±è·‘èµ·æ¥3*3=9ä¸ªå®žä¾‹ï¼ˆæˆ‘çš„æœºå­å†…å­˜å°ï¼Œä¸€ä¸‹è·‘èµ·æ¥9ä¸ªå®žä¾‹æ„Ÿè§‰æœºå­ä¼šå¡ ðŸ˜…ï¼‰ å¯åŠ¨èµ·æ¥æˆ‘ä»¬ç…§æ ·ï¼Œçœ‹ä¸€ä¸‹Eurekaçš„UIï¼š å¯ä»¥çœ‹åˆ°ï¼Œè¿žä¸ŠæœåŠ¡å™¨è‡ªèº«ï¼Œæ‰€æœ‰serviceéƒ½è¢«æ³¨å†Œäº†ä¸ŠåŽ»ï¼ŒåŒæ—¶ï¼Œ3ä¸ªEurekaå®žä¾‹ä¹Ÿæ˜¯ç›¸äº’å¤‡ä»½çš„ï¼šï¼ˆå¯ä»¥åœæŽ‰æŸä¸ªæœåŠ¡ï¼Œç„¶åŽåˆ·æ–°è¿™ä¸ªUIçœ‹çœ‹å˜åŒ–ï¼‰ æˆ‘ä»¬è¿˜å¯ä»¥æ“ä½œEurekaæœåŠ¡å™¨æä¾›çš„REST APIæ¥æ‰‹å·¥æŽ§åˆ¶æ³¨å†Œä¸Žå‘çŽ°.ï¼ˆAPIåˆ—è¡¨è§å®˜æ–¹æ–‡æ¡£ï¼‰ è°ƒç”¨/eureka/appså¯ä»¥çœ‹åˆ°æ‰€æœ‰æ³¨å†Œçš„æœåŠ¡çš„ä¿¡æ¯ åŒæ—¶ï¼Œæˆ‘ä»¬å†æ¥æ³¨æ„æµ‹è¯•æœåŠ¡å‘çŽ°çš„ä»£ç ï¼Œè¿™é‡Œç•¥æœ‰ä¸åŒäº†ï¼š 12345678@Scheduled(initialDelay = 1000 * 10, fixedRate = 1000 * 30)public void printInstanceInfo() &#123; List&lt;InstanceInfo&gt; instanceInfos = eurekaClient.getInstancesByVipAddress("com-github-since1986-learn-cloud-service-b", false); instanceInfos.forEach(instanceInfo -&gt; &#123; System.out.printf("å‘çŽ°äº† %s: %s \n", instanceInfo.getAppName(), instanceInfo.getIPAddr()); &#125;); System.out.println();&#125; è¿™å›žç”±äºŽæ˜¯å¤šå®žä¾‹äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”±ä¸€ä¸ªæœåŠ¡æ³¨å†Œåèƒ½å‘çŽ°å¤šä¸ªå®žä¾‹ï¼Œä½œä¸ºå®žéªŒï¼Œä½ å¯ä»¥åœæŽ‰å…¶ä¸­æŸä¸ªå®žä¾‹ï¼Œæ¥çœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ã€‚ æ·±å…¥äº†è§£EurekaEurekaä¸ºæˆ‘ä»¬çš„å¾®æœåŠ¡æä¾›äº†æ³¨å†Œä¸Žå‘çŽ°æœåŠ¡ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªè¦ç”¨å°±å¥½äº†ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°äº†é—®é¢˜ï¼Œå¦‚æžœä¸çŸ¥é“å…¶è¿ä½œçš„æœºç†ï¼Œæˆ‘ä»¬è‚¯å®šä¼šä¸¤çœ¼ä¸€æŠ¹é»‘ï¼Œä¸çŸ¥é“è§£å†³é—®é¢˜çš„æ–¹å‘ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬æ¥é€šè¿‡é˜…è¯»å®˜æ–¹æ–‡æ¡£å¤§è‡´äº†è§£ä¸€ä¸‹Eurekaè¿ä½œçš„æœºç†å§ã€‚ Eurekaé«˜å±‚æž¶æž„æˆ‘ä»¬æ¥çœ‹å®˜æ–¹ç»™å‡ºçš„High level architectureï¼Œä¹Ÿå°±æ˜¯é«˜å±‚æž¶æž„ï¼ˆæ‰€è°“é«˜å±‚æž¶æž„æˆ‘ç†è§£çš„å°±æ˜¯ç›¸å¯¹äºŽæºç çº§å®žçŽ°çš„æž¶æž„ï¼Œåœ¨é€»è¾‘å±‚é¢çš„æž¶æž„ï¼‰çš„è¯´æ˜Žï¼š High level architecture The architecture above depicts how Eureka is deployed at Netflix and this is how you would typically run it. There is one eureka cluster per region which knows only about instances in its region. There is at the least one eureka server per zone to handle zone failures. Services register with Eureka and then send heartbeats to renew their leases every 30 seconds. If the client cannot renew the lease for a few times, it is taken out of the server registry in about 90 seconds. The registration information and the renewals are replicated to all the eureka nodes in the cluster. The clients from any zone can look up the registry information (happens every 30 seconds) to locate their services (which could be in any zone) and make remote calls. å…ˆæ¥çœ‹ç¬¬ä¸€æ®µï¼Œå¤§è‡´æ„æ€æ˜¯ï¼šåœ¨æ¯ä¸€ä¸ªregionï¼ˆAWSâ€åŒºåŸŸâ€ï¼‰ä¸­åªè·‘ä¸€ä¸ªEurekaçš„clusterï¼ˆé›†ç¾¤ï¼‰ï¼Œæ¯ä¸ªregionä¸­çš„Eureka clusteråªè´Ÿè´£è‡ªå·±regionä¸­çš„instanceï¼ˆå®žä¾‹ï¼‰ï¼ˆï¼Ÿè¿™ä¸€ç‚¹å®˜æ–¹æ²¡è¯´çš„å¤ªæ˜Žç™½æ˜¯ä»€ä¹ˆå®žä¾‹ï¼Œæˆ‘ç†è§£çš„æ˜¯â€æœåŠ¡å®žä¾‹â€ï¼‰ï¼Œåœ¨regionä¸­ä¸‹åˆ†çš„æ¯ä¸€ä¸ªzoneï¼ˆAWSâ€å¯ç”¨åŒºåŸŸâ€ï¼‰é‡Œè‡³å°‘åŒ…å«ä¸€ä¸ªeureka serverï¼Œæ¥ä¿è¯å¯ç”¨æ€§ï¼ˆå› ä¸ºzoneæ˜¯AWSä¸­ä¿è¯å¯ç”¨æ€§çš„å•å…ƒï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨åŒä¸€ä¸ªregionä¸‹å„ä¸ªzoneå¯ç”¨æ€§æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œä¸€ä¸ªzoneæŽ‰çº¿äº†ä¸ä¼šå½±å“å¦ä¸€ä¸ªzoneï¼Œè¿™æ ·å°±ä¿è¯äº†å¯ç”¨æ€§ï¼‰ã€‚ åœ¨è¿™æ®µå®˜æ–¹æ–‡æ¡£é‡Œé¢å‡ºçŽ°çš„regionå’Œzoneçš„æ¦‚å¿µéƒ½æ˜¯AWSä¸­çš„æ¦‚å¿µã€‚å› ä¸ºEurekaè®¾è®¡ä¹‹åˆå°±æ˜¯ä¸ºäº†è·‘åœ¨AWSä¸Šçš„ï¼Œæ‰€ä»¥ä¼šæœ‰è¿™äº›AWSçš„æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨å¼€å‘è‡ªå·±çš„æœåŠ¡æ—¶ï¼Œæƒ³å¿…ä¸ä¼šè·‘åœ¨AWSä¸Šçš„ï¼Œä¹Ÿä¸å¿…è¿‡äºŽçº ç»“ä¸Žå…·ä½“æ¦‚å¿µï¼Œè¿™ä¸€ç‚¹ï¼ŒSpring Cloudé€šè¿‡æä¾›é»˜è®¤å€¼çš„æ–¹å¼æ›¿æˆ‘ä»¬å¤„ç†å¥½äº†ï¼Œåœ¨Spring Cloudçš„Eurekaå®¢æˆ·ç«¯é›†æˆå¤„ç†ä¸­ï¼Œä¸ºregioné»˜è®¤è®¾ç½®æä¾›äº†â€us-east-1â€è¿™ä¸ªå€¼ï¼Œä¸ºzoneé»˜è®¤æä¾›äº†äº†â€defaultZoneâ€è¿™ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯è¯´é™¤éžä½ ååˆ†éœ€è¦ï¼Œå¦åˆ™ä¸å†ç”¨æ‰‹åŠ¨è®¾ç½®regionå’Œzoneäº†ï¼Œç”¨é»˜è®¤å€¼å°±å¥½äº†ï¼Œè¿™ä¹Ÿä½“çŽ°äº†â€çº¦å®šå…ˆäºŽé…ç½®â€çš„ç†å¿µï¼ˆå‚çœ‹æºç org.springframework.cloud.netflix.eureka.EurekaClientConfigBeanï¼‰ã€‚å¦‚æžœå®žåœ¨éœ€è¦ä¿è¯æžé«˜çš„å¯ç”¨æ€§çš„è¯ï¼Œå¤§å¯ä»¥å‚ç…§AWSçš„regionå’Œzoneçš„æ¦‚å¿µæ¥è®¾è®¡æž¶æž„å¹¶ä¸”è‡ªè¡Œé…ç½®eurekaçš„regionå’Œzoneã€‚ï¼ˆåœ¨å®˜æ–¹ç»™å‡ºçš„æž¶æž„å›¾å®žä¾‹è¯´æ˜Žä¸­ï¼Œåªç”¨åˆ°äº†ä¸€ä¸ªregionï¼šus-east-1ï¼Œåˆ†ä¸ºäº†3ä¸ªzoneï¼šus-east-1cã€us-east-1dã€us-east-1eï¼Œæ¯ä¸€ä¸ªzoneä¸Šéƒ½æ˜¯ä¸€ä¸ªeureka serverå®žä¾‹ï¼‰ å†æ¥çœ‹ç¬¬äºŒæ®µï¼Œå¤§è‡´çš„æ„æ€æ˜¯ï¼šæœåŠ¡æ³¨å†Œåˆ°eureka serverä¸Šä»¥åŽï¼Œæ¯30ç§’å‘é€ä¸€æ¬¡å¿ƒè·³ä»¥åˆ·æ–°ç§Ÿçº¦ï¼Œå¦‚æžœå‘çŽ°åœ¨90å†…æ²¡æœ‰å¿ƒè·³å‘é€äº†ï¼ŒæœåŠ¡å™¨ä¼šæ³¨é”€æ­¤æœåŠ¡çš„æ³¨å†Œä¿¡æ¯ã€‚æ³¨å†Œä¿¡æ¯æ¯30ç§’ä¼šåœ¨eureka serveré›†ç¾¤ä¸­çš„å„ä¸ªèŠ‚ç‚¹å¤åˆ¶ã€‚å¦å¤–æœåŠ¡çš„å‘çŽ°å¯ä»¥è·¨zoneè¿›è¡Œã€‚è¿™ä¸€æ®µé‡Œæ²¡æœ‰ä»€ä¹ˆæ™¦æ¶©çš„æ¦‚å¿µï¼Œå¤§è‡´å‘Šè¯‰æˆ‘ä»¬äº†æœåŠ¡æ³¨å†Œæ˜¯ä»¥æ€Žæ ·çš„æ¨¡å¼è¿ä½œçš„ï¼ŒçŸ¥é“å°±å¥½äº†ã€‚ äº†è§£æœåŠ¡æ¶ˆè´¹ç«¯ä¸ŽæœåŠ¡æä¾›ç«¯çš„é€šè®¯ How does the application client and application server communicate? The communication technology could be anything you like. Eureka helps you find the information about the services you would want to communicate with but does not impose any restrictions on the protocol or method of communication. For instance, you can use Eureka to obtain the target server address and use protocols such as thrift, http(s) or any other RPC mechanisms. ä»Žä¸Šè¾¹çš„å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šEurekaå¹¶ä¸ä¼šå¹²é¢„æœåŠ¡ä¹‹é—´çš„é€šè®¯åè®®çš„é€‰æ‹©ï¼Œéšä¾¿ä½ ç”¨RPCã€httpè¿˜æ˜¯ä»€ä¹ˆæ–¹å¼ï¼ŒEurekaåªç®¡å¸®ä¸€ä¸ªæœåŠ¡å‘çŽ°æƒ³è¦é€šè®¯çš„å¦ä¸€ä¸ªç›®æ ‡æœåŠ¡ï¼Œè‡³äºŽå‘çŽ°ä¹‹åŽä¸¤è€…ä¹‹é—´æ€Žæ ·å»ºç«‹é€šè®¯ï¼ŒEurekaå°±ä¸ç®¡äº†ã€‚ æ‰©å±•é˜…è¯»æˆ‘ä»¬åœ¨å‰é¢åšå®žä¾‹æ—¶ï¼Œä¼šå‘çŽ°ï¼ŒEurekaåŒ…å«äº†å¤šå®žä¾‹é›†ç¾¤çš„é…ç½®å¯åŠ¨æ–¹å¼ï¼Œå®žé™…ä¸Šï¼Œåœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¹Ÿä¸ä¼šåªè·‘å•å®žä¾‹çš„ï¼Œå¯æ˜¯ï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿæ˜¯ä¸ºäº†é¢„é˜²â€œå•ç‚¹æ•…éšœâ€ï¼Œé‚£ä¹ˆï¼Œâ€œå•ç‚¹æ•…éšœâ€æ˜¯ä»€ä¹ˆå‘¢ã€‚ å…³äºŽâ€œå•ç‚¹æ•…éšœâ€single point of failureï¼Œï¼ˆå•ç‚¹æ•…éšœï¼Œç¼©å†™SPOFï¼‰æ˜¯æŒ‡ç³»ç»Ÿä¸­æŸä¸€éƒ¨ä»¶ä¸€æ—¦å¤±æ•ˆï¼Œå°±ä¼šè®©æ•´ä¸ªç³»ç»Ÿéƒ½æ— æ³•è¿ä½œï¼Œæ¢å¥è¯è¯´ï¼Œå•ç‚¹æ•…éšœå³ä¼šå¯¼è‡´æ•´ä½“æ•…éšœã€‚å…¶å®žé€šä¿—ä¸€ç‚¹ï¼Œå°±æ˜¯â€œæŠŠæ‰€æœ‰é¸¡è›‹éƒ½æ”¾åœ¨äº†ä¸€ä¸ªç¯®å­é‡Œâ€ã€‚ é‚£ä¹ˆå¦‚ä½•è§£å†³â€œå•ç‚¹æ•…éšœâ€é—®é¢˜ï¼Ÿâ€œä¸è¦æŠŠé¸¡è›‹æ”¾åœ¨ä¸€ä¸ªç¯®å­é‡Œâ€å°±å¥½äº†ã€‚â€œä¸€ä¸ªç¯®å­â€å°±æ˜¯å•ç‚¹ï¼Œè€Œä¸€ä¸ªç¯®å­å˜æˆå¤šä¸ªç¯®å­å°±æ˜¯â€œå†—ä½™â€ï¼ˆâ€œreplicateâ€ï¼‰ï¼Œè€Œå†—ä½™åˆ™æ˜¯è§£å†³å•ç‚¹é—®é¢˜çš„æ ¸å¿ƒæ€è·¯ã€‚æˆ‘ä»¬å¯ä»¥å›žæƒ³ä¸€ä¸‹åœ¨åšdemoæ—¶ï¼Œå¤šå®žä¾‹EurekaæœåŠ¡å™¨UIç•Œé¢ä¸­available-replicasï¼Œè¿™ä¸ªå°±æ˜¯çŽ°å®žçš„å½“å‰è¿™ä¸ªæœåŠ¡å™¨çš„å†—ä½™ã€‚ æ€»ç»“æœ¬ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å­¦ä¹ äº†åœ¨Spring Cloudä¸­æ€Žæ ·åšæœåŠ¡æ³¨å†Œä¸Žå‘çŽ°ï¼Œå¹¶ä¸”ä»¥ä¸¤ä¸ªdemoæ¥å®žè·µäº†ä¸€ä¸‹ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æœåŠ¡è°ƒç”¨ï¼ˆä¸Šï¼‰ã€ä¸­ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ æ€Žæ ·è°ƒç”¨å·²ç»å‘çŽ°çš„æœåŠ¡ã€‚ å‚è€ƒèµ„æ–™ï¼šSpring CloudæŠ€æœ¯åˆ†æžï¼ˆ2ï¼‰â€”â€” æœåŠ¡æ²»ç†å®žè·µ æ¶ˆé™¤å°åž‹ Web ç«™ç‚¹å•ç‚¹æ•…éšœ(Single Point of Failure) å•ç‚¹æ•…éšœ Understanding eureka client server communication Spring CloudæŠ€æœ¯åˆ†æžï¼ˆ1ï¼‰â€”â€”æœåŠ¡æ²»ç† æœ‰æ²¡æœ‰ä»€ä¹ˆå•è¯è®©ä½ å¿ƒé‡Œä¸€åŠ¨ï¼Ÿ æœåŠ¡æ³¨å†Œä¸Žå‘çŽ° åŸºäºŽ Eureka çš„æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°è°ƒç ” Spring Cloud Eureka â€” æœåŠ¡å‘çŽ° Spring Cloud Eurekaï¼šæœåŠ¡æ³¨å†Œä¸Žå‘çŽ° Eureka at a glance æ·±å…¥ç†è§£Eurekaä¹‹æºç è§£æž å½©è›‹æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆç½‘é£žç»™è‡ªå·±çš„æœåŠ¡å‘çŽ°ä¸Žæ³¨å†Œç»„ä»¶èµ·åä¸ºâ€œEurekaâ€å‘¢ï¼Ÿï¼Œä¸€ä¸ªå¾ˆæ–‡è‰ºçš„åå­—ã€‚å…¶å®žè¿™é‡Œè¾¹æ˜¯æœ‰ä¸€ä¸ªæ¢—çš„ã€‚ Eurekaï¼ˆå¸Œè…Šè¯­ï¼šÎµá½•ÏÎ·ÎºÎ±ï¼›æ‹‰ä¸åŒ–ï¼šEurekaï¼›è¯ä¹‰ï¼šâ€œæˆ‘å‘çŽ°äº†â€ï¼‰æ®ä¼ ï¼Œé˜¿åŸºç±³å¾·åœ¨æ´—æ¾¡æ—¶å‘çŽ°æµ®åŠ›åŽŸç†ï¼Œé«˜å…´å¾—æ¥ä¸åŠç©¿ä¸Šè£¤å­ï¼Œè·‘åˆ°è¡—ä¸Šå¤§å–Šï¼šâ€œEureka(æˆ‘å‘çŽ°äº†)ï¼â€ï¼ˆå®žé™…ä¸Šè¿™ä¸ªæ¢—æ˜¯æ¼”ç»Žçš„ï¼ŒçœŸå®žæƒ…å†µæ˜¯è¿™æ ·çš„ï¼šThe real story behind Archimedesâ€™ Eureka!ï¼‰ã€‚ ç½‘é£žçš„å¼€å‘äººå‘˜å–äº†è¿™ä¸ªâ€œå‘çŽ°â€çš„å…¸æ•…æ¥ä¸ºè‡ªå·±çš„äº§å“å‘½åï¼Œä¸å¾—ä¸è¯´è¿˜æŒºæœ‰æ‰å­¦å’Œæµªæ¼«ç²¾ç¥žçš„ã€‚è¿™é‡Œæ’ä¸€å¥é¢˜å¤–è¯ï¼šå…¶å®žä¸åªæ˜¯ç½‘é£žç”¨è¿‡â€œEurekaâ€è¿™ä¸ªæ¢—ï¼Œåœ¨å‰ä¸¤å¹´çš„ä¸€éƒ¨å½±è§†ä½œå“ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹ä¸­ä¹Ÿä½¿ç”¨äº†â€œEurekaâ€è¿™ä¸ªæ¡¥æ®µï¼Œåœ¨å½±ç‰‡ä¸­ï¼Œå¢¨è²è§£å‡ºäº†æ–¹ç¨‹å¼åŽï¼ŒæŒ¥æ´’ç¨¿çº¸ï¼Œæ¿€åŠ¨åœ°å–Šå‡ºäº†ï¼šâ€œEurekaâ€ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å›žåŽ»é‡æ¸©ä¸€ä¸‹è¿™éƒ¨ç»å…¸çš„ç‰‡å­ï¼Œå¹¶ä¸”ç•™æ„ä¸€ä¸‹è¿™ä¸ªæ¡¥æ®µã€‚]]></content>
      <tags>
        <tag>spring-cloud</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘çŽ°ä¸€ä¸ªè®²è§£Raftåè®®çš„åŠ¨ç”»]]></title>
    <url>%2F1b3b8e8b.html</url>
    <content type="text"><![CDATA[http://thesecretlivesofdata.com/raft/]]></content>
      <tags>
        <tag>Raft</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-åŸºæœ¬æ¦‚å¿µ]]></title>
    <url>%2F8b1aa30e.html</url>
    <content type="text"><![CDATA[å‰è¨€åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-å…³äºŽSpring Bootã€ä¸­ï¼Œæˆ‘ä»¬å¯¹Spring Cloudçš„ä¾èµ–é¡¹ï¼šSpring Bootåšäº†ç®€è¦çš„ä»‹ç»ï¼Œç®—æ˜¯æˆ‘ä»¬å­¦ä¹ Spring Cloudçš„é¢„ç§‘ç­å§ï¼Œç„¶åŽä»Žæœ¬ç¯‡æ–‡ç« å¼€å§‹ï¼Œæˆ‘ä»¬å¼€å§‹è¿›å…¥æ­£é¢˜äº†ã€‚ ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°ã€ç³»åˆ—æ–‡ç« åŒ…å«äº†ä¸¤ä¸ªä¸»é¢˜ï¼šâ€Spring Cloudâ€å’Œâ€å¾®æœåŠ¡â€ï¼Œé‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯â€Spring Cloudâ€ï¼Ÿï¼Œä»€ä¹ˆåˆæ˜¯â€å¾®æœåŠ¡â€ï¼Ÿã€‚åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­çš„å¼€å¤´ï¼Œæˆ‘ä»¬å°±å…ˆæ¥ç®€è¦ä»‹ç»ä¸€ä¸‹â€å¾®æœåŠ¡â€å’Œâ€Spring Cloudâ€è¿™ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µå§ã€‚ å…³äºŽå¾®æœåŠ¡ä»€ä¹ˆæ˜¯â€œå¾®æœåŠ¡â€å‘¢ï¼Œå…³äºŽè¿™ä¸€ç‚¹ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼Œâ€œå¾®æœåŠ¡â€æ˜¯ä¸€ä¸ªç»„åˆçš„æ¦‚å¿µï¼Œå®ƒæ˜¯ç”±å¼€å‘ã€éƒ¨ç½²ã€æž¶æž„ç­‰ç­‰å„ä¸ªçŽ¯èŠ‚ä¸­å¾ˆå¤šå…·ä½“çš„æ¦‚å¿µå…±åŒå½¢æˆçš„ï¼Œå¾ˆéš¾ä¸€æ¬¡æ€§ç†è§£æ¸…æ¥šã€‚ä½œä¸ºåˆå­¦è€…çš„æˆ‘ä»¬ï¼Œå¯ä»¥å…ˆé€šè¿‡é˜…è¯»æ¥äº†è§£ä¸€äº›æˆåž‹çš„æ¦‚å¿µï¼Œå…ˆå½¢æˆä¸€ä¸ªæ„Ÿæ€§è®¤è¯†ï¼Œç„¶åŽå†éšç€ä¸æ–­åœ°å®žè·µä¸Žæ€è€ƒï¼Œæ…¢æ…¢å¯¹â€œå¾®æœåŠ¡â€çš„æ¦‚å¿µäº§ç”Ÿæ›´é€å½»çš„ç†æ€§è®¤è¯†ã€‚ å…³äºŽâ€œMicroservicesâ€ï¼ˆå¾®æœåŠ¡ï¼‰è¿™ä¸ªæ¦‚å¿µæœ€è‘—åçš„ä¸€ç¯‡æ–‡ç« åº”è¯¥æ˜¯ é©¬ä¸Â·ç¦å‹’çš„ã€ŠMicroservicesã€‹è¿™ç¯‡æ–‡ç« äº†ï¼ˆä¸­æ–‡è¯‘æ–‡1 ä¸­æ–‡è¯‘æ–‡2ï¼‰ï¼Œè¿™ç¯‡æ–‡ç« å¯¹å¾®æœåŠ¡è¿›è¡Œäº†å®šä¹‰ï¼Œå¹¶å°†å¾®æœåŠ¡æž¶æž„ä¸Žä¼ ç»Ÿå•ä½“æž¶æž„è¿›è¡Œäº†å¯¹æ¯”ï¼Œé˜è¿°äº†å¾®æœåŠ¡çš„ä¼˜åŠ¿ä¸ŽåŠ£åŠ¿ã€‚è¿™ç¯‡æ–‡ç« æ¯”è¾ƒé•¿ï¼Œè€Œä¸”æ¶‰åŠåˆ°äº†ä¸å°‘æ¦‚å¿µï¼Œé˜…è¯»èµ·æ¥ä¼šæ¯”è¾ƒåƒåŠ›ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå‚çœ‹â€œæ•–å°å‰‘çš„åšå®¢â€å†™çš„ä¸€ç¯‡å¯¹åº”çš„å­¦ä¹ ç¬”è®°ï¼Œæ¥ç®€è¦äº†è§£ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„éª¨æž¶ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æˆªå–æœ€å®¹æ˜“ç†è§£çš„ä¸€æ®µå…³äºŽå¾®æœåŠ¡åº”ç”¨å’Œå•ä½“åº”ç”¨å¯¹æ¯”æ¥ä»Žä¸€ä¸ªä¾§é¢å¤§è‡´çš„äº†è§£ä¸€ä¸‹å¾®æœåŠ¡çš„æ¦‚å¿µå§ã€‚ä»¥ä¸‹å¼•ç”¨è‡ªå­¦ä¹ ç¬”è®° å¾®æœåŠ¡å®šä¹‰: å¾®æœåŠ¡æž¶æž„é£Žæ ¼æ˜¯ä¸€ç§å°†ä¸€ä¸ªå•ä¸€åº”ç”¨ç¨‹åºå¼€å‘ä¸ºä¸€ç»„å°åž‹æœåŠ¡çš„æ–¹æ³•ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼ŒæœåŠ¡é—´é€šä¿¡é‡‡ç”¨è½»é‡çº§é€šä¿¡æœºåˆ¶(é€šå¸¸ç”¨HTTPèµ„æºAPI)ã€‚è¿™äº›æœåŠ¡å›´ç»•ä¸šåŠ¡èƒ½åŠ›æž„å»ºå¹¶ä¸”å¯é€šè¿‡å…¨è‡ªåŠ¨éƒ¨ç½²æœºåˆ¶ç‹¬ç«‹éƒ¨ç½²ã€‚è¿™äº›æœåŠ¡å…±ç”¨ä¸€ä¸ªæœ€å°åž‹çš„é›†ä¸­å¼çš„ç®¡ç†ï¼ŒæœåŠ¡å¯ç”¨ä¸åŒçš„è¯­è¨€å¼€å‘ï¼Œä½¿ç”¨ä¸åŒçš„æ•°æ®å­˜å‚¨æŠ€æœ¯ã€‚ å’Œå•ä½“æœåŠ¡å™¨çš„å¯¹æ¯”: å•ä½“æœåŠ¡å™¨æ˜¯æž„å»ºè¿™æ ·ä¸€ä¸ªç³»ç»Ÿæœ€è‡ªç„¶çš„æ–¹å¼ã€‚å¤„ç†è¯·æ±‚çš„æ‰€æœ‰é€»è¾‘éƒ½è¿è¡Œåœ¨ä¸€ä¸ªå•ä¸€è¿›ç¨‹ä¸­ï¼Œå…è®¸ä½ ä½¿ç”¨ç¼–ç¨‹è¯­è¨€çš„åŸºæœ¬ç‰¹æ€§å°†åº”ç”¨ç¨‹åºåˆ’åˆ†ç±»ã€å‡½æ•°å’Œå‘½åç©ºé—´ã€‚ä½ è®¤çœŸçš„åœ¨å¼€å‘æœºä¸Šè¿è¡Œæµ‹è¯•åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨éƒ¨ç½²ç®¡é“æ¥ä¿è¯å˜æ›´å·²è¢«æ­£ç¡®åœ°æµ‹è¯•å¹¶éƒ¨ç½²åˆ°ç”Ÿäº§çŽ¯å¢ƒä¸­ã€‚è¯¥å•ä½“çš„æ°´å¹³æ‰©å±•å¯ä»¥é€šè¿‡åœ¨è´Ÿè½½å‡è¡¡å™¨åŽé¢è¿è¡Œå¤šä¸ªå®žä¾‹æ¥å®žçŽ°ã€‚ ä»¥æˆ‘ä¸ªäººçŽ°é˜¶æ®µçš„ç†è§£ï¼Œå¾®æœåŠ¡å°±æ˜¯å°†æˆ‘ä»¬åŽŸæ¥å†™çš„ä¸€ä¸ªâ€œå¤§åº”ç”¨â€ä¸­çš„ä¸€ç³»åˆ—æä¾›æŸä¸€ç±»æœåŠ¡çš„æ¨¡å—ï¼Œæ‹†åˆ†æˆç›¸äº’ç‹¬ç«‹çš„å°â€œåº”ç”¨â€ï¼Œæ¯ä¸ªå°åº”ç”¨éƒ½å¯¹å¤–æä¾›ä¸€ç§æœåŠ¡ï¼Œç„¶åŽå°†è¿™äº›â€œå°åº”ç”¨â€é€šè¿‡æŽ¥å£å¥‘çº¦æˆ–è¿œç¨‹è°ƒç”¨çš„æ–¹å¼ç»„åˆèµ·æ¥å†æž„æˆåŽŸæ¥çš„â€œå¤§åº”ç”¨â€ã€‚æ¯ä¸€ä¸ªâ€œå°åº”ç”¨â€éƒ½å¯¹åº”äº†ä¸€ç³»åˆ—åŒç±»ä¸šåŠ¡é€»è¾‘ã€å¯ç”±ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™ã€æ•°æ®å­˜å‚¨ç›¸äº’ç‹¬ç«‹ã€éƒ¨ç½²ç›¸äº’ç‹¬ç«‹ã€‚ å…³äºŽSpring Cloudä»€ä¹ˆåˆæ˜¯Spring Cloudå‘¢ï¼Ÿå…³äºŽSpring Cloudï¼Œæˆ‘è§‰å¾—æ²¡æœ‰å¿…è¦ç»™ä»–ä¸€ä¸ªç²¾ç¡®åœ°å®šä¹‰äº†ï¼ŒæŠŠå®ƒç†è§£ä¸ºâ€å¾®æœåŠ¡ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆâ€å°±å¥½äº†ã€‚å®ƒæä¾›äº†ä¼—å¤šç»„ä»¶ï¼Œæ¶µç›–äº†å¾®æœåŠ¡çš„æ–¹æ–¹é¢é¢ã€‚ä»¥ä¸‹æ˜¯Spring CloudåŒ…å«çš„ç»„ä»¶ï¼š Spring Cloud Config Centralized external configuration management backed by a git repository. The configuration resources map directly to Spring Environment but could be used by non-Spring applications if desired. *Spring Cloud Netflix Integration with various Netflix OSS components (Eureka, Hystrix, Zuul, Archaius, etc.). Spring Cloud Bus An event bus for linking services and service instances together with distributed messaging. Useful for propagating state changes across a cluster (e.g. config change events). Spring Cloud for Cloud Foundry Integrates your application with Pivotal Cloud Foundry. Provides a service discovery implementation and also makes it easy to implement SSO and OAuth2 protected resources. Spring Cloud Open Service Broker Provides a starting point for building a service broker that implements the Open Service Broker API. Spring Cloud Cluster Leadership election and common stateful patterns with an abstraction and implementation for Zookeeper, Redis, Hazelcast, Consul. Spring Cloud Consul Service discovery and configuration management with Hashicorp Consul. Spring Cloud Security Provides support for load-balanced OAuth2 rest client and authentication header relays in a Zuul proxy. Spring Cloud Sleuth Distributed tracing for Spring Cloud applications, compatible with Zipkin, HTrace and log-based (e.g. ELK) tracing. Spring Cloud Data Flow A cloud-native orchestration service for composable microservice applications on modern runtimes. Easy-to-use DSL, drag-and-drop GUI, and REST-APIs together simplifies the overall orchestration of microservice based data pipelines. Spring Cloud Stream A lightweight event-driven microservices framework to quickly build applications that can connect to external systems. Simple declarative model to send and receive messages using Apache Kafka or RabbitMQ between Spring Boot apps. Spring Cloud Stream App Starters Spring Cloud Stream App Starters are Spring Boot based Spring Integration applications that provide integration with external systems. Spring Cloud Task A short-lived microservices framework to quickly build applications that perform finite amounts of data processing. Simple declarative for adding both functional and non-functional features to Spring Boot apps. Spring Cloud Task App Starters Spring Cloud Task App Starters are Spring Boot applications that may be any process including Spring Batch jobs that do not run forever, and they end/stop after a finite period of data processing. Spring Cloud Zookeeper Service discovery and configuration management with Apache Zookeeper. Spring Cloud for Amazon Web Services Easy integration with hosted Amazon Web Services. It offers a convenient way to interact with AWS provided services using well-known Spring idioms and APIs, such as the messaging or caching API. Developers can build their application around the hosted services without having to care about infrastructure or maintenance. Spring Cloud Connectors Makes it easy for PaaS applications in a variety of platforms to connect to backend services like databases and message brokers (the project formerly known as â€œSpring Cloudâ€). Spring Cloud Starters Spring Boot-style starter projects to ease dependency management for consumers of Spring Cloud. (Discontinued as a project and merged with the other projects after Angel.SR2.) Spring Cloud CLI Spring Boot CLI plugin for creating Spring Cloud component applications quickly in Groovy Spring Cloud Contract Spring Cloud Contract is an umbrella project holding solutions that help users in successfully implementing the Consumer Driven Contracts approach. Spring Cloud Gateway Spring Cloud Gateway is an intelligent and programmable router based on Project Reactor. Spring Cloud OpenFeign Spring Cloud OpenFeign provides integrations for Spring Boot apps through autoconfiguration and binding to the Spring Environment and other Spring programming model idioms. å¯ä»¥çœ‹åˆ°ï¼Œç»„ä»¶ç›¸å½“çš„é½å…¨ï¼Œé…ç½®ä¸­å¿ƒã€å®‰å…¨ã€CLIç­‰ç­‰ç»„ä»¶ä¸€åº”ä¿±å…¨ï¼Œä½œä¸ºåˆå­¦ï¼Œæˆ‘ä»¬ä¸ç”¨ä¸€ä¸‹å­å­¦ä¹ è¿™ä¹ˆå¤šç»„ä»¶ï¼Œåªå…³æ³¨æœ€ä¸»è¦çš„å°±å¥½äº†ï¼Œé»‘ä½“æ˜Ÿå·æ ‡æ³¨çš„Spring Cloud Netflixæ˜¯æˆ‘ä»¬å½“å‰è¿™ä¸ªé˜¶æ®µå­¦ä¹ çš„é‡ç‚¹ï¼Œè¿™ä¸ªç»„ä»¶å¯ä»¥è¯´æ˜¯æ‰€æœ‰ç»„ä»¶ä¸­æœ€åŸºç¡€ã€æœ€æ ¸å¿ƒçš„äº†ï¼Œå…¶ä»–ç»„ä»¶å¤§å¯ä»¥ä»¥åŽæŒ‰éœ€å­¦ä¹ ã€‚ å…³äºŽSpring Cloud NetflixSpring Cloud Netflixå¯ä»¥è¯´æ˜¯Spring Cloudçš„åŸºç¡€ç»„ä»¶äº†ï¼Œå®žé™…ä¸Šå®ƒæœ¬èº«ä¹Ÿæ˜¯ç”±å¾ˆå¤šå­ç»„ä»¶æž„æˆçš„ï¼Œåˆå­¦æˆ‘ä»¬å…ˆæŽŒæ¡æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°(Eureka)ã€æ–­è·¯å™¨(Hystrix)ã€å£°æ˜Žå¼RESTå®¢æˆ·ç«¯(Feign)ã€å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡(Ribbon)ã€Apiç½‘å…³(Zuul)ï¼Œè¿™å‡ ä¸ªå°±å¥½å•¦ï¼Œç”¨è¿™äº›ç»„ä»¶å°±å·²ç»èƒ½å¤Ÿæ­å»ºå‡ºç®€å•çš„å¾®æœåŠ¡äº†ã€‚Spring Cloud Netflixçš„å…¨éƒ¨ç»„ä»¶å¦‚ä¸‹ï¼Œå…ˆå­¦å‡ ä¸ªåŸºç¡€çš„ï¼Œå…¶ä»–çš„ä»¥åŽç”¨åˆ°äº†ï¼ŒçŽ°å­¦å°±å¥½ï¼š Spring Cloud Netflix features: Service Discovery: Eureka instances can be registered and clients can discover the instances using Spring-managed beans Service Discovery: an embedded Eureka server can be created with declarative Java configuration Circuit Breaker: Hystrix clients can be built with a simple annotation-driven method decorator Circuit Breaker: embedded Hystrix dashboard with declarative Java configuration Declarative REST Client: Feign creates a dynamic implementation of an interface decorated with JAX-RS or Spring MVC annotations Client Side Load Balancer: Ribbon External Configuration: a bridge from the Spring Environment to Archaius (enables native configuration of Netflix components using Spring Boot conventions) Router and Filter: automatic regsitration of Zuul filters, and a simple convention over configuration approach to reverse proxy creation åœ¨ä»¥åŽçš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¼šå°±æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°ã€å£°æ˜Žå¼RESTå®¢æˆ·ç«¯ã€å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ä»¥åŠApiç½‘å…³è¿™å‡ ä¸ªç»„ä»¶ç€é‡çš„ä»‹ç»ã€‚ æ€»ç»“åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å¤§è‡´äº†è§£äº†â€å¾®æœåŠ¡â€å’ŒSpring Cloudçš„åŸºæœ¬æ¦‚å¿µï¼Œè®©æˆ‘ä»¬ä¸è‡³äºŽå¯¹äºŽSpring Cloudå’Œâ€å¾®æœåŠ¡â€è¿‡äºŽç”Ÿç–ï¼Œèµ·ç çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œç„¶åŽåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æ³¨å†Œä¸Žå‘çŽ°ã€ä¸­æˆ‘ä»¬ä¼šä»‹ç»æœåŠ¡æ³¨å†Œä¸Žå‘çŽ°çš„æ¦‚å¿µï¼Œeurekaæ˜¯ä»€ä¹ˆï¼Œä»¥åŠæ€Žæ ·è‡ªå·±åŠ¨æ‰‹æ­å»ºä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸­å¿ƒå‡ºæ¥ã€‚ å‚è€ƒèµ„æ–™microservices Spring CloudæŠ€æœ¯åˆ†æžï¼ˆåºï¼‰ Netflix OSS Spring Cloud Netflix å½©è›‹æ–‡ä¸­æˆ‘ä»¬æåˆ°äº†Spring Cloud Netflixï¼Œè¿™é‡Œé¢æœ‰ä¸ªè¯Netflixï¼Œç»å¸¸çœ‹ç¾Žå‰§çš„åŒå­¦æƒ³å¿…å¾ˆç†Ÿæ‚‰è¿™ä¸ªè¯äº†ï¼Œæ²¡é”™ï¼Œå°±æ˜¯é‚£å®¶Netflixï¼ˆç½‘é£žï¼‰ã€‚ã€Šçº¸ç‰Œå±‹ã€‹ã€ã€Šé»‘é•œã€‹ã€ã€Šæ€ªå¥‡ç‰©è¯­ã€‹ç­‰ç­‰åå‰§å‡å‡ºè‡ªäºŽå®ƒï¼Œæ²¡æƒ³åˆ°å‡ºäº†è¿™ä¹ˆå¤šé«˜è´¨é‡ç¾Žå‰§çš„å…¬å¸åšæŠ€æœ¯ä¹Ÿæ˜¯å¦‚æ­¤äº†å¾—ï¼Œç»™å¼€æºç¤¾åŒºåšå‡ºäº†å¦‚æ­¤å¤§çš„è´¡çŒ®ï¼Œåœ¨æ­¤å‘ç½‘é£žè‡´æ•¬ã€‚ ç½‘é£žçš„å‰§ï¼Œæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç‰¹ç‚¹ï¼Œæœ‰çš„å‰§æ˜¯ä¼šä¸€æ¬¡æ€§å‘å¸ƒä¸€æ•´å­£å†…å®¹è€Œä¸æ˜¯ä¸€å­£ä¸­ä¸€é›†ä¸€é›†å‘å¸ƒçš„ï¼Œè¿™ä¸€ç‚¹å’Œåˆ«å®¶ä¸å¤ªä¸€æ ·ï¼Œè®©ä½ ä¸€æ¬¡çœ‹è¿‡ç˜¾ðŸ˜†ï¼Œæƒ³å½“åˆçœ‹ã€Šæ€ªå¥‡ç‰©è¯­ã€‹çš„æ—¶å€™æˆ‘å°±æ˜¯ä¸€å¤©çœ‹å®Œäº†ä¸€æ•´å­£ã€‚ åœ¨è¿™é‡Œå†ç»™å¤§å®¶å®‰åˆ©ä¸€ä¸‹ã€Šæ€ªå¥‡ç‰©è¯­ã€‹è¿™éƒ¨å‰§å§ï¼Œæ­¤å‰§åˆçœ‹æ„Ÿè§‰è¿˜æ˜¯è€å¥—è·¯ä½†æ˜¯ç¼–å‰§ç›¸å½“ä¼˜ç§€ï¼Œè¶Šå¾€åŽè¶Šæœ‰æ„æ€ï¼Œç¼–å‰§ç¥žå•Šï¼Œè€å¥—è·¯ä¹Ÿèƒ½å‡ºæ–°æ„Ÿè§‰ï¼Œååˆ†å€¼å¾—ä¸€çœ‹ã€‚]]></content>
      <tags>
        <tag>spring-cloud</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-å…³äºŽSpring Boot]]></title>
    <url>%2F37ba2479.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯è™½ç„¶ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°ã€ç³»åˆ—æ–‡ç« æ˜¯é’ˆå¯¹Spring Cloudè¿™ä¸€ä¸»é¢˜çš„ï¼Œä½†æ˜¯ï¼Œç”±äºŽSpring Cloudæ˜¯ä¾èµ–äºŽSpring Bootçš„ï¼Œè€Œä¸”ï¼ŒSpring Bootä¹Ÿä¸ºæž„å»ºåŸºäºŽSpring Cloudçš„å¾®æœåŠ¡ç¨‹åºæä¾›äº†å¾ˆå¤šåŸºç¡€æ€§çš„æ”¯æŒï¼Œå› æ­¤ï¼Œå¯ä»¥è¯´ï¼ŒSpring Bootæ˜¯Spring Cloudå¿…ä¸å¯å°‘çš„åŸºçŸ³ï¼ŒåŒæ—¶ä¹Ÿæ˜¯Spring CloudèƒŒåŽçš„è‹±é›„ã€‚æ‰€ä»¥ï¼Œåœ¨å¼€å§‹ä»‹ç»Spring Cloudä¹‹å‰ï¼Œæˆ‘ä»¬ä¸“é—¨æ‹¿å‡ºä¸€ç¯‡æ–‡ç« çš„ç¯‡å¹…æ¥ç®€è¦ä»‹ç»ä¸€ä¸‹Spring Bootã€‚ ç†è®ºçŸ¥è¯†â€œé‚£ä¹ˆï¼Œæˆ‘ä»¥å‰å·²ç»ç”¨Spring + Spring MVCç”¨çš„å¾ˆ6äº†ï¼Œè¿™ä¸ªSpring Bootåˆæ˜¯ä»€ä¹ˆé¬¼ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¦èŠ±æ—¶é—´æ¥äº†è§£å®ƒã€å­¦ä¹ å®ƒå‘¢ï¼Ÿâ€ å…¶ä¸€ï¼Œæ­£å¦‚å‰æ–‡æ‰€è®²ï¼ŒSpring Cloudä¾èµ–äºŽSpring Bootï¼Œæ‰€ä»¥è¦æƒ³å¼€å‘åŸºäºŽSpring Cloudçš„ç¨‹åºï¼Œä¸å¾—ä¸ç”¨Spring Bootï¼›å…¶äºŒï¼Œå³ä¾¿ä½ è¯´ï¼šâ€œæˆ‘ç”¨ä¸ç€å¼€å‘Spring Cloudç¨‹åºâ€ï¼Œé‚£æˆ‘ä¹Ÿè¿˜æ˜¯å»ºè®®ä½ äº†è§£ä¸€ä¸‹Spring Bootï¼Œå› ä¸ºï¼Œå®ƒèƒ½å½»åº•æ”¹å˜ä½ å¼€å‘ä¸Žéƒ¨ç½²webåº”ç”¨çš„æ€è·¯ã€‚é—²è¨€å°‘å™ï¼ŒSpring Bootæ˜¯ä»€ä¹ˆå‘¢ï¼Œä»–åˆèƒ½æä¾›ç»™æˆ‘ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå…³äºŽè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥çœ‹å®˜æ–¹çš„ä»‹ç»å§ï¼š Spring Boot makes it easy to create Spring-powered, production-grade applications and services with absolute minimum fuss. It takes an opinionated view of the Spring platform so that new and existing users can quickly get to the bits they need. You can use Spring Boot to create stand-alone Java applications that can be started using java -jar or more traditional WAR deployments. We also provide a command line tool that runs spring scripts. Our primary goals are: Provide a radically faster and widely accessible getting started experience for all Spring development Be opinionated out of the box, but get out of the way quickly as requirements start to diverge from the defaults Provide a range of non-functional features that are common to large classes of projects (e.g. embedded servers, security, metrics, health checks, externalized configuration) Absolutely no code generation and no requirement for XML configuration æˆ‘åœ¨è¿™é‡Œå¤§è‡´ç¿»è¯‘ä¸€ä¸‹ï¼ˆæ„è¯‘ï¼‰ï¼Œè¯·å¯¹åº”åŽŸæ–‡æŸ¥çœ‹ï¼š ç”¨Spring Bootï¼Œä½ èƒ½å¤Ÿè½»æ¾åˆ›å»ºåŸºäºŽSpringçš„ã€çº¦å®šå¤§äºŽé…ç½®çš„ã€ç‹¬ç«‹è¿è¡Œçš„ï¼Œç”Ÿäº§çº§åº”ç”¨ã€‚ ä½ å¯ä»¥ç”¨Spring Bootæ¥å†™åŸºäºŽjaréƒ¨ç½²å¯åŠ¨çš„åº”ç”¨æˆ–è€…æ˜¯ä¼ ç»Ÿçš„waråº”ç”¨ã€‚ åŒæ—¶æˆ‘ä»¬è¿˜æä¾›ç»™ä½ ä¸€ä¸ªè¿è¡Œâ€œspring scriptsâ€çš„å‘½ä»¤è¡Œå·¥å…·ã€‚ æˆ‘ä»¬çš„ä¸»è¦æ„¿æ™¯æ˜¯ï¼š æä¾›ç»™æ‰€æœ‰çš„Springå¼€å‘è€…æ›´çˆ½çš„â€getting startedâ€ä½“éªŒã€‚ å¼€ç®±å³ç”¨ï¼Œç²¾ç®€é…ç½®è¿‡ç¨‹ã€‚ å†…ç½®å¥½äº†ä¸€äº›åœ¨å¾ˆå¤šé¡¹ç›®ä¸­éƒ½ä¼šéœ€è¦çš„é€šç”¨ç‰¹æ€§ï¼Œå¦‚åµŒå…¥å¼æœåŠ¡å™¨ï¼Œå®‰å…¨ï¼ŒæŒ‡æ ‡ï¼Œå¥åº·æ£€æŸ¥ï¼Œå¤–éƒ¨åŒ–é…ç½®ã€‚ ç»å¯¹ä¸ç”¨ä»£ç ç”Ÿæˆå’ŒXMLé…ç½®ã€‚ å…¶å®žå½’æ ¹ç»“åº•ï¼Œç”¨ä¸€å¼ å›¾å°±å¯ä»¥è¯´æ˜Žäº†ï¼š æˆ‘è‡ªå·±ä»ŽåŽ»å¹´11æœˆä»½å¼€å§‹æŽ¥è§¦Spring Bootï¼Œåˆ°çŽ°åœ¨å¤§çº¦5ä¸ªæœˆçš„æ—¶é—´ï¼Œæˆ‘è‡ªå·±ç›´è§‚çš„æ„Ÿå—å°±æ˜¯ï¼šâ€æˆ‘å†ä¹Ÿä¸æƒ³ç”¨å›žåˆ°åŽŸæ¥çš„Spring + Spring MVCäº†â€ï¼Œè¿™5ä¸ªæœˆæ—¶é—´æˆ‘å¤§æ¦‚ä¹Ÿä½“ä¼šåˆ°äº†Spring Bootçš„ä¸€äº›ç‰¹ç‚¹ï¼š é…ç½®çš„ç¡®ç®€åŒ–äº†ç›¸å½“å¤šï¼Œæ— è®ºæ˜¯ä»£ç ä¸­çš„é…ç½®è¿˜æ˜¯æž„å»ºå·¥å…·çš„é…ç½®ï¼Œéƒ½ç®€åŒ–äº† å½»åº•æ‰“ç ´äº†å¼€å‘ä¸Žéƒ¨ç½²æ—¶çš„æ€ç»´å®šå¼ï¼ŒåŽŸæ¥æžå¾—éƒ½æ˜¯warï¼Œéœ€è¦ç¹ççš„ï¼Œé…ç½®æœåŠ¡å™¨ä¸Žéƒ¨ç½²çš„è¿‡ç¨‹ï¼ŒçŽ°åœ¨å’±å¼€å‘çš„äº§å“éƒ½æ˜¯jaräº†ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹çš„å‘½ä»¤è¡Œç¨‹åºäº†ï¼Œå†ä¸ä¾èµ–äºŽåº”ç”¨æœåŠ¡å™¨äº†ï¼Œè¿™ä¸€ç‚¹å¯ä»¥è¯´æ˜¯webå¼€å‘çš„ä¸€ä¸ªé£žè·ƒ è‡ªå·±æŽŒæŽ§main()æ–¹æ³•ï¼ŒåŸºäºŽè¿™ä¸€ç‚¹æˆ‘ä»¬å¯ä»¥çŽ©å‡ºå¾ˆå¤šèŠ±æ ·æ¥ï¼Œmain()å¤§æ³•å¥½å•Š (å…³äºŽè¿™ä¸€ç‚¹ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ) å®žé™…æ“ä½œâ€œå¤¸å½’å¤¸ï¼Œå–å½’å–ï¼Œä½ è¯´äº†è¿™èŽ«å¤šSpring Bootçš„å¥½å¤„ï¼Œå€’æ˜¯å†™ä¸€ä¸ªçœ‹çœ‹å•Šã€‚â€ ä½œä¸ºç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æœ€å…³å¿ƒçš„å°±æ˜¯æ€Žæ ·ä¸Šæ‰‹äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±é€šè¿‡ç®€å•çš„ä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹Spring Bootçš„åŸºæœ¬ä½¿ç”¨å§ã€‚å°±æ‹¿ä¸€ä¸ªæœ€æ™®é€šçš„CRUDæ¥åšæ¼”ç¤ºå§ï¼Œåœ¨å¼€å§‹Spring Bootä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æ¸©ä¹ ä¸€ä¸‹Spring + Spring MVCï¼Œæ¸©æ•…è€ŒçŸ¥æ–°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ‹¿å®ƒæ¥åšä¸€ä¸ªå¯¹æ¯”çš„åŸºå‡†ã€‚ â€œCRUDâ€ ä¹‹ Spring + Spring MVCç‰ˆé™äºŽç¯‡å¹…ï¼Œè¿‡å¤šçš„ä»£ç æˆ‘å°±ä¸è´´å‡ºæ¥äº†ï¼Œæˆ‘å°†è¿™ä¸ªdemoå·¥ç¨‹æ”¾åˆ°äº†githubä¸Šï¼Œåˆ°é‚£é‡ŒåŽ»çœ‹å§ã€‚æˆ‘åœ¨è¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹æˆ‘ä¹ æƒ¯çš„æ™®é€šçš„Spring + Spring MVCå·¥ç¨‹å¼€å‘çš„ä¸€èˆ¬è·¯æ•°å§ï¼š æˆ‘ä¸€èˆ¬ä¼šç”¨çš„å…¨Javaé…ç½®çš„æ–¹å¼ï¼Œå¹¶ä¸”ä½¿ç”¨Gradleæž„å»ºã€‚æ‰€ä»¥æˆ‘ä¼šé¦–å…ˆé›†é½æ‰€æœ‰ä¾èµ–é¡¹æ”¾å…¥Gradleçš„dependenciesï¼ˆé›†é½ä¸ƒä¸ªä¾èµ–å¯ä»¥å¬å”¤ç¥žé¾™ ðŸ˜€ï¼‰ 1234567891011121314151617181920212223242526272829group &apos;com.githu.since1986.learn.boot&apos;version &apos;1.0-SNAPSHOT&apos;apply plugin: &apos;java&apos;apply plugin: &apos;war&apos;sourceCompatibility = 1.8repositories &#123; maven &#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos; &#125; mavenCentral()&#125;dependencies &#123; compile group: &apos;org.springframework&apos;, name: &apos;spring-webmvc&apos;, version: &apos;4.3.14.RELEASE&apos; compile group: &apos;org.springframework&apos;, name: &apos;spring-tx&apos;, version: &apos;4.3.14.RELEASE&apos; compile group: &apos;org.springframework&apos;, name: &apos;spring-jdbc&apos;, version: &apos;4.3.14.RELEASE&apos; compile group: &apos;org.mybatis&apos;, name: &apos;mybatis-spring&apos;, version: &apos;1.3.2&apos; compile group: &apos;org.mybatis&apos;, name: &apos;mybatis&apos;, version: &apos;3.4.6&apos; compile group: &apos;org.apache.tomcat&apos;, name: &apos;tomcat-servlet-api&apos;, version: &apos;8.5.29&apos; compile group: &apos;org.apache.commons&apos;, name: &apos;commons-dbcp2&apos;, version: &apos;2.2.0&apos; compile group: &apos;com.fasterxml.jackson.core&apos;, name: &apos;jackson-databind&apos;, version: &apos;2.9.4&apos; compile group: &apos;mysql&apos;, name: &apos;mysql-connector-java&apos;, version: &apos;5.1.46&apos;&#125; ç„¶åŽï¼Œé…ç½®å¥½æ‰€æœ‰é…ç½®é¡¹ï¼Œæˆ‘ä¸€èˆ¬æŒ‰ç…§è¿™æ ·çš„è·¯æ•°é…ç½®ï¼š 1234567891011121314151617181920212223242526272829303132333435.â”œâ”€â”€ javaâ”‚ â””â”€â”€ comâ”‚ â””â”€â”€ githubâ”‚ â””â”€â”€ since1986â”‚ â””â”€â”€ learnâ”‚ â””â”€â”€ bootâ”‚ â””â”€â”€ step1â”‚ â”œâ”€â”€ AppConfig.java æ ¹é…ç½®â”‚ â”œâ”€â”€ AppConstants.java å…¨å±€å¸¸é‡â”‚ â”œâ”€â”€ AppInitializer.java Mvcåˆå§‹åŒ–å™¨â”‚ â”œâ”€â”€ MyBatisConfig.java MyBatisæ ¹é…ç½®â”‚ â”œâ”€â”€ controller æŽ§åˆ¶å™¨åŒ…â”‚ â”‚ â”œâ”€â”€ AppExceptionHandler.java Mvcå…¨å±€å¼‚å¸¸å¤„ç†â”‚ â”‚ â”œâ”€â”€ ServletConfig.java Mvcé…ç½®â”‚ â”‚ â””â”€â”€ TestController.javaâ”‚ â”œâ”€â”€ mapper MapperæŽ¥å£åŒ…â”‚ â”‚ â”œâ”€â”€ MapperConfig.java Mapperé…ç½®â”‚ â”‚ â””â”€â”€ TestMapper.java MapperæŽ¥å£â”‚ â”œâ”€â”€ model Modelç±»åŒ…â”‚ â”‚ â””â”€â”€ TestModel.javaâ”‚ â””â”€â”€ service ServiceåŒ…â”‚ â”œâ”€â”€ ServiceConfig.java Serviceé…ç½®â”‚ â”œâ”€â”€ TestService.javaâ”‚ â””â”€â”€ TestServiceImpl.javaâ””â”€â”€ resources â”œâ”€â”€ com â”‚ â””â”€â”€ github â”‚ â””â”€â”€ since1986 â”‚ â””â”€â”€ learn â”‚ â””â”€â”€ boot â”‚ â””â”€â”€ step1 â”‚ â””â”€â”€ mapper â”‚ â””â”€â”€ TestMapper.xml MapperæŽ¥å£å¯¹åº”çš„é…ç½®æ–‡ä»¶ â””â”€â”€ import.sql #æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ å†ç„¶åŽï¼Œè°ƒè¯•ã€æ‰“åŒ…ã€éƒ¨ç½²tomcatï¼Œè¿™å‡ ä¸ªæ­¥éª¤å¯ç”±å„ç±»å¼€å‘ã€è°ƒè¯•ã€éƒ¨ç½²ã€æž„å»ºå·¥å…·æ¥è¿›è¡Œï¼Œåœ¨æ­¤ä¸ä»”ç»†å±•å¼€äº†ã€‚åˆ°æ­¤åŸºæœ¬ä¸Šå°±å®Œæˆäº†ä¼ ç»Ÿçš„åŸºäºŽSpring + Spring MVCçš„é¡¹ç›®çš„åˆå§‹åŒ–å·¥ä½œ â€œCRUDâ€ ä¹‹ Spring Bootç‰ˆæˆ‘ä»¬å†æ¥çœ‹Spring Bootç‰ˆçš„CRUDï¼ŒåŒæ ·ï¼Œä»£ç åœ¨githubä¸Š åŸºäºŽSpring Bootå¼€å‘ä¸Žä¼ ç»Ÿçš„Spring â€”â€” Spring MVCå¼€å‘çš„ä¸€ä¸ªä¸åŒç‚¹æ˜¯åœ¨æž„å»ºå·¥å…·ä¸­æä¾›äº†ç»„åˆåž‹ä¾èµ–é¡¹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“â€starterâ€ï¼Œä¸€ä¸ªâ€starterâ€å°±èƒ½æ›¿ä»£åŽŸæ¥è®¸å¤šä¸ªç‹¬ç«‹çš„ä¾èµ–é¡¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨åˆ»æ„åŽ»å‡‘è¿™äº›ä¾èµ–äº†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647group &apos;com.github.since1986.learn.boot&apos;version &apos;1.0-SNAPSHOT&apos;apply plugin: &apos;application&apos;apply plugin: &apos;org.springframework.boot&apos;apply plugin: &apos;propdeps&apos;apply plugin: &apos;propdeps-maven&apos;apply plugin: &apos;propdeps-idea&apos;sourceCompatibility = 1.8buildscript &#123; repositories &#123; maven &#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos; &#125; maven &#123; url &apos;http://repo.spring.io/plugins-release&apos; &#125; mavenCentral() &#125; dependencies &#123; classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:1.5.9.RELEASE&quot; classpath &quot;io.spring.gradle:propdeps-plugin:0.0.9.RELEASE&quot; &#125;&#125;repositories &#123; maven &#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos; &#125; mavenCentral()&#125;dependencies &#123; optional group: &apos;org.springframework.boot&apos;, name: &apos;spring-boot-configuration-processor&apos; compile group: &apos;org.springframework.boot&apos;, name: &apos;spring-boot-starter-web&apos;, version: &apos;1.5.9.RELEASE&apos; #æ³¨æ„è¿™é‡Œçš„starterï¼Œå¯ä»¥å’Œä¸Šè¾¹çš„ä¼ ç»ŸMVCå·¥ç¨‹å¯¹æ¯”ä¸€ä¸‹ compile group: &apos;org.mybatis.spring.boot&apos;, name: &apos;mybatis-spring-boot-starter&apos;, version: &apos;1.3.1&apos; compile group: &apos;mysql&apos;, name: &apos;mysql-connector-java&apos;, version: &apos;5.1.46&apos;&#125;compileJava.dependsOn(processResources)jar &#123; manifest &#123; attributes( &quot;Manifest-Version&quot;: &quot;1.0&quot;, &quot;Class-Path&quot;: &apos;. &apos; + configurations.compile.collect &#123; it.getName() &#125;.join(&apos; &apos;) ) &#125;&#125; æˆ‘ä»¬å†æ¥çœ‹Spring Bootçš„é…ç½®é¡¹,å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€ä¸ªåä¸ºâ€application.ymlâ€çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯Spring Bootâ€çº¦å®šä¼˜å…ˆäºŽé…ç½®â€çš„ä¸€ä¸ªå¾ˆå¥½ä½“çŽ°ï¼Œåœ¨è¿™ä¸ªçº¦å®šå¥½çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨çº¦å®šå¥½çš„é…ç½®é¡¹è¿›è¡Œé…ç½®ï¼Œèƒ½çœåŽ»åŽŸæ¥å¾ˆå¤šéœ€è¦è‡ªå·±å®šä¹‰çš„Javaé…ç½®ç±»ï¼Œæ¯”å¦‚dbcpçš„DataSourceï¼Œè¿™ä¸€ç‚¹æ˜¯Spring Bootä¸Žä¼ ç»ŸSpring + Spring MVCç¨‹åºåœ¨é…ç½®ä¸Šçš„æœ€å¤§ä¸åŒï¼Œå…¶ä»–çš„é…ç½®ç±»çš„æ¨¡å¼ä½ ä»ç„¶å¯ä»¥ä¿æŒåŽŸæ · 1234567891011121314151617181920212223242526272829303132333435.â”œâ”€â”€ javaâ”‚ â””â”€â”€ comâ”‚ â””â”€â”€ githubâ”‚ â””â”€â”€ since1986â”‚ â””â”€â”€ learnâ”‚ â””â”€â”€ bootâ”‚ â””â”€â”€ step1â”‚ â”œâ”€â”€ App.java Bootä¸»å¯åŠ¨ç±»â”‚ â”œâ”€â”€ AppConfig.java ä¸»é…ç½®â”‚ â”œâ”€â”€ AppProperties.java è‡ªå®šä¹‰å±žæ€§é…ç½®ç±»â”‚ â”œâ”€â”€ MvcConfig.java Mvcé…ç½®â”‚ â”œâ”€â”€ controller æŽ§åˆ¶å™¨åŒ…â”‚ â”‚ â”œâ”€â”€ AppExceptionHandler.java Mvcå…¨å±€å¼‚å¸¸å¤„ç†â”‚ â”‚ â””â”€â”€ TestController.javaâ”‚ â”œâ”€â”€ mapper MapperåŒ…â”‚ â”‚ â”œâ”€â”€ MapperConfig.java Mapperé…ç½®â”‚ â”‚ â””â”€â”€ TestMapper.java MapperæŽ¥å£â”‚ â”œâ”€â”€ model ModelåŒ…â”‚ â”‚ â””â”€â”€ TestModel.javaâ”‚ â””â”€â”€ service ServiceåŒ…â”‚ â”œâ”€â”€ ServiceConfig.java Serviceé…ç½®â”‚ â”œâ”€â”€ TestService.javaâ”‚ â””â”€â”€ TestServiceImpl.javaâ””â”€â”€ resources â”œâ”€â”€ application.yml Bootä¸»é…ç½®æ–‡ä»¶ â”œâ”€â”€ com â”‚ â””â”€â”€ github â”‚ â””â”€â”€ since1986 â”‚ â””â”€â”€ learn â”‚ â””â”€â”€ boot â”‚ â””â”€â”€ step1 â”‚ â””â”€â”€ mapper â”‚ â””â”€â”€ TestMapper.xml MapperæŽ¥å£å¯¹åº”çš„é…ç½®æ–‡ä»¶ â””â”€â”€ import.sql æ•°æ®åº“åˆå§‹åŒ–æ–‡ä»¶ ç„¶åŽå†æ¥çœ‹éƒ¨ç½²æ–¹é¢ï¼Œæ³¨æ„æˆ‘åœ¨æž„å»ºè„šæœ¬é‡Œçš„apply plugin: &#39;application&#39;è¿™ä¸ªGradle pluginï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨æ¥å°†æ™®é€šçš„å¸¦æœ‰main()æ–¹æ³•çš„Javaåº”ç”¨æ‰“æˆå¸¦æœ‰æ“ä½œç³»ç»Ÿé€‚åº”çš„å¯åŠ¨è„šæœ¬çš„å‘½ä»¤è¡Œç¨‹åºçš„æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„åº”ç”¨æ˜¯èƒ½ä»¥ç‹¬ç«‹è¿›ç¨‹çš„æ–¹å¼è·‘çš„ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¸ªå¾ˆå¤§çš„è¿›æ­¥ï¼Œæ— éœ€å…³å¿ƒå®¿ä¸»åº”ç”¨æœåŠ¡å™¨çš„é…ç½®æ˜¯æ€Žæ ·çš„äº†ï¼Œå› ä¸ºåŽ‹æ ¹å°±æ²¡æœ‰å®¿ä¸»çŽ¯å¢ƒäº†ã€‚åŒæ—¶ï¼Œè¯·æ³¨æ„App.javaï¼š 123456789101112package com.github.since1986.learn.boot.step1;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;@SpringBootApplicationpublic class App &#123; public static void main(String[] args) &#123; SpringApplication.run(App.class, args); &#125;&#125; è¿™ä¹ˆå¤šå¹´çš„webå¼€å‘ï¼Œæˆ‘ä»¬å‡ ä¹Žéƒ½å¿˜è®°äº†é‚£æ›¾ç»æ‹¥æœ‰main()æ–¹æ³•çš„çº¯çœŸå¿«ä¹æ—¶å…‰äº†ï¼Œåªè®°ä½äº†ä¸€ç›´éœ¸æ°”çš„è€é»„çŒ«ðŸ˜†ï¼ŒçŽ°åœ¨main()åˆå›žåˆ°äº†æˆ‘ä»¬çš„èº«è¾¹ï¼Œå–„å¾…å®ƒå§ï¼Œå› ä¸ºæœ‰äº†å®ƒï¼Œæˆ‘ä»¬èƒ½åšå‡ºå¾ˆå¤šäº†ä¸èµ·çš„äº‹ã€‚ æ€»ç»“åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ç®€è¦çš„ä»‹ç»äº†ä¸€ä¸‹Spring Cloudçš„åŸºçŸ³Spring Bootçš„æ¦‚å¿µä¸Žä½¿ç”¨ï¼Œä¸ºä»¥åŽäº†è§£Spring Cloudæ‰“å¥½äº†åŸºç¡€ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ã€ŒSpring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-åŸºæœ¬æ¦‚å¿µã€ä¸­ï¼Œæˆ‘ä»¬å°†çœŸæ­£å¼€å§‹Spring Cloudä¹‹æ—…ã€‚ å‚è€ƒèµ„æ–™ç”¨Spring Booté¢ è¦†Javaåº”ç”¨å¼€å‘ Spring Boot å®˜æ–¹æ–‡æ¡£]]></content>
      <tags>
        <tag>spring-boot</tag>
        <tag>spring-cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ—©æ˜¥çš„äº‘-Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°ç³»åˆ—æ–‡ç« ]]></title>
    <url>%2F67e55e6b.html</url>
    <content type="text"><![CDATA[æ­£å€¼æ—©æ˜¥ï¼Œæ˜¯å†™æ–‡ç« çš„å¥½æ—¶èŠ‚ï¼Œä»Žä»Šå¤©å¼€å§‹ï¼Œæˆ‘ä¼šé™†ç»­æ›´æ–°ä¸€ç³»åˆ—å…³äºŽSpring Cloudçš„æ–‡ç« ï¼Œæ•¬è¯·æœŸå¾…ã€‚ ç›®å½• Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-å…³äºŽSpring Boot Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-åŸºæœ¬æ¦‚å¿µ Spring Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æ³¨å†Œä¸Žå‘çŽ° Spring-Cloudä¸Žå¾®æœåŠ¡å­¦ä¹ ç¬”è®°-æœåŠ¡è°ƒç”¨ï¼ˆä¸Šï¼‰]]></content>
      <tags>
        <tag>spring-boot</tag>
        <tag>spring-cloud</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Studioæ‰‹åŠ¨ä¸‹è½½ç³»ç»Ÿé•œåƒ]]></title>
    <url>%2Fae8eb356.html</url>
    <content type="text"><![CDATA[åœ¨Android Studioä¸­åˆ›å»ºè™šæ‹Ÿè®¾å¤‡æ—¶ï¼ŒAndroid Studioä¼šè‡ªåŠ¨ä»ŽGoogleçš„ç³»ç»Ÿé•œåƒåº“ä¸­ä¸‹è½½Androidç³»ç»Ÿé•œåƒå¹¶å®Œæˆè™šæ‹Ÿè®¾å¤‡çš„åˆ›å»ºï¼Œä½†æ˜¯ç”±äºŽæœ‰äº›æ—¶å€™ç½‘ç»œçš„é™åˆ¶ä¼šå¯¼è‡´ä¸‹è½½ç³»ç»Ÿé•œåƒè¿™ä¸ªæ­¥éª¤å˜å¾—å¾ˆæ…¢ï¼Œç”šè‡³ä¼šæŠ¥é”™ä¸­æ–­ï¼Œè¿™æ—¶ä¼šå¯¼è‡´æ•´ä¸ªè™šæ‹Ÿè®¾å¤‡åˆ›å»ºè¿‡ç¨‹æ— æ³•é¡ºåˆ©å®Œæˆã€‚æ¯”å¦‚æˆ‘å¸å°±é™åˆ¶äº†ä¸‹è½½é€Ÿåº¦ä¸Šé™300k/sï¼Œä»Šå¤©åœ¨å°è¯•åˆ›å»ºè™šæ‹ŸAndroidè®¾å¤‡æ—¶å°±å¡åœ¨ä¸‹è½½é•œåƒè¿™æ­¥äº†ï¼Œæˆ‘å›žå¿†äº†ä¸€ä¸‹åŽŸæ¥åˆ›å»ºè™šæ‹Ÿè®¾å¤‡æ—¶çš„è¿‡ç¨‹ï¼ŒAndroid Studioå¤§è‡´æ˜¯å…ˆä¸‹è½½é•œåƒç„¶åŽè§£åŽ‹ï¼Œä¸‹è½½é•œåƒçš„åœ°å€ä¼šåœ¨æŽ§åˆ¶å°æ˜¾ç¤ºï¼Œé‚£ä¹ˆåªè¦æˆ‘è‡ªå·±æ‰‹å·¥ä»Žè¿™ä¸ªåœ°å€ä¸‹å¥½é•œåƒåŒ…å¹¶è§£åŽ‹åˆ°æ­£ç¡®çš„ä½ç½®å°±å¥½äº†ï¼Œç„¶åŽç¿»äº†ä¸€ä¸‹homeç›®å½•ï¼Œæ‰¾åˆ°äº†Androidç³»ç»Ÿé•œåƒçš„é»˜è®¤ä¸‹è½½å­˜æ”¾åœ°å€ä¸º/Users/&lt;ç”¨æˆ·å&gt;/Library/Android/sdk/system-images/android-&lt;Apiç‰ˆæœ¬å·&gt;/google_apis_playstore/&lt;cpuæž¶æž„&gt;è¿™ä¸ªç›®å½•ä¸‹(æˆ‘ç”¨çš„æ˜¯macOS High Sierraï¼Œè¯·æ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿæ‰¾å¯¹åº”çš„ç›®å½•ï¼Œå¦å¤–è¿™ä¸ªç›®å½•ä¸ç”¨è‡ªå·±åˆ›å»ºï¼Œè¿è¡Œè¿‡ä¸€éåˆ›å»ºè™šæ‹Ÿè®¾å¤‡å¹¶ä¸‹è½½ç³»ç»Ÿé•œåƒçš„è¿‡è¿‡ç¨‹åŽå°±ä¼šè‡ªåŠ¨åˆ›å»ºçš„)ï¼Œç„¶åŽæˆ‘ç”¨è¿…é›·æŠŠé•œåƒåŒ…ä¸‹å¥½ï¼Œæ‰‹åŠ¨è§£åŽ‹åˆ°ä½ï¼Œå†æ‰“å¼€åˆ›å»ºè™šæ‹Ÿè®¾å¤‡çš„çª—å£ï¼Œå‘çŽ°å·²ç»ä¸ç”¨å†ä¸‹è½½Androidç³»ç»Ÿé•œåƒäº†ï¼Œç›´æŽ¥å¯ä»¥è¿›å…¥åˆ›å»ºè™šæ‹Ÿè®¾å¤‡çš„è¿‡ç¨‹äº†ã€‚]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°å½•ä¸€æ¬¡java.net.UnknownHostExceptionçš„è§£å†³è¿‡ç¨‹]]></title>
    <url>%2F71f3f6d0.html</url>
    <content type="text"><![CDATA[ä»Šå¤©å†™çš„ä»£ç ç”¨åˆ°äº†è°ƒç”¨webserviceçš„æ–¹æ³•ï¼Œåœ¨æœ¬åœ°è°ƒè¯•æ²¡é—®é¢˜ï¼Œä½†æ˜¯éƒ¨ç½²åˆ°æµ‹è¯•æœåŠ¡ä¸Šä¼šçˆ†java.net.UnknownHostException,ä¸€å¼€å§‹æˆ‘è§‰å¾—å¯èƒ½æ˜¯webserviceæ‰€åœ¨çš„æœåŠ¡å™¨ä¸Žå½“å‰è¿™å°æµ‹è¯•æœåŠ¡å™¨çš„é˜²ç«å¢™æ‹¦æˆªäº†webserviceæ‰€åœ¨çš„8081ç«¯å£çš„é€šä¿¡å¯¼è‡´çš„ï¼Œæ‰€ä»¥è¯•äº†ä¸€ä¸‹telnet &lt;webservice-host-ip&gt; &lt;webservice-port&gt;åŽå‘çŽ°é€šçš„ï¼Œé‚£ä¹ˆåº”è¯¥æ²¡é—®é¢˜æ‰å¯¹å•Šï¼Œé—®äº†åŒäº‹ï¼ŒæŸ¥äº†èµ„æ–™ï¼Œéƒ½æ²¡è§£å†³ï¼Œå¡åœ¨è¿™é‡Œä¸€æ®µæ—¶é—´ï¼Œç„¶åŽæˆ‘è§‰å¾—ä¸å¦‚é—®é—®é¢†å¯¼å§ï¼Œç„¶åŽé—®äº†é¢†å¯¼ï¼Œä»–è¯´ä½ telnetæ˜¯ç”¨çš„åŸŸåå—ï¼Œæˆ‘è¿™æ‰é†’æ‚Ÿè¿‡æ¥ï¼Œæˆ‘telnetçš„æ˜¯ipè€Œä»£ç ä¸­çš„è°ƒç”¨å´æ˜¯é€šè¿‡åŸŸåè°ƒç”¨çš„ï¼Œè¿™æ ·è¯•æ˜¯æ²¡æœ‰è¿˜åŽŸè°ƒç”¨çŽ¯å¢ƒçš„ã€‚é¢†å¯¼è¯´å®Œè¿‡æ¥å¸®å¿™è°ƒäº†ä¸€ä¸‹ï¼Œå‘çŽ°telnet &lt;webservice-host-name&gt; &lt;webservice-port&gt;æ˜¯è¿žä¸ä¸Šçš„ï¼Œç„¶åŽæ”¹äº†ä¸€ä¸‹è¿™å°æµ‹è¯•æœåŠ¡å™¨ä¸Šçš„hostsæ–‡ä»¶ï¼Œå¢žåŠ äº†è§£æžåŸŸååˆ°webserviceæœåŠ¡å™¨çš„è§„åˆ™åŽï¼Œå†é‡è¯•å°±æ²¡é—®é¢˜äº†ã€‚é€šè¿‡ä»Šå¤©çš„è°ƒé”™è¿‡ç¨‹ï¼Œæ€»ç»“äº†ä¸€ä¸ªæ¶‰åŠjava.net.UnknownHostExceptionçš„è°ƒè¯•ç»éªŒ:å¦‚æžœä»£ç ä¸­æ˜¯é€šè¿‡åŸŸåè€Œä¸æ˜¯ipè°ƒç”¨webserviceæŽ¥å£çš„ï¼Œtelnetè¦ç”¨åŸŸåæ¥è¯•: telnet &lt;è¢«è°ƒç”¨æŽ¥å£åŸŸå&gt; &lt;è¢«è°ƒç”¨æŽ¥å£ç«¯å£&gt;ï¼Œæ³¨æ„å°½é‡è¿˜åŽŸä»£ç ä¸­çš„ç½‘ç»œçŽ¯å¢ƒã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[äºŒè¿›åˆ¶åè¿›åˆ¶æ•´æ•°çš„è½¬æ¢]]></title>
    <url>%2F668b5e27.html</url>
    <content type="text"><![CDATA[è¿›åˆ¶è½¬æ¢åœ¨ä¸Šå¤§å­¦æ—¶å°±å­¦äº†ï¼Œæ—¶åˆ°çŽ°åœ¨å¿˜å¾—å·²ç»å·®ä¸å¤šäº†ï¼Œæ­£å¥½è¿™ä¸¤å¤©çœ‹äº†å‡ ç¯‡å…³äºŽäºŒè¿›åˆ¶çš„æ–‡ç« ï¼Œé¡ºä¾¿ä¹Ÿå°±å¤ä¹ äº†ä¸€ä¸‹ï¼Œæ•´æ•°çš„åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ç”¨è¾—è½¬ç›¸å¤„ï¼ŒäºŒè¿›åˆ¶è½¬åè¿›åˆ¶ç”¨æŒ‰ä½ä¹˜ä¸Ž2çš„ä½æ•°æ¬¡æ–¹ã€‚å¦å¤–åœ¨å°†äºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶æ—¶éœ€è¦ç”¨åˆ°powerè¿ç®—ï¼Œæˆ‘æ˜¯ç›´æŽ¥ç”¨çš„ä½è¿ç®—ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨Math.pow()ï¼Œä¸€æ ·èƒ½å®žçŽ°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041public class Test4 &#123; public static void main(String[] args) &#123; /* åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ è¾—è½¬ç›¸é™¤ï¼š 666 / 2 = 333 ä½™ 0 333 / 2 = 166 ä½™ 1 166 / 2 = 83 ä½™ 0 ä¾æ¬¡ç±»æŽ¨ç›´åˆ°ç›¸é™¤ç»“æžœä¸º0 */ int decimal = 666; while (decimal != 0) &#123; // System.out.print(decimal % 2); decimal /= 2; &#125; System.out.println(); /* äºŒè¿›åˆ¶è½¬åè¿›åˆ¶ ä»Žæœ€ä½Žä½å¼€å§‹ï¼Œæ¯ä¸€ä½ * åŸºæ•°(äºŒè¿›åˆ¶åŸºæ•°å°±æ˜¯2)çš„ä½æ•°æ¬¡æ–¹ ç´¯åŠ  0101100101 ä»Žæœ€å³ä¾§å¼€å§‹ (1 * 2çš„0æ¬¡æ–¹) + (0 * 2çš„1æ¬¡æ–¹) + (1 * 2çš„2æ¬¡æ–¹) + ... */ int[] binary = &#123;0, 1, 0, 1, 1, 0, 0, 1, 0, 1&#125;; int result = 0; for (int index = 0; index &lt; binary.length; index++) &#123; /* Javaä¸­ 2çš„næ¬¡æ–¹å®žé™…ä¸Šå°±æ˜¯1å·¦ç§»nä½ 00000000000000000000000000000001 ä¹Ÿå°±æ˜¯intåž‹çš„1 å·¦ç§»0ä½åŽ(ä¹Ÿå°±æ˜¯æ²¡ç§»åŠ¨) 00000000000000000000000000000001 è¿˜æ˜¯intåž‹çš„1 00000000000000000000000000000001 å·¦ç§»ä¸€ä½åŽå˜ä¸º 00000000000000000000000000000010 ä¹Ÿå°±æ˜¯intåž‹çš„2 00000000000000000000000000000001 å·¦ç§»2ä½åŽå˜ä¸º 00000000000000000000000000000100 ä¹Ÿå°±æ˜¯intåž‹çš„4 ä»¥æ­¤ç±»æŽ¨ */ result += binary[index] * (1 &lt;&lt; index); &#125; System.out.println(result); &#125;&#125;]]></content>
      <tags>
        <tag>è®¡ç®—æœºåŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå·±åŠ¨æ‰‹ï¼Œåœ¨macOS High Sierraä¸­ç¼–è¯‘ä¸€ä¸ªå¯debugçš„JDK]]></title>
    <url>%2F41a7068f.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ç”±äºŽæœ€è¿‘æƒ³åˆ†æžå‡ ä¸ªnativeæ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦æ‰‹å¤´æœ‰ä¸€ä¸ªå¯ä»¥debugçš„JDKï¼Œå› æ­¤ï¼Œè¿™ä¸¤å¤©æŠ˜è…¾äº†æŠ˜è…¾ï¼Œè¸©äº†10+ä¸ªå‘ï¼Œçœ‹äº†10+ç¯‡æ–‡ç« ï¼Œå°è¯•äº†10+æ¬¡ï¼Œæœ€åŽæ€»ç®—æŠŠJDKç»™ç¼–å‡ºæ¥äº†ï¼Œå½“åœ¨è‡ªå·±ç¼–è¯‘å‡ºæ¥çš„JDKä¸Šè¿è¡Œjavac -versionè¾“å‡ºäº†é‚£ç†Ÿæ‚‰çš„æ–‡å­—åŽï¼Œæ„Ÿè§‰å·²æ˜¯è€æ³ªçºµæ¨ªè¿˜æ˜¯å¾ˆæœ‰æˆå°±æ„Ÿçš„ã€‚ å‰æœŸå‡†å¤‡ äº†è§£ä¸€ä¸‹OpenJDKçš„ç›¸å…³çŸ¥è¯†: æˆ‘ä»¬è¦ç¼–è¯‘çš„æ˜¯Open JDK 9u å®‰è£…Homebrew(å¯é€‰) ç•ªç¾½åœŸå•¬: å› ä¸ºå‡å¦‚ç¼–è¯‘å‡ºé”™éœ€è¦æŸ¥è¯¢é”™è¯¯çš„è§£å†³æ–¹æ¡ˆæ—¶éœ€è¦é€šè¿‡ä¸€ä¸ªä¸å­˜åœ¨çš„ç½‘ç«™æ¥è¿›è¡Œ å‡†å¤‡ä¸€ä¸ªå¥½ç”¨çš„æºç ç¼–è¾‘å™¨: å› ä¸ºè¿æ°”å¥½çš„è¯[æ»‘ç¨½]æˆ‘ä»¬å¯èƒ½éœ€è¦ä¿®æ”¹JDKæºç ä¸­çš„å…«é˜¿å“¥(æˆ‘ç”¨çš„ mscode) å®‰è£…ä¸€ä¸ªBoot JDK: å› ä¸ºJDKä¸­æœ‰ä¸å°‘ä»£ç æ˜¯Javaå†™çš„ï¼Œæ‰€ä»¥æƒ³è¦ç¼–è¯‘JDKå°±éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªJDKæ¥è¾…åŠ©(é¸¡ç”Ÿè›‹ã€è›‹ç”Ÿé¸¡/è‡ªå·±æ‹½è‡ªå·±çš„å¤´å‘æŠŠè‡ªå·±æ‹½èµ·æ¥)ï¼Œæˆ‘å®‰è£…çš„æ˜¯Oracleå®˜æ–¹çš„JDK å®‰è£…freetype:è¿™æ˜¯ä¸ªä¾èµ–é¡¹brew install freetype å®‰è£…Xcode çŽ¯å¢ƒæè¿° æ“ä½œç³»ç»Ÿ: macOS High Sierra Version: 10.13.3 (17D47) Boot JDK: 1.8.0_161 freetype: 2.9 Xcode: Version 9.2 (9C40b) Open JDKæºç : jdk9u-2e265b4b8622 corba-2ef36e70f490 hotspot-bb73b31e70e3 jaxp-95a71f690b44 jaxws-f4f878b5f01c jdk-a779673ab57d langtools-e2bf77b3f002 nashorn-fb3f7ae74bf6 å‰äººè¹šè¿‡çš„å‘/æˆ‘è¹šè¿‡çš„å‘ ä¸è¦ç¼–è¯‘JDK 8: å› ä¸ºç¼–è¯‘8éœ€è¦Xcode 4çŽ°åœ¨Xcodeç‰ˆæœ¬å·²è¿œé«˜äºŽ4äº†(è¿™ä¸ªå‘æ˜¯å‰äººè¹šå‡ºæ¥çš„ï¼Œå½“ç„¶æˆ‘ä¸ä¿¡é‚ªï¼Œç„¶åŽè‡ªå·±è¹šäº†ä¸€éï¼Œç„¶åŽå‘çŽ°ç¡®å®žæ˜¯ä¸ªå‘) å°½é‡ä¸è¦ä½¿ç”¨Mercurialæ¥ä¸‹Open JDKçš„æºç ï¼Œè€Œç”¨æµè§ˆå™¨ç›´æŽ¥ä¸‹è½½æ‰“åŒ…å¥½çš„æºç : å› ä¸ºä½ è¦ç”¨Mercurialä¸‹è½½äº†Open JDKçš„é¡¶å±‚å·¥ç¨‹åŽï¼Œè¿˜éœ€è¦æ‰§è¡Œå…¶ä¸­çš„get_source.shæ¥ä¸‹è½½å…¶å­å·¥ç¨‹çš„æºç ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¼«é•¿è€Œä¸”å¤±è´¥çŽ‡é«˜(å…³é”®è¿˜æ²¡æœ‰æ‰§è¡Œç™¾åˆ†æ¯”æç¤ºï¼Œå¹²ç­‰)ï¼Œç”¨æµè§ˆå™¨è‡ªå·±ä¸‹è½½æ‰€æœ‰å­å·¥ç¨‹çš„åŽ‹ç¼©åŒ…è¦å¿«å¾ˆå¤šï¼Œè€Œä¸”æˆåŠŸçŽ‡100%(æˆ‘è‡ªå·±è¹šå‡ºæ¥çš„ï¼Œå‰äººçš„å‡ ç¯‡æ–‡ç« ä¸­å…¨å‘Šè¯‰æˆ‘ç”¨Mercurialï¼Œç»“æžœå‘äº†) ç¼–è¯‘JDK 9uè€Œä¸æ˜¯JDK 9å› ä¸ºæˆ‘å½“æ—¶ç¼–è¯‘9çš„æ—¶å€™å‡ºäº†ä¸€å †errorï¼Œæ‰€ä»¥æˆ‘æƒ³å¸¦ä¸ªuçš„æ˜¯ä¸æ˜¯ä¼šå¥½äº›ï¼Œå½“ç„¶è¿™ä¸ªæœ‰å¾ˆå¤§ç¨‹åº¦æ˜¯æˆ‘è‡†æµ‹çš„ï¼Œæˆ‘åŽæœŸå°±éƒ½æ‹¿9uæžäº†ï¼Œæ²¡è¯•9ï¼Œå¦‚æžœå„ä½æœ‰å…´è¶£å¯ä»¥è‡ªå·±è¹šè¹šè¿™ä¸ª configureçš„æ—¶å€™ä¸€å®šè¦å¸¦ä¸Š--disable-warnings-as-errorsè¿™ä¸ªå‚æ•°ï¼Œå¦åˆ™ç¼–è¯‘è¿‡ç¨‹ä¸­çš„warningä¹Ÿä¼šä¸­æ–­ç¼–è¯‘çš„è¿›ç¨‹ï¼Œå®žé™…ä¸Šè¿™äº›warningå¹¶ä¸å½±å“ç¼–è¯‘åŽçš„ç›®æ ‡JDKçš„è¿è¡Œ èµ°æµç¨‹å¦‚æžœå‰é¢å‡ ç‚¹ è¯¥å‡†å¤‡çš„ä½ éƒ½å‡†å¤‡äº†ï¼Œè¯¥æ³¨æ„çš„ä½ ä¹Ÿæ³¨æ„äº†ï¼Œé‚£ä¹ˆå¼€å§‹èµ°æµç¨‹ç¼–è¯‘å§ï¼Œå¦‚æžœæŠ¥é”™ï¼ˆæœ‰å¾ˆå¤§å‡ çŽ‡ä¼šï¼‰ä¸è¦æ‘”é”®ç›˜ï¼Œç”¨å‰é¢æˆ‘ä»¬æåˆ°çš„ä¸å¯æè¿°å­˜åœ¨çš„ç½‘ç«™æ¥æ‰¾ç­”æ¡ˆï¼Œæˆ‘è‡ªå·±æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œåå¤è¯•äº†2å¤©æ‰æžå®šï¼Œé²è¿…å…ˆç”Ÿè¯´çš„å¥½ï¼šâ€œåªè¦åŠŸå¤«æ·±ï¼Œé“æµç£¨æˆé’ˆâ€ï¼Œç¥ä½ å¥½è¿ï¼ï¼ step0æ‰€æœ‰å‰æ–‡æåˆ°çš„å‡†å¤‡å·¥ä½œ step1ä¸‹è½½æºç åŽ‹ç¼©åŒ… å¹¶å°†ä¸‹è½½å¥½çš„æºç åŽ‹ç¼©åŒ…è§£åŽ‹åŽæŒ‰å®˜æ–¹æºç åº“çš„å±‚çº§ç æ”¾å¥½ step2åœ¨æºç é¡¶å±‚ç›®å½•ä¸Šæ‰§è¡Œsh configure --with-debug-level=slowdebug --disable-warnings-as-errors --with-freetype-include=/usr/local/Cellar/freetype/2.9/include/freetype2 --with-freetype-lib=/usr/local/Cellar/freetype/2.9/lib(å¸¦ç‰ˆæœ¬å·çš„åœ°æ–¹è‡ªå·±æ³¨æ„æ ¹æ®å®žé™…æƒ…å†µæ¢)å¦‚æžœè¿™ä¸€æ­¥æ²¡é—®é¢˜çš„è¯åº”å½“çœ‹åˆ°è¿™æ ·çš„è¾“å‡ºï¼š step3å¦‚æžœä½ çš„ç¼–è¯‘çŽ¯å¢ƒä»¥åŠæºç ç‰ˆæœ¬è·Ÿæˆ‘çš„å®Œå…¨ä¸€æ ·ï¼Œé‚£ä¹ˆå…ˆåˆ«make allï¼Œå…ˆæ¥ä¿®ä¸€ä¸ªbugï¼š(patchåœ¨æ­¤) è¿™ä¸ªbugä¼šå¯¼è‡´makeæŠ¥è¿™ä¸ª:error: ordered comparison between pointer and zero (&#39;char *&#39; and &#39;int&#39;) ã€‚ã€‚ã€‚æ­¤å¤„çœç•¥ æ‰“å¼€hotspotç›®å½•ä¸­çš„ src/share/vm/memory/virtualspace.cpp æœç´¢å…¶ä¸­if (base() &gt; 0) {æ”¹ä¸ºif (base() != NULL) { src/share/vm/opto/lcm.cpp æœç´¢å…¶ä¸­if (Universe::narrow_oop_base() &gt; 0) { æ”¹ä¸º if (Universe::narrow_oop_base() != NULL) { src/share/vm/opto/loopPredicate.cpp æœç´¢å…¶ä¸­assert(rng-&gt;Opcode() == Op_LoadRange || _igvn.type(rng)-&gt;is_int() &gt;= 0, &quot;must be&quot;); æ”¹ä¸º assert(rng-&gt;Opcode() == Op_LoadRange || iff-&gt;is_RangeCheck() || _igvn.type(rng)-&gt;is_int()-&gt;_lo &gt;= 0, &quot;must be&quot;); step4make allç¼–è¯‘æ—¶é—´ç•¥é•¿ï¼Œæˆ‘çš„æœºå­æ˜¯2017æ¬¾çš„ MacBook Proå¤§æ¦‚ç”¨äº†20åˆ†é’Ÿ+(æ²¡ä»”ç»†è®¡)ï¼Œè€Œä¸”ç¼–è¯‘è¿‡ç¨‹ä¸­é£Žæ‰‡ç‹‚è½¬ï¼Œç¬”è®°æœ¬çš„è¯æ³¨æ„å‰©ä½™ç”µé‡ä»¥åŠæ•£çƒ­ï¼Œç¼–è¯‘è‹¥æˆåŠŸï¼ŒæŒ‡å®šjavacå…¨è·¯å¾„è¿è¡Œä¸€ä¸‹javac -versionçœ‹çœ‹ å¦‚æžœæŠ¥äº†errorï¼Œå…·ä½“errorå…·ä½“åˆ†æžï¼Œå› ä¸ºç¼–è¯‘çŽ¯å¢ƒä¸åŒï¼Œå¯èƒ½errorä¹Ÿä¸åŒï¼ŒåŽ»ä¸å­˜åœ¨çš„ç½‘ç«™æ‰¾æ‰¾è§£å†³æ–¹æ¡ˆï¼Œè€å¿ƒ+è¿æ°”ä½ å°±ä¸€å®šèƒ½æˆåŠŸçš„ã€‚ æ€»ç»“åŽŸä»¥ä¸ºç¼–ä¸€ä¸ªJDKèƒ½æœ‰å¤šéš¾ï¼Œäº‹å®žè¯æ˜Žï¼šæ˜¯ä¸éš¾ï¼Œä½†æ˜¯å‘å¤šï¼Œéº»çƒ¦ï¼Œå‰å‰åŽåŽè¯•äº†10å¤šæ¬¡ï¼Œä¸€å…±èŠ±äº†ä¸¤å¤©æ—¶é—´ï¼Œä»Žå°è¯•ç¼–è¯‘JDK 8å†åˆ°9ä¸­é—´å‡ºäº†å„æ ·é—®é¢˜ï¼Œä¹‹ä¸­ä¸€åº¦æƒ³æ”¾å¼ƒï¼Œä½†æ˜¯ç”±äºŽæƒ³ç”¨å®ƒæ¥å®žçŽ°æ›´è¿œçš„ç›®æ ‡ï¼Œæ‰€ä»¥è¿˜æ˜¯åšæŒå¼„ä¸‹æ¥äº†ï¼Œæœ€ç»ˆåœ¨æœç´¢å¼•æ“Žå’Œå‰äººçš„å¸®åŠ©ä¸‹æˆåŠŸäº†ï¼Œæ‰€ä»¥è¿˜æ˜¯é‚£å¥è¯ï¼šâ€œåªè¦åŠŸå¤«æ·±é“æµç£¨æˆé’ˆâ€ï¼ŒæŒ‰æ­£ç¡®çš„æ–¹å‘ï¼Œåå¤å°è¯•ï¼Œç»ˆèƒ½æˆåŠŸã€‚ å‚è€ƒèµ„æ–™Building OpenJDK 8 on Mac OS X Mavericks Building and Packaging OpenJDK9 for OSX Compilation errors with clang-4.0 OpenJDK / jdk10 / jdk10 / hotspotchangeset 13502:316854ef2fa2 Ordered comparison between pointer and zero (â€˜char *â€™ and â€˜intâ€™) error #5 MACç¼–è¯‘OpenJDK8 Compile&amp;Debug openjdk openjdk code compilation/ IDE setup ä½¿ç”¨Clion(GDB)è°ƒè¯•å°åž‹JVMæºç  è§£å†³GDBåœ¨Macä¸‹ä¸èƒ½è°ƒè¯•çš„é—®é¢˜ xcode-select active developer directory error Mac OsX Sierra - Stuck on binaryTreeDictionary.hpp compilation]]></content>
      <tags>
        <tag>JDK</tag>
        <tag>JVM</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºåŸºäºŽspring-bootçš„åº”ç”¨æ·»åŠ æ ¹æ®è¿è¡Œæ—¶æ“ä½œç³»ç»ŸçŽ¯å¢ƒæ¥æç¤ºç”¨æˆ·é€‰æ‹©active profileçš„åŠŸèƒ½]]></title>
    <url>%2Fb2e13457.html</url>
    <content type="text"><![CDATA[spring-bootæœ‰ä¸€ä¸ªæ ¹æ®JVMå˜é‡-Dspring.profiles.activeæ¥è®¾ç½®è¿è¡Œæ—¶çš„active profileçš„åŠŸèƒ½ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¹Ÿè®¸ä¼šä¸å°å¿ƒå¿˜è®°è®¾ç½®è¿™ä¸ªå˜é‡ï¼Œè¿™æ ·åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ä¼šå¸¦æ¥ä¸€å®šçš„å›°æ‰°ï¼Œæ‰€ä»¥æˆ‘æƒ³äº†ä¸€ä¸ªåŠžæ³•ï¼Œæ¥ç»™å¿˜è®°è®¾ç½®-Dspring.profiles.activeçš„ç¨‹åºå‘˜ä¸€æ¬¡â€œsecend chanceâ€ã€‚ å…ˆæ¥è®²ä¸€ä¸‹æ€è·¯ï¼š step0 çº¦å®šå¥½profilesçš„å‘½åï¼Œâ€œdevelopmentâ€ä»£è¡¨å¼€å‘çŽ¯å¢ƒ(ä¹Ÿå¯ä»¥å°†é»˜è®¤çš„profileè®¾ä¸ºå¼€å‘çŽ¯å¢ƒ)ï¼Œâ€œproductionâ€ä»£è¡¨ç”Ÿäº§çŽ¯å¢ƒ step1 åˆ¤æ–­æ˜¯å¦è®¾ç½®äº†-Dspring.profiles.activeï¼Œå¦‚æžœå·²ç»è®¾ç½®ï¼Œç›´æŽ¥è·³è½¬step3 step2 åˆ¤æ–­å½“å‰æ“ä½œç³»ç»ŸçŽ¯å¢ƒï¼Œå¦‚æžœä¸æ˜¯LinuxçŽ¯å¢ƒåˆ™è®¤å®šä¸ºå¼€å‘çŽ¯å¢ƒï¼Œè‡ªåŠ¨å€’è®¡æ—¶æ¿€æ´»å¼€å‘çš„profileï¼›å¦‚æžœæ˜¯LinuxçŽ¯å¢ƒåˆ™è®¤å®šä¸ºç”Ÿäº§çŽ¯å¢ƒï¼Œè¾“å‡ºé€‰æ‹©profileçš„æŽ§åˆ¶å°ä¿¡æ¯ï¼Œå¹¶ç­‰å¾…ç”¨æˆ·æŽ§åˆ¶å°è¾“å…¥è¿›è¡Œé€‰æ‹©ï¼Œå¹¶ä¾æ®ç”¨æˆ·é€‰æ‹©æ¥æ¿€æ´»profile step3 SpringApplication.run() ä»£ç å¦‚ä¸‹ï¼š spring-booté…ç½®æ–‡ä»¶(ä½¿ç”¨äº†é»˜è®¤profileä½œä¸ºå¼€å‘çŽ¯å¢ƒ)ï¼š 123456789101112131415161718192021222324252627282930313233spring: application: name: comchangyoueurekaserver #æ³¨æ„å‘½åè¦ç¬¦åˆRFC 2396ï¼Œå¦åˆ™ä¼šå½±å“æœåŠ¡å‘çŽ° è¯¦è§https://stackoverflow.com/questions/37062828/spring-cloud-brixton-rc2-eureka-feign-or-rest-template-configuration-not-worserver: port: 8001eureka: instance: hostname: localhost client: registerWithEureka: false fetchRegistry: false serviceUrl: defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;---spring: profiles: production application: name: comchangyoueurekaserverserver: port: 8001eureka: instance: hostname: localhost client: registerWithEureka: false fetchRegistry: false serviceUrl: defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125; BootStarterå°è£…äº†step1-step3çš„é€»è¾‘ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182import org.apache.commons.lang3.StringUtils;import java.util.Scanner;import java.util.Timer;import java.util.TimerTask;import java.util.regex.Pattern;public class BootStarter &#123; //ç”¨äºŽåŽç»­Spring Bootæ“ä½œçš„å›žè°ƒ public interface Callback &#123; void bootRun(); &#125; private boolean enableAutomaticallyStart = true; private int automaticallyStartDelay = 10; public boolean isEnableAutomaticallyStart() &#123; return enableAutomaticallyStart; &#125; public void setEnableAutomaticallyStart(boolean enableAutomaticallyStart) &#123; this.enableAutomaticallyStart = enableAutomaticallyStart; &#125; public int getAutomaticallyStartDelay() &#123; return automaticallyStartDelay; &#125; public void setAutomaticallyStartDelay(int automaticallyStartDelay) &#123; this.automaticallyStartDelay = automaticallyStartDelay; &#125; public void startup(boolean enableAutomaticallyStart, int automaticallyStartDelay, Callback callback) &#123; if (StringUtils.isBlank(System.getProperty(&quot;spring.profiles.active&quot;))) &#123; //å¦‚æžœæ²¡æœ‰é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®active profileåˆ™è®©ç”¨æˆ·åœ¨æŽ§åˆ¶å°è‡ªå·±é€‰æ‹© System.out.println(&quot;***Please choose active profile:***\n\tp: production\n\td: development&quot;); final boolean[] started = &#123;false&#125;; Timer timer = new Timer(); if (enableAutomaticallyStart &amp;&amp; System.getProperty(&quot;os.name&quot;).lastIndexOf(&quot;Linux&quot;) == -1) &#123; //å¦‚æžœå½“å‰æ“ä½œç³»ç»ŸçŽ¯å¢ƒä¸ºéžLinuxçŽ¯å¢ƒ(ä¸€èˆ¬ä¸ºå¼€å‘çŽ¯å¢ƒ)åˆ™automaticallyStartDelayç§’åŽè‡ªåŠ¨è®¾ç½®ä¸ºå¼€å‘çŽ¯å¢ƒ System.out.printf(&quot;\nSystem will automatically select &apos;d&apos; in %d seconds.\n&quot;, automaticallyStartDelay); final int[] count = &#123;automaticallyStartDelay&#125;; timer.scheduleAtFixedRate(new TimerTask() &#123; @Override public void run() &#123; if (count[0]-- == 0) &#123; timer.cancel(); started[0] = true; System.setProperty(&quot;spring.profiles.active&quot;, &quot;development&quot;); callback.bootRun(); &#125; &#125; &#125;, 0, 1000); &#125; Scanner scanner = new Scanner(System.in); Pattern pattern = Pattern.compile(&quot;^p|d$&quot;); //å¦‚æžœæ˜¯Linuxç³»ç»Ÿ(ä¸€èˆ¬ä¸ºç”Ÿäº§çŽ¯å¢ƒ)åˆ™å¼ºåˆ¶ç­‰å¾…ç”¨æˆ·è¾“å…¥(ä¸€èˆ¬æ˜¯å¿˜è®°è®¾ç½®spring.profiles.activeäº†ï¼Œè¿™ç­‰äºŽç»™äº†è®¾ç½®active profileçš„&quot;second chance&quot;) while (scanner.hasNextLine()) &#123; if (started[0]) &#123; break; &#125; String line = scanner.nextLine(); if (!pattern.matcher(line).find()) &#123; System.out.println(&quot;INVALID INPUT!&quot;); &#125; else &#123; timer.cancel(); System.setProperty(&quot;spring.profiles.active&quot;, line.equals(&quot;d&quot;) ? &quot;development&quot; : &quot;production&quot;); callback.bootRun(); break; &#125; &#125; &#125; else &#123; //å¦‚æžœå·²ç»é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®äº†active profileç›´æŽ¥å¯åŠ¨ callback.bootRun(); &#125; &#125; public void startup(Callback callback) &#123; startup(this.enableAutomaticallyStart, this.automaticallyStartDelay, callback); &#125;&#125; main()ï¼š 12345678910111213141516171819202122import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;import org.springframework.context.ApplicationContext;@EnableEurekaServer@SpringBootApplicationpublic class App &#123; private static final Logger LOGGER = LoggerFactory.getLogger(App.class); public static void main(String[] args) &#123; new BootStarter().startup(() -&gt; &#123; ApplicationContext applicationContext = SpringApplication.run(App.class, args); for (String activeProfile : applicationContext.getEnvironment().getActiveProfiles()) &#123; LOGGER.warn(&quot;***Running with profile: &#123;&#125;***&quot;, activeProfile); &#125; &#125;); &#125;&#125; è¿è¡Œæ•ˆæžœ(å¼€å‘çŽ¯å¢ƒMac OS)ï¼š æ‰©å±•ï¼šå…¶å®žåœ¨è¿™é‡Œæˆ‘ä»¬è¿˜å¯ä»¥å‘æ•£ä¸€ä¸‹æ€ç»´ï¼ŒåŸºäºŽspring-bootçš„åº”ç”¨æ¯”èµ·ä¼ ç»Ÿspringåº”ç”¨çš„ä¸€å¤§ä¼˜åŠ¿æ˜¯è‡ªå·±å¯ä»¥æŽŒæŽ§main()æ–¹æ³•ï¼Œæœ‰äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ˜¯èƒ½çŽ©å‡ºå¾ˆå¤šèŠ±æ ·æ¥çš„ï¼Œæ€è·¯ä¸è¦è¢«å±€é™åœ¨tomcatæ—¶ä»£äº†ã€‚ mainæ³•åœ¨æ‰‹ï¼Œå¤©ä¸‹æˆ‘æœ‰ã€‚ 2017-1-22æ›´æ–°ï¼šå¢žåŠ äº†çº¿ç¨‹å®‰å…¨çš„å¤„ç† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586import org.apache.commons.lang3.StringUtils;import java.util.Scanner;import java.util.Timer;import java.util.TimerTask;import java.util.regex.Pattern;public class BootStarter &#123; private volatile boolean started; //ç”¨äºŽåŽç»­Spring Bootæ“ä½œçš„å›žè°ƒ public interface Callback &#123; void bootRun(); &#125; private boolean enableAutomaticallyStart = true; private int automaticallyStartDelay = 3; public boolean isEnableAutomaticallyStart() &#123; return enableAutomaticallyStart; &#125; public void setEnableAutomaticallyStart(boolean enableAutomaticallyStart) &#123; this.enableAutomaticallyStart = enableAutomaticallyStart; &#125; public int getAutomaticallyStartDelay() &#123; return automaticallyStartDelay; &#125; public void setAutomaticallyStartDelay(int automaticallyStartDelay) &#123; this.automaticallyStartDelay = automaticallyStartDelay; &#125; public void startup(boolean enableAutomaticallyStart, int automaticallyStartDelay, Callback callback) &#123; if (StringUtils.isBlank(System.getProperty(&quot;spring.profiles.active&quot;))) &#123; //å¦‚æžœæ²¡æœ‰é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®active profileåˆ™è®©ç”¨æˆ·åœ¨æŽ§åˆ¶å°è‡ªå·±é€‰æ‹© System.out.println(&quot;***Please choose active profile:***\n\tp: production\n\td: development&quot;); Timer timer = new Timer(); if (enableAutomaticallyStart &amp;&amp; System.getProperty(&quot;os.name&quot;).lastIndexOf(&quot;Linux&quot;) == -1) &#123; //å¦‚æžœå½“å‰æ“ä½œç³»ç»ŸçŽ¯å¢ƒä¸ºéžLinuxçŽ¯å¢ƒ(ä¸€èˆ¬ä¸ºå¼€å‘çŽ¯å¢ƒ)åˆ™automaticallyStartDelayç§’åŽè‡ªåŠ¨è®¾ç½®ä¸ºå¼€å‘çŽ¯å¢ƒ System.out.printf(&quot;\nSystem will automatically select &apos;d&apos; in %d seconds.\n&quot;, automaticallyStartDelay); timer.scheduleAtFixedRate(new TimerTask() &#123; private ThreadLocal&lt;Integer&gt; countDown = ThreadLocal.withInitial(() -&gt; automaticallyStartDelay); @Override public void run() &#123; if (countDown.get() == 0) &#123; timer.cancel(); started = true; System.setProperty(&quot;spring.profiles.active&quot;, &quot;development&quot;); callback.bootRun(); &#125; countDown.set(countDown.get() - 1); &#125; &#125;, 0, 1000); &#125; Scanner scanner = new Scanner(System.in); Pattern pattern = Pattern.compile(&quot;^p|d$&quot;); //å¦‚æžœæ˜¯Linuxç³»ç»Ÿ(ä¸€èˆ¬ä¸ºç”Ÿäº§çŽ¯å¢ƒ)åˆ™å¼ºåˆ¶ç­‰å¾…ç”¨æˆ·è¾“å…¥(ä¸€èˆ¬æ˜¯å¿˜è®°è®¾ç½®spring.profiles.activeäº†ï¼Œè¿™ç­‰äºŽç»™äº†è®¾ç½®active profileçš„&quot;second chance&quot;) while (scanner.hasNextLine()) &#123; if (started) &#123; break; &#125; String line = scanner.nextLine(); if (!pattern.matcher(line).find()) &#123; System.out.println(&quot;INVALID INPUT!&quot;); &#125; else &#123; timer.cancel(); System.setProperty(&quot;spring.profiles.active&quot;, line.equals(&quot;d&quot;) ? &quot;development&quot; : &quot;production&quot;); callback.bootRun(); break; &#125; &#125; &#125; else &#123; //å¦‚æžœå·²ç»é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®äº†active profileç›´æŽ¥å¯åŠ¨ callback.bootRun(); &#125; &#125; public void startup(Callback callback) &#123; startup(this.enableAutomaticallyStart, this.automaticallyStartDelay, callback); &#125;&#125; 2017-01-25æ›´æ–°ï¼š è¡¥ä¸Šäº† try-with-resource 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687import org.apache.commons.lang3.StringUtils;import java.util.Scanner;import java.util.Timer;import java.util.TimerTask;import java.util.regex.Pattern;public class BootStarter &#123; private volatile boolean started; //ç”¨äºŽåŽç»­Spring Bootæ“ä½œçš„å›žè°ƒ public interface Callback &#123; void bootRun(); &#125; private boolean enableAutomaticallyStart = true; private int automaticallyStartDelay = 3; public boolean isEnableAutomaticallyStart() &#123; return enableAutomaticallyStart; &#125; public void setEnableAutomaticallyStart(boolean enableAutomaticallyStart) &#123; this.enableAutomaticallyStart = enableAutomaticallyStart; &#125; public int getAutomaticallyStartDelay() &#123; return automaticallyStartDelay; &#125; public void setAutomaticallyStartDelay(int automaticallyStartDelay) &#123; this.automaticallyStartDelay = automaticallyStartDelay; &#125; public void startup(boolean enableAutomaticallyStart, int automaticallyStartDelay, Callback callback) &#123; if (StringUtils.isBlank(System.getProperty(&quot;spring.profiles.active&quot;))) &#123; //å¦‚æžœæ²¡æœ‰é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®active profileåˆ™è®©ç”¨æˆ·åœ¨æŽ§åˆ¶å°è‡ªå·±é€‰æ‹© System.out.println(&quot;***Please choose active profile:***\n\tp: production\n\td: development&quot;); Timer timer = new Timer(); if (enableAutomaticallyStart &amp;&amp; System.getProperty(&quot;os.name&quot;).lastIndexOf(&quot;Linux&quot;) == -1) &#123; //å¦‚æžœå½“å‰æ“ä½œç³»ç»ŸçŽ¯å¢ƒä¸ºéžLinuxçŽ¯å¢ƒ(ä¸€èˆ¬ä¸ºå¼€å‘çŽ¯å¢ƒ)åˆ™automaticallyStartDelayç§’åŽè‡ªåŠ¨è®¾ç½®ä¸ºå¼€å‘çŽ¯å¢ƒ System.out.printf(&quot;\nSystem will automatically select &apos;d&apos; in %d seconds.\n&quot;, automaticallyStartDelay); timer.scheduleAtFixedRate(new TimerTask() &#123; private ThreadLocal&lt;Integer&gt; countDown = ThreadLocal.withInitial(() -&gt; automaticallyStartDelay); @Override public void run() &#123; if (countDown.get() == 0) &#123; timer.cancel(); started = true; System.setProperty(&quot;spring.profiles.active&quot;, &quot;development&quot;); callback.bootRun(); &#125; countDown.set(countDown.get() - 1); &#125; &#125;, 0, 1000); &#125; try (Scanner scanner = new Scanner(System.in)) &#123; Pattern pattern = Pattern.compile(&quot;^p|d$&quot;); //å¦‚æžœæ˜¯Linuxç³»ç»Ÿ(ä¸€èˆ¬ä¸ºç”Ÿäº§çŽ¯å¢ƒ)åˆ™å¼ºåˆ¶ç­‰å¾…ç”¨æˆ·è¾“å…¥(ä¸€èˆ¬æ˜¯å¿˜è®°è®¾ç½®spring.profiles.activeäº†ï¼Œè¿™ç­‰äºŽç»™äº†è®¾ç½®active profileçš„&quot;second chance&quot;) while (scanner.hasNextLine()) &#123; if (started) &#123; break; &#125; String line = scanner.nextLine(); if (!pattern.matcher(line).find()) &#123; System.out.println(&quot;INVALID INPUT!&quot;); &#125; else &#123; timer.cancel(); System.setProperty(&quot;spring.profiles.active&quot;, line.equals(&quot;d&quot;) ? &quot;development&quot; : &quot;production&quot;); callback.bootRun(); break; &#125; &#125; &#125; &#125; else &#123; //å¦‚æžœå·²ç»é€šè¿‡å‚æ•°spring.profiles.activeè®¾ç½®äº†active profileç›´æŽ¥å¯åŠ¨ callback.bootRun(); &#125; &#125; public void startup(Callback callback) &#123; startup(this.enableAutomaticallyStart, this.automaticallyStartDelay, callback); &#125;&#125;]]></content>
      <tags>
        <tag>spring-boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ»‘åŠ¨çª—å£å¼åˆ†é¡µçš„å®žçŽ°]]></title>
    <url>%2F6d4ff8c1.html</url>
    <content type="text"><![CDATA[æˆ‘çš„ä¸€ä¸ªå·¥ç¨‹é‡Œéœ€è¦ç”¨åˆ°æ»‘åŠ¨çª—å£å¼åˆ†é¡µè¿™ä¸ªæ•ˆæžœï¼Œæˆ‘æ²¡æœ‰ç›´æŽ¥ä½¿ç”¨çŽ°æˆçš„åº“ï¼Œè€Œæ˜¯å°è¯•è‡ªå·±å®žçŽ°äº†ä¸€ä¸‹ï¼Œæˆ‘æŠŠå®žçŽ°çš„è¿‡ç¨‹å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹å§ï¼Œå¸Œæœ›èƒ½å¯¹éœ€è¦çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚å…ˆæ¥çœ‹è¦å®žçŽ°çš„æ•ˆæžœï¼š å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæ»‘åŠ¨çª—å£å¼çš„åˆ†é¡µè§£å†³äº†åˆ†é¡µç´¢å¼•è¿‡å¤šæ—¶æ˜¾ç¤ºè¿‡é•¿çš„é—®é¢˜ï¼Œä¸­é—´éƒ¨åˆ†çš„ç´¢å¼•è¶…è¿‡äº†ç´¢å¼•â€œçª—å£â€çš„å¤§å°æ—¶ï¼Œåˆ™ä¼šä»¥çœç•¥å·æ¥æ›¿ä»£ç´¢å¼•å€¼ï¼Œä»Žè€Œè¾¾åˆ°å‡å°‘ç´¢å¼•æ˜¾ç¤ºé•¿åº¦çš„ç›®çš„ï¼›å¹¶ä¸”ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œéšç€ç”¨æˆ·çš„ç‚¹å‡»ï¼Œä¸­é—´çš„ç´¢å¼•çª—å£æ˜¯ä¼šç§»åŠ¨çš„ï¼›å¦å¤–ï¼Œå¯¹äºŽåˆ†é¡µç´¢å¼•å¼€å¤´å’Œç»“å°¾å¤„ï¼Œæ»‘åŠ¨çª—å£æ˜¯éœ€è¦ç‰¹æ®Šå¤„ç†çš„ã€‚ä¸‹é¢æ˜¯æˆ‘å…·ä½“çš„åˆ†æžè¿‡ç¨‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//æ¡ä»¶ä¸€ï¼šæ— è®ºçª—å£æ€Žä¹ˆç§»åŠ¨ï¼Œç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªæ— è®ºå¦‚ä½•éƒ½éœ€è¦æ˜¾ç¤º 1 100//çª—å£èµ·å§‹ä½ç½®=å½“å‰number-1,çª—å£æœ«å°¾ä½ç½®=(çª—å£èµ·å§‹ä½ç½®+çª—å£å¤§å°)-1 å¦‚æžœå½“å‰number-1=0åˆ™çª—å£èµ·å§‹ä½ç½®=number å¦‚æžœå½“å‰number+1&gt;å½“å‰æ•°åˆ—æœ€åŽä¸€ä¸ªå€¼(ä¹Ÿå°±æ˜¯ç­‰äºŽå½“å‰æ•°åˆ—çš„size)åˆ™çª—å£æœ«å°¾=å½“å‰æ•°åˆ—çš„size çª—å£èµ·å§‹=(çª—å£æœ«å°¾ä½ç½®-çª—å£é•¿åº¦)+1//æ¡ä»¶äºŒï¼šå¦‚æžœæ•´ä¸ªæ•°åˆ—ä¸­åªæœ‰0ä¸ªæˆ–1ä¸ª&apos;...&apos;åˆ™ä¸‹ä¸€è½®éœ€è¦removeæ“ä½œï¼Œè€Œå¦‚æžœæ•°åˆ—ä¸­æœ‰2ä¸ª&apos;...&apos;åˆ™æ— éœ€removeåªéœ€è¦çª—å£ä¸­æ‰€æœ‰æ•°+1æˆ–-1å³å¯(è¿™é‡Œçš„removeæ˜¯é€»è¾‘ä¸Šçš„ï¼Œå®žé™…æ“ä½œå°±æ˜¯splice)//æ¡ä»¶ä¸‰ï¼šå¦‚æžœçª—å£çš„èµ·å§‹ä½ç½®çš„å€¼=1æˆ–=2 åˆ™removeçª—å£å·¦ä¾§çš„&apos;...&apos;(å…¶å®žä¹Ÿå°±æ˜¯removeæ•°åˆ—ä¸­ç¬¬ä¸€ä¸ª&apos;...&apos;)//æ¡ä»¶å››ï¼šå¦‚æžœçª—å£çš„ç»“å°¾ä½ç½®=æ•°åˆ—æœ€åŽä¸€ä¸ªå€¼æˆ–=æ•°åˆ—æœ€åŽä¸€ä¸ªå€¼-1 åˆ™removeçª—å£å³ä¾§çš„&apos;...&apos;(å…¶å®žä¹Ÿå°±æ˜¯removeæ•°åˆ—ä¸­ç¬¬äºŒä¸ª&apos;...&apos;)//è®¾å®šçª—å£å¤§å°ä¸º3var windowSize = 3;//å‘å³ç§»åŠ¨çš„æƒ…å†µ//å½“å‰åˆå§‹å€¼:var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100];//â†“//â†“ è¾“å…¥å‚æ•°(inputNumber)ä¸º1 çª—å£ä½ç½®(windowStart-windowEnd)ä¸º1-3 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰0ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶1 removeé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªä»¥å¤–çš„çª—å£ä»¥å¤–çš„æ‰€æœ‰å€¼å¹¶å‘çª—å£æœ«å°¾å’Œæ•°åˆ—æœ«å°¾ä¹‹é—´å¡«å……ä¸€ä¸ª&quot;...&quot;//â†“var numberWindow1 = [1, 2, 3, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º2 çª—å£ä½ç½®(windowStart-windowEnd)ä¸º1-3 æ²¡æœ‰åˆ°è¾¾çª—å£æœ«å°¾ä¸ç”¨å³ç§» çŽ°åœ¨æ•°åˆ—ä¸­æœ‰1ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶1 removeé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªä»¥å¤–çš„çª—å£ä»¥å¤–çš„æ‰€æœ‰å€¼å¹¶å‘çª—å£æœ«å°¾å’Œæ•°åˆ—æœ«å°¾ä¹‹é—´å¡«å……ä¸€ä¸ª&quot;...&quot;//â†“var numberWindow2 = [1, 2, 3, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º3 çª—å£ä½ç½®(windowStart-windowEnd)ä¸º1-3 å·²åˆ°è¾¾çª—å£æœ«å°¾ çª—å£å³ç§»1ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ + 1) æ–°çš„çª—å£ä½ç½®ä¸º2-4 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰1ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶ä¸€ removeé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªä»¥å¤–çš„çª—å£ä»¥å¤–çš„æ‰€æœ‰å€¼å¹¶å‘çª—å£æœ«å°¾å’Œæ•°åˆ—æœ«å°¾ä¹‹é—´å¡«å……ä¸€ä¸ª&quot;...&quot;//â†“var numberWindow3 = [1, 2, 3, 4, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º4 çª—å£ä½ç½®(windowStart-windowEnd)ä¸º2-4 å·²åˆ°è¾¾çª—å£æœ«å°¾ çª—å£å³ç§»1ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ + 1) æ–°çš„çª—å£ä½ç½®ä¸º3-5 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰1ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶ä¸€ removeé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªä»¥å¤–çš„çª—å£ä»¥å¤–çš„æ‰€æœ‰å€¼å¹¶å‘çª—å£æœ«å°¾å’Œæ•°åˆ—æœ«å°¾ä¹‹é—´å¡«å……ä¸€ä¸ª&quot;...&quot;//â†“var numberWindow4 = [1, &apos;...&apos;, 3, 4, 5, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º5 çª—å£ä½ç½®(windowStart-windowEnd)ä¸º3-5 å·²åˆ°è¾¾çª—å£æœ«å°¾ çª—å£å³ç§»1ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ + 1) æ–°çš„çª—å£ä½ç½®ä¸º4-6 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰2ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶äºŒ æ— éœ€remove//â†“var numberWindow5 = [1, &apos;...&apos;, 4, 5, 6, &apos;...&apos;, 100];//å‘å·¦ç§»åŠ¨çš„æƒ…å†µ//çŽ°åœ¨çš„æ•°åˆ—:var numberWindow6 = [1, &apos;...&apos;, 4, 5, 6, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º4 å·²åˆ°è¾¾çª—å£èµ·å§‹ çª—å£å·¦ç§»ä¸€ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ - 1) æ–°çš„çª—å£ä½ç½®ä¸º3-5 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰2ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶äºŒ æ— éœ€remove//â†“var numberWindow7 = [1, &apos;...&apos;, 3, 4, 5, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º3 å·²åˆ°è¾¾çª—å£èµ·å§‹ çª—å£å·¦ç§»ä¸€ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ - 1) æ–°çš„çª—å£ä½ç½®ä¸º2-4 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰2ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶äºŒ æ— éœ€remove æ»¡è¶³æ¡ä»¶ä¸‰ removeæ•°åˆ—ä¸­ç¬¬ä¸€ä¸ª&apos;...&apos;//â†“var numberWindow8 = [1, 2, 3, 4, &apos;...&apos;, 100];//â†“//â†“ å½“å‰ç‚¹å‡»(inputNumber)ä¸º2 å·²åˆ°è¾¾çª—å£èµ·å§‹ çª—å£å·¦ç§»ä¸€ä½(å…¶å®žå°±æ˜¯çª—å£ä¸­æ‰€æœ‰å€¼ - 1) æ–°çš„çª—å£ä½ç½®ä¸º1-3 çŽ°åœ¨æ•°åˆ—ä¸­æœ‰1ä¸ª&apos;...&apos;æ»¡è¶³æ¡ä»¶äºŒ removeé™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åŽä¸€ä¸ªä»¥å¤–çš„çª—å£ä»¥å¤–çš„æ‰€æœ‰å€¼å¹¶å‘çª—å£èµ·å§‹å’Œæ•°åˆ—èµ·å§‹ä¹‹é—´å¡«å……ä¸€ä¸ª&quot;...&quot; æ»¡è¶³æ¡ä»¶ä¸‰ removeæ•°åˆ—ä¸­ç¬¬ä¸€ä¸ª&apos;...&apos;//â†“var numberWindow9 = [1, 2, 3, &apos;...&apos;, 100]; ä¸Šè¾¹çš„åˆ†æžè¿‡ç¨‹æ˜¯æˆ‘æƒ³é€šè¿‡å‰ç«¯å®žçŽ°æ—¶è¿›è¡Œçš„åˆ†æžè¿‡ç¨‹ï¼ŒåŽæ¥æ„Ÿè§‰å®žçŽ°èµ·æ¥ä¼šå¾ˆç¹çï¼Œè¦è€ƒè™‘å¾ˆå¤šç»†èŠ‚ï¼Œç„¶åŽæˆ‘æƒ³äº†æƒ³ï¼Œè¦åœ¨åŽç«¯å®žçŽ°ï¼Œä¼šç®€å•å¾ˆå¤šï¼ŒæŠŠè¿™äº›åˆ†é¡µç´¢å¼•çœ‹åšæ•°æ®ä»ŽåŽç«¯æš´éœ²æŽ¥å£ï¼Œç„¶åŽå‰ç«¯æ¨¡æ¿å¾ªçŽ¯è¾“å‡ºå°±å¥½äº†ï¼Œè¿™æ ·åœ¨é€»è¾‘ä¸Šæ¯”è¾ƒç®€å•ã€‚æ€è·¯æœ‰äº†ï¼Œæ¥çœ‹å…·ä½“å®žçŽ°å§ï¼š åŽç«¯å®šä¹‰ä¸€ä¸ªè¾“å‡ºåˆ†é¡µåˆ—è¡¨ä¿¡æ¯å’Œåˆ†é¡µç´¢å¼•ä¿¡æ¯çš„VOï¼ˆåŸºæœ¬ä¸Šæ˜¯ä»Žspring-dataä¸­æ‘˜å‡ºæ¥çš„ï¼ŒgetPageNumbers()è¿™ä¸ªæ˜¯æˆ‘è‡ªå·±åŠ çš„ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110import java.util.LinkedList;import java.util.List;public class JsonPage&lt;T&gt; &#123; private long totalElements; private int number; private int size; private List&lt;T&gt; content = new LinkedList&lt;&gt;(); private static final int PAGE_NUMBERS_WINDOW_SIZE = 3; //åˆ†é¡µç´¢å¼•åˆ—è¡¨çª—å£å¤§å°(åªèƒ½ä¸ºå¥‡æ•°ï¼Œå¦åˆ™ä¸‹é¢æ–¹æ³•ä¸­è®¡ç®—çª—å£åŠé•¿ä¼šæ—¶ä¼šå¼•èµ·è¿·æƒ‘) public long getTotalElements() &#123; return totalElements; &#125; public int getNumber() &#123; return number; &#125; public int getSize() &#123; return size; &#125; public List&lt;T&gt; getContent() &#123; return content; &#125; public int getTotalPages() &#123; return getSize() == 0 ? 1 : (int) Math.ceil((double) totalElements / (double) getSize()); &#125; //è®¡ç®—çª—å£åŒ–åˆ†é¡µåˆ—è¡¨ public List&lt;Object&gt; getPageNumbers() &#123; List&lt;Object&gt; pageNumbers = new LinkedList&lt;&gt;(); for (int i = 0; i &lt; getTotalPages(); i++) &#123; //æ³¨æ„è¿™é‡Œä¸ºäº†é€»è¾‘æ¸…æ™° pageIndexes æ˜¯0 baseçš„ pageNumbers.add(i); &#125; //æ˜¯å¦è¾¾åˆ°äº†çª—å£åŒ–çš„æ¡ä»¶ if (pageNumbers.size() &lt;= PAGE_NUMBERS_WINDOW_SIZE) return pageNumbers; //ä¸æ»¡è¶³çª—å£åŒ–æ¡ä»¶ç›´æŽ¥è¿”å›žåŽŸæ•°åˆ— // æ³¨æ„number(å½“å‰æ˜¯ç¬¬å‡ é¡µ)æ˜¯0 baseçš„ // çª—å£èµ·å§‹ä½ç½® = number - çª—å£åŠé•¿ (çª—å£åŠé•¿ = (PAGE_NUMBERS_WINDOW_SIZE - 1) / 2) // çª—å£æœ«å°¾ä½ç½® = number + çª—å£åŠé•¿ // å¦‚æžœ number - çª—å£åŠé•¿ &lt;= 0 åˆ™ çª—å£èµ·å§‹ä½ç½® = 0 // å¦‚æžœ number + çª—å£åŠé•¿ &gt;= æ•°åˆ—æœ«å°¾å€¼ åˆ™ çª—å£æœ«å°¾ä½å€¼ = æ•°åˆ—æœ«å°¾å€¼ int pageNumbersStartPosition = 0; //æ•°åˆ—èµ·å§‹(æ³¨æ„æ˜¯ç´¢å¼•ä¸æ˜¯å…ƒç´ ï¼Œå½“ç„¶å¦‚æžœæ˜¯0 baseçš„è¯ç´¢å¼•å’Œå…ƒç´ æ˜¯å€¼ç›¸åŒçš„) int pageNumbersEndPosition = pageNumbers.size() - 1; //æ•°åˆ—æœ«å°¾ int windowHalfSize = (PAGE_NUMBERS_WINDOW_SIZE - 1) / 2; int windowStartPosition = number - windowHalfSize &lt;= pageNumbersStartPosition ? pageNumbersStartPosition : number - windowHalfSize; int windowEndPosition = number + windowHalfSize &gt;= pageNumbersEndPosition ? pageNumbersEndPosition : number + windowHalfSize; //remove é™¤äº† çª—å£ä¸­å…ƒç´ ã€æ•°åˆ—é¦–ã€å°¾å…ƒç´  ä»¥å¤–çš„æ‰€æœ‰å…ƒç´ (ä¹Ÿå°±æ˜¯ä»Ž æ•°åˆ—èµ·å§‹ + 1 åˆ° çª—å£èµ·å§‹ - 1 ä»¥åŠ çª—å£æœ«å°¾ + 1 åˆ° æ•°åˆ—æœ«å°¾ - 1 çš„æ‰€æœ‰å…ƒç´ )ï¼Œå¹¶åœ¨çª—å£ä¸¤è¾¹å¡«è¡¥&quot;...&quot; List&lt;Object&gt; removeElementLeft = new LinkedList&lt;&gt;(), removeElementRight = new LinkedList&lt;&gt;(); if ((windowStartPosition - 1) - (pageNumbersStartPosition + 1) &gt;= 1) //å¦‚æžœ ä»Ž æ•°åˆ—èµ·å§‹ + 1 åˆ° çª—å£èµ·å§‹ - 1 ä¹‹é—´æœ‰å…ƒç´  removeElementLeft.addAll(pageNumbers.subList(1, windowStartPosition)); //æ³¨æ„sublist(from, to)æ˜¯ä¸åŒ…å«toçš„ï¼Œæƒ³è¦è¿žtoä¸€èµ·çš„è¯éœ€è¦sublist(from, to + 1) if ((pageNumbersEndPosition - 1) - (windowEndPosition + 1) &gt;= 1) //å¦‚æžœ ä»Žçª—å£æœ«å°¾ + 1 åˆ° æ•°åˆ—æœ«å°¾ - 1 ä¹‹é—´æœ‰å…ƒç´  removeElementRight.addAll(pageNumbers.subList(windowEndPosition + 1, pageNumbersEndPosition)); if (removeElementLeft.size() != 0) &#123; pageNumbers.removeAll(removeElementLeft); pageNumbers.add(pageNumbersStartPosition + 1, &quot;...&quot;); // è™½ç„¶åœ¨removeåŽpageNumbersçš„å¤§å°å·²ç»å˜åŒ–äº†ï¼Œä½†æ˜¯pageNumbersEndPositionæ˜¯ä¸å˜çš„ï¼Œè¿™ä¸€ç‚¹ä¸ŽpageNumbersEndPositionä¸åŒ &#125; if (removeElementRight.size() != 0) &#123; pageNumbers.removeAll(removeElementRight); pageNumbers.add(pageNumbers.size() - 1, &quot;...&quot;); //æ³¨æ„ åœ¨removeåŽpageNumbersçš„å¤§å°å·²ç»å˜åŒ–äº†å°±ä¸èƒ½ç”¨åŽŸæ¥çš„pageNumbersEndPositionäº† ï¼›add(index, element) ä¸­ indexæŒ‡çš„æ˜¯æ’å…¥å‰çš„ï¼Œæ’å…¥åŽæ•´ä¸ªsizeä¼š+1 &#125; return pageNumbers; &#125; public boolean hasPrevious() &#123; return getNumber() &gt; 0; &#125; public boolean hasNext() &#123; return getNumber() + 1 &lt; getTotalPages(); &#125; public boolean isFirst() &#123; return !hasPrevious(); &#125; public boolean isLast() &#123; return !hasNext(); &#125; public boolean hasContent() &#123; return !content.isEmpty(); &#125; public void setTotalElements(long totalElements) &#123; this.totalElements = totalElements; &#125; public void setNumber(int number) &#123; this.number = number; &#125; public void setSize(int size) &#123; this.size = size; &#125; public void setContent(List&lt;T&gt; content) &#123; this.content = content; &#125;&#125; å‰ç«¯ç”¨handlebarså¾ªçŽ¯è¾“å‡ºå°±å¥½äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940&lt;div class=&quot;page-box&quot;&gt; &#123;&#123;#if (-gt? totalPages 1)&#125;&#125; &#123;&#123;#if first&#125;&#125; &lt;a class=&quot;page-btn1 page-item&quot; disabled=&quot;disabled&quot; href=&quot;javascript:&quot; data-page=&quot;&#123;&#123;n-subtract number 1&#125;&#125;&quot;&gt; &lt;span&gt;&lt;i class=&quot;iconfont icon-zuoyouqiehuan-&quot;&gt;&lt;/i&gt;&lt;/span&gt; ä¸Šä¸€é¡µ &lt;/a&gt; &#123;&#123;else&#125;&#125; &lt;a class=&quot;page-btn1 page-item&quot; href=&quot;javascript:&quot; data-page=&quot;&#123;&#123;n-subtract number 1&#125;&#125;&quot;&gt; &lt;span&gt;&lt;i class=&quot;iconfont icon-zuoyouqiehuan-&quot;&gt;&lt;/i&gt;&lt;/span&gt; ä¸Šä¸€é¡µ &lt;/a&gt; &#123;&#123;/if&#125;&#125; &#123;&#123;#each pageNumbers&#125;&#125; &#123;&#123;#if (-equal? this ../number)&#125;&#125; &lt;a href=&quot;javascript:&quot; class=&quot;cur&quot; data-page=&quot;&#123;&#123;this&#125;&#125;&quot;&gt;&#123;&#123;n-add this 1&#125;&#125;&lt;/a&gt; &#123;&#123;else&#125;&#125; &#123;&#123;#if (-equal? this &apos;...&apos;)&#125;&#125; &lt;i class=&quot;iconfont icon-hengsangedian&quot;&gt;&lt;/i&gt; &#123;&#123;else&#125;&#125; &lt;a class=&quot;page-item&quot; href=&quot;javascript:&quot; data-page=&quot;&#123;&#123;this&#125;&#125;&quot;&gt;&#123;&#123;n-add this 1&#125;&#125;&lt;/a&gt; &#123;&#123;/if&#125;&#125; &#123;&#123;/if&#125;&#125; &#123;&#123;/each&#125;&#125; &#123;&#123;#if last&#125;&#125; &lt;a class=&quot;page-btn2 page-item&quot; disabled=&quot;disabled&quot; href=&quot;javascript:&quot; data-page=&quot;&#123;&#123;n-add number 1&#125;&#125;&quot;&gt; ä¸‹ä¸€é¡µ &lt;span&gt;&lt;i class=&quot;iconfont icon-zuoyouqiehuan-&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;/a&gt; &#123;&#123;else&#125;&#125; &lt;a class=&quot;page-btn2 page-item&quot; href=&quot;javascript:&quot; data-page=&quot;&#123;&#123;n-add number 1&#125;&#125;&quot;&gt; ä¸‹ä¸€é¡µ &lt;span&gt;&lt;i class=&quot;iconfont icon-zuoyouqiehuan-&quot;&gt;&lt;/i&gt;&lt;/span&gt; &lt;/a&gt; &#123;&#123;/if&#125;&#125; &#123;&#123;/if&#125;&#125;&lt;/div&gt; è¿™æ ·å®žçŽ°èµ·æ¥ç®€å•äº†å¾ˆå¤šã€‚]]></content>
      <tags>
        <tag>åˆ†é¡µ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»Žä»Šå¤©çš„æ–°å‘˜å·¥åŸ¹è®­ä¸­å­¦åˆ°çš„æŠ€æœ¯ä¹‹å¤–çš„æŠ€èƒ½]]></title>
    <url>%2F6d6043cc.html</url>
    <content type="text"><![CDATA[ä»Šå¤©ä¸ŠåˆåŽ»å‚åŠ äº†æ–°å‘˜å·¥åŸ¹è®­ï¼Œæœ¬ä»¥ä¸ºæ–°å‘˜å·¥åŸ¹è®­æ˜¯ä¸Šæ¥HRè®²ä¸€å¤§å †PPTï¼Œæ²¡æƒ³åˆ°åŽ»äº†ä»¥åŽæ˜¯HRå¸¦ç€å¤§å®¶åšæ´»åŠ¨ï¼Œåˆ†å°ç»„è®©æ¯ä¸ªäººè‡ªå·±ç”»ä¸€å¼ ç”»æ¥ä½œè‡ªæˆ‘ä»‹ç»ï¼Œç”»ä¸Šè‡ªå·±æ˜¯è°ã€ä»€ä¹ˆå²—ä½ã€æ¥è‡ªå“ªé‡Œã€æ“…é•¿ä»€ä¹ˆã€ä¸æ“…é•¿ä»€ä¹ˆã€å®³æ€•ä»€ä¹ˆï¼Œè®©åŽç…§ç€ç”»æ¥ä»‹ç»ã€‚æ„Ÿè§‰æŒºå¥½çŽ©ï¼Œåƒè¿›äº†å¹¼å„¿å›­ä¸€æ ·ã€‚ã€‚ã€‚ä¸è¿‡æˆ‘æ„Ÿè§‰é€šè¿‡è¿™æ¬¡åŸ¹è®­è¿˜æ˜¯å­¦äº†ç‚¹æŠ€èƒ½çš„ï¼Œèµ·ç ä»¥åŽä¸ç”¨å†ä¸ºæ€Žä¹ˆè‡ªæˆ‘ä»‹ç»çŠ¯æ„äº†ï¼Œå¯ä»¥åƒHRç»™çš„æ–¹æ³•é‚£æ ·ï¼Œç”»å‡ºä¸ªå¤§çº²ï¼Œç…§ç€å¤§çº²èµ°å°±å¯ä»¥äº†ï¼Œå…¶å®žç­‰äºŽæ˜¯ä¸ªå›¾å½¢ç‰ˆçš„æ€ç»´å¯¼å›¾ï¼Œæ„Ÿè§‰HRè¿˜æ˜¯å¾ˆæœ‰ä¸€å¥—æ–¹æ³•çš„ã€‚]]></content>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•é€šè¿‡åå°„èŽ·å¾—æ–¹æ³•çš„çœŸå®žå‚æ•°åï¼ˆä»¥åŠæ‰©å±•ç ”ç©¶ï¼‰]]></title>
    <url>%2Fafedab58.html</url>
    <content type="text"><![CDATA[å‰æ®µæ—¶é—´ï¼Œåœ¨åšä¸€ä¸ªå°çš„å·¥ç¨‹æ—¶ï¼Œé‡åˆ°äº†éœ€è¦é€šè¿‡åå°„èŽ·å¾—æ–¹æ³•çœŸå®žå‚æ•°åçš„åœºæ™¯ï¼Œåœ¨è¿™é‡Œæˆ‘é‡åˆ°äº†ä¸€äº›å°å°çš„é—®é¢˜ï¼ŒåŽæ¥åœ¨éƒ¨é—¨è€å¤§çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé™„å¸¦ç€æˆ‘äº†è§£åˆ°äº†å¾ˆå¤šæ–°çš„çŸ¥è¯†ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å’Œå¤§å®¶åˆ†äº«äº¤æµä¸€ä¸‹ã€‚ å’±ä»¬å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªå°çš„demoï¼š è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„å°demoï¼Œé‡Œé¢å°±æ˜¯ä¸€ä¸ªç®€ç®€å•å•çš„ç±»Test1ï¼ŒTest1æœ‰ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå‚æ•°çš„æ–¹æ³•testï¼Œåœ¨Test1çš„mainæ–¹æ³•ä¸­é€šè¿‡å°„æ¥èŽ·å¾—testæ–¹æ³•çš„æ‰€æœ‰å‚æ•°çš„åå­—ï¼Œå¹¶å°†å…¶è¾“å‡ºåˆ°æ ‡å‡†æµã€‚æˆ‘æœ¬ä»¥ä¸ºè¿™ä¸ªdemoçš„è¿è¡Œç»“æžœä¼šå¾—åˆ°æ–¹æ³•çš„å‚æ•°åï¼Œç»“æžœï¼š æƒŠä¸æƒŠå–œï¼Œæ„ä¸æ„å¤–ï¼Ÿå’Œè¯´å¥½çš„ä¸ä¸€æ ·å•Šï¼ å’±ä»¬å…ˆåœä¸€ä¸‹ï¼Œå…ˆæŠŠä¸ºä»€ä¹ˆåå°„æ²¡æœ‰æ‹¿åˆ°æ­£ç¡®çš„å€¼æ”¾åˆ°ä¸€è¾¹ï¼Œå…ˆè¯´è¯´æˆ‘ä¸ºä»€ä¹ˆè¦ç ”ç©¶â€œé€šè¿‡åå°„åŽŸç†èŽ·å¾—æ–¹æ³•å‚æ•°çš„å®žé™…åç§°â€è¿™ä»¶äº‹å‘¢ï¼šæ˜¯å› ä¸ºæˆ‘æƒ³ä»¿ç…§å¹¶å®žçŽ°Spring MVCä¸­çš„â€œè‡ªåŠ¨ç»‘å®šâ€åŠŸèƒ½ã€‚å¤§å®¶çŸ¥é“Spring MVCé‡Œæœ‰ä¸€ä¸ªâ€œè‡ªåŠ¨ç»‘å®šâ€çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç»‘å®šè¯·æ±‚å‚æ•°çš„å€¼åˆ°@RequestMappingæ–¹æ³•çš„å‚æ•°ä¸Šçš„ï¼Œè€Œä¸ç”¨ä»»ä½•é¢å¤–çš„æ“ä½œã€‚ è¿™ä¸ªåŠŸèƒ½æˆ‘è§‰å¾—å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥æˆ‘æƒ³å°è¯•è‡ªå·±ä»¿é€ è¿™ä¸ªåŠŸèƒ½ï¼Œç„¶åŽç”¨åœ¨å…¬å¸çš„é¡¹ç›®å¼€å‘ä¸­ã€‚æˆ‘çŒœæµ‹Springæ˜¯é€šè¿‡åå°„èŽ·å¾—æ–¹æ³•çš„å‚æ•°ååŽæ ¹æ®å‚æ•°ååˆ°requestä¸­getParam(String name)æ¥èŽ·å¾—å®žé™…çš„å€¼ç„¶åŽç»‘å®šçš„ã€‚å› æ­¤æˆ‘å°±å°è¯•ç€æŒ‰ç…§è¿™ä¸ªæ€è·¯åšï¼Œç»“æžœå°±é‡åˆ°äº†ä¸Šè¾¹æåˆ°çš„åå°„èŽ·å¾—ä¸äº†å‚æ•°å®žé™…åç§°çš„é—®é¢˜ã€‚æˆ‘å°†è¿™ä¸ªé—®é¢˜è¯·æ•™äº†è€å¤§ï¼Œè€å¤§äº†è§£åˆ°æˆ‘çš„æ„å›¾åŽï¼Œç»è¿‡éªŒè¯ï¼Œå¾—å‡ºç»“è®ºï¼šSpring MVCèƒ½ä¸èƒ½æ­£å¸¸ä½¿ç”¨è‡ªåŠ¨ç»‘å®šæ˜¯ä¸Žjavaç¼–è¯‘å™¨ç¼–è¯‘æ—¶åŠ ä¸åŠ -gå‚æ•°æœ‰å…³çš„ï¼Œè€Œè¿™ä¸ª-gå‚æ•°æ˜¯ä»£è¡¨ç€javaç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ˜¯å¦ä¼šè¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚ å…¶å®žä¹Ÿå°±æ˜¯è¯´ï¼šSpringæ˜¯é€šè¿‡è¯»å–javaç¼–è¯‘å™¨ç”Ÿæˆçš„è°ƒè¯•ä¿¡æ¯ä»Žè€ŒèŽ·å¾—çš„æ–¹æ³•ä¸­å‚æ•°çš„çœŸå®žåç§°çš„ã€‚è¯´åˆ°è¿™é‡Œï¼Œè¿™ä¸ªé—®é¢˜åŸºæœ¬ä¹Ÿè§£å†³äº†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³å†å¤šè¯´ä¸€ç‚¹æˆ‘åŽç»­çš„å­¦ä¹ ç»“æžœã€‚åŽç»­æˆ‘ç ”ç©¶äº†ä¸€ä¸‹Springå¯¹äºŽæ–¹æ³•å‚æ•°è¿™å—çš„å¤„ç†é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯å¯¹äºŽâ€œè‡ªåŠ¨ç»‘å®šâ€åŠŸèƒ½çš„åº•å±‚çš„å®žçŽ°ã€‚ é‚£ä¹ˆï¼ŒSpring åˆ°åº•æ˜¯ç”¨äº†ä»€ä¹ˆâ€œé»‘ç§‘æŠ€â€æ¥åšåˆ°èŽ·å¾—æ–¹æ³•å®žé™…å‚æ•°åçš„å‘¢ï¼Œå’±ä»¬ä¸å¦¨å°±çœ‹Springçš„æºç å§ï¼Œçœ‹çœ‹Springåˆ°åº•æ˜¯å¦‚ä½•å®žçŽ°çš„ã€‚ Springæµ·é‡çš„æºä»£ç ï¼Œä»Žä½•çœ‹èµ·å‘¢ï¼Œè¿™é‡Œï¼Œæˆ‘æ˜¯è¿™æ ·è§£å†³çš„ï¼šæˆ‘å¤§ä½“çŸ¥é“è¿™ä¸ªèŽ·å¾—æ–¹æ³•å®žé™…å‚æ•°åçš„æ“ä½œåº”å½“å’ŒMethodçš„getParameters()æ–¹æ³•æœ‰å…³ï¼Œæˆ–è€…è¯´å®ƒçš„æ–¹æ³•é‡Œæˆ–è®¸ä¼šè°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ideaæä¾›çš„â€œæŸ¥çœ‹è°ƒç”¨æ ˆâ€çš„åŠŸèƒ½ï¼Œæ¥é¡ºè—¤æ‘¸ç“œï¼Œçœ‹çœ‹åœ¨Springä¸­æœ‰æ²¡æœ‰è°ƒç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æžœæœ‰ï¼Œé‚£ä¹ˆè§£å†³æ–¹æ¡ˆåº”å½“å°±åœ¨è°ƒç”¨æ–¹æ³•çš„é™„è¿‘ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæžœä¸å…¶ç„¶ï¼Œåœ¨è°ƒç”¨æ ˆé‡Œå°±æœ‰org.springåŒ…ä¸­çš„æ–¹æ³•ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯StandardReflectionParameterNameDiscovererç±»çš„æ–¹æ³•ï¼Œå…¶å®žæˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†ï¼Œçœ‹è¿™ä¸ªç±»çš„åå­—å°±èƒ½çŸ¥é“ï¼Œå®ƒæ˜¯å¤„ç†ParameterNameçš„Discovererçš„ï¼ˆåœ¨è¿™é‡Œæˆ‘æƒ³å†è¯´ç‚¹é¢˜å¤–è¯ï¼Œæˆ‘ä¸ªäººéžå¸¸èµžåŒSpringè¿™ç§å…¨å‘½åçš„ç¼–ç é£Žæ ¼ï¼Œçœ‹åˆ°å‘½åå°±èƒ½çœ‹æ˜Žç™½è¿™ä¸ªç±»æ˜¯åœ¨å¹²ä»€ä¹ˆï¼Œæ‰€ä»¥è¯´ä»£ç åº”å½“æ˜¯èƒ½â€œè‡ªæè¿°â€çš„ï¼‰ å¥½ï¼Œæˆ‘ä»¬å†å›žåˆ°ä»£ç ä¸­æ¥ï¼Œç»§ç»­çœ‹è¿™ä¸ªç±»ï¼šå‘çŽ°å®ƒæœ‰ä¸€æ®µç®€è¦çš„æ³¨é‡Šï¼š å¤§æ„å°±æ˜¯è¿™ä¸ªç±»æ˜¯é’ˆå¯¹ä½¿ç”¨äº†JDK8åŸºäºŽ-parametersç¼–è¯‘å‚æ•°çš„ParameterNameDiscovererçš„å®žçŽ°ï¼Œè¿™é‡Œè¿™ä¸ª-parameterså‚æ•°æ˜¯æ€Žä¹ˆå›žäº‹å’±ä»¬å…ˆæ”¾ä¸€è¾¹ï¼Œç»§ç»­å‘ä¸Šçœ‹StandardReflectionParameterNameDiscovereræ‰€å®žçŽ°çš„è¿™ä¸ªæŽ¥å£ParameterNameDiscovererï¼Œæ‰“å¼€ParameterNameDiscovererè¿™ä¸ªæŽ¥å£ï¼Œæˆ‘ä»¬ç”¨ideaçš„æŸ¥çœ‹å­ç±»çš„åŠŸèƒ½ï¼Œèƒ½å¤Ÿçœ‹åˆ°å®ƒä¸€å…±æœ‰åŒ…æ‹¬StandardReflectionParameterNameDiscovereråœ¨å†…çš„8ä¸ªå­ç±» å…¶ä¸­æœ‰ä¸€ä¸ªåå­—é‡Œå¸¦â€œDefaultâ€çš„å­ç±»DefaultParameterNameDiscovererï¼ŒæŒ‰ç…§ä¸€èˆ¬å¥—è·¯æ¥è¯´ï¼Œå¸¦Defaultçš„éƒ½æ˜¯é»˜è®¤çš„å®žçŽ°ï¼Œé‚£ä¹ˆå¥½äº†æˆ‘ä»¬ä¼˜å…ˆçœ‹å®ƒå§ã€‚ æ‰“å¼€DefaultParameterNameDiscovererï¼Œæˆ‘ä»¬å‘çŽ°ï¼Œä»–åšçš„å¤§ä½“å°±æ˜¯é€šè¿‡åˆ¤æ–­standardReflectionAvailableè¿™ä¸ªå€¼æ¥èµ°å‘ä¸åŒåˆ†æ”¯æµç¨‹ï¼šä¸€ä¸ªæ˜¯èµ°å‘åˆšæ‰æåˆ°çš„åˆ©ç”¨JDK8ç¼–è¯‘å‚æ•°çš„StandardReflectionParameterNameDiscovererå¦ä¸€ä¸ªæ˜¯èµ°å‘äº†LocalVariableTableParameterNameDiscoverer å¥½ï¼ŒçŽ°åœ¨åˆå‡ºçŽ°äº†ç†Ÿæ‚‰çš„StandardReflectionParameterNameDiscovereräº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿”å›žåŽ»çœ‹å§ï¼Œä¸€ä¼šå†çœ‹å¦ä¸€ä¸ªåˆ†æ”¯çš„LocalVariableTableParameterNameDiscovererã€‚ æˆ‘ä»¬å›žåˆ°StandardReflectionParameterNameDiscovererä¸­ï¼Œå†æ¥çœ‹åˆšæ‰é‚£ä¸ª-parametersç¼–è¯‘å‚æ•°ï¼Œè¿™æ˜¯ä¸ªä»€ä¹ˆé»‘ç§‘æŠ€ï¼Ÿæ—¢ç„¶ä»–æ˜¯ä¸ªç¼–è¯‘å‚æ•°ï¼Œé‚£ä¹ˆå’±ä»¬ä¸å¦¨è¯•ç€ç”¨å®ƒç¼–è¯‘ä¸€ä¸‹å’±ä»¬çš„ä»£ç è¯•ä¸€ä¸‹å§ã€‚ æˆ‘ä»¬å°†ideaè®¾ç½®ä¸Š-parametersç¼–è¯‘å‚æ•°ä»Žæ–°è¿è¡Œåˆšæ‰çš„demoï¼Œå‘çŽ°è¿™å›žçš„è¾“å‡ºç»“æžœæ˜¯ï¼š å·²ç»èƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„çœŸå®žåç§°äº†ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ª-parametersåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼šæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€ä¸‹oracleå®˜æ–¹æä¾›çš„javacæ–‡æ¡£ï¼š é€šè¿‡æ–‡æ¡£å¯ä»¥çœ‹å‡ºåŠ ä¸Šè¿™ä¸ªå‚æ•°åŽï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆå…ƒæ•°æ®ï¼Œä»Žè€Œä½¿æ–¹æ³•å‚æ•°çš„åå°„èƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„ä¿¡æ¯ã€‚è¿™ä¸ªåŠŸèƒ½æ˜¯jdk8çš„æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±ä¸ä»”ç»†å±•å¼€äº†ï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹è¿™ä¸¤ç¯‡æ–‡æ¡£ï¼šJDK 8 Features JEP 118: Access to Parameter Names at Runtime -parametersè¿™ä¸ªé»‘ç§‘æŠ€å’±ä»¬å·²ç»äº†è§£äº†ï¼Œåˆ©ç”¨è¿™ä¸ªç¼–è¯‘å‚æ•°æ˜¯å¯ä»¥èŽ·å¾—æ–¹æ³•å‚æ•°çš„çœŸå®žåç§°çš„ï¼Œä½†æ˜¯è¿™ä¸ªå‚æ•°æ˜¯jdk8ä¹‹åŽæ‰æœ‰çš„ï¼Œé‚£ä¹ˆä¹‹å‰çš„ç‰ˆæœ¬å¦‚ä½•èŽ·å¾—å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­çœ‹Springæºä»£ç å§ã€‚çŽ°åœ¨æˆ‘ä»¬æ¥çœ‹å¦ä¸€ä¸ªåˆ†æ”¯ï¼šLocalVariableTableParameterNameDiscovererï¼Œæ‰“å¼€è¿™ä¸ªç±»ï¼š å…¶å®žçœ‹æ³¨é‡Šå°±æ˜Žç™½äº†ï¼Œè¿™ä¸ªLocalVariableTableParameterNameDiscovereræ˜¯é€šè¿‡ASM libraryåˆ†æžLocalVariableTableæ¥å®žçŽ°èŽ·å¾—å‚æ•°å®žé™…åç§°çš„ï¼ŒASMæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„å­—èŠ‚ç æ“çºµåº“ï¼Œç”¨è¿™ä¸ªåº“å¯ä»¥è¯»å–å†™å…¥classæ–‡ä»¶ï¼Œè¿™ä¸ªåº“æœ‰å¾ˆå¹¿æ³›çš„åº”ç”¨ï¼Œå…·ä½“çš„æˆ‘ä¸å±•å¼€ä»‹ç»äº†ã€‚ æˆ‘ä»¬é‡ç‚¹è¯´ä¸€ä¸‹è¿™ä¸ªLocalVariableTableå§ï¼Œè¿™ä¸ªLocalVariableTableæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ä¸ç”¨æ–‡å­—æ¥è¯´æ˜Žäº†ï¼Œç›´æŽ¥æ¥çœ‹ä»£ç å§ï¼šæˆ‘ä»¬è¿™æ¬¡ä¸çœ‹æºæ–‡ä»¶äº†ï¼Œæ¥ç›´æŽ¥çœ‹ç¼–è¯‘åŽçš„classæ–‡ä»¶ã€‚ç”¨ideaæ‰“å¼€Test1.classï¼š ç„¶åŽåœ¨Viewèœå•ä¸­ç‚¹é€‰Show Bytecodeï¼š åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œideaä»¥å¤§çº²çš„æ–¹å¼æŠŠclassæ–‡ä»¶çš„ä¿¡æ¯åˆ—äº†å‡ºæ¥ï¼Œè€Œåœ¨å…¶ä¸­å°±æœ‰LocalVariableTableå­˜åœ¨ï¼Œè€Œä¸”åœ¨â€œLocalVariableTableâ€é™„è¿‘æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®šä¹‰æ–¹æ³•çš„å‚æ•°çš„çœŸå®žåç§°ã€‚çŽ°åœ¨æˆ‘ä»¬ä¹Ÿå°±æ˜Žç™½äº†ï¼Œå¯¹äºŽ8ä»¥ä¸‹çš„jdkç¼–è¯‘çŽ¯å¢ƒï¼ŒSpringæ˜¯ä½¿ç”¨ASMæ¥è¯»å–classæ–‡ä»¶ä¸­LocalVariableTableä¿¡æ¯ä»Žè€ŒèŽ·å¾—å‚æ•°çœŸå®žåç§°çš„ã€‚åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬äº†è§£äº†Springä¸­è‡ªåŠ¨ç»‘å®šèƒŒåŽçš„é»‘ç§‘æŠ€äº†ã€‚ è¿™é‡Œæˆ‘è¿˜æƒ³ç»§ç»­å†å¤šè¯´ä¸€ç‚¹ï¼Œæœ‰å…³LocalVariableTableå’ŒJava classæ–‡ä»¶ï¼šclassæ–‡ä»¶å¯ä»¥è¯´æ˜¯Javaå®žçŽ°è·¨å¹³å°ç‰¹æ€§çš„æ ¹æœ¬ï¼ä¸ç®¡åœ¨ä»€ä¹ˆå¹³å°ä¸‹ï¼Œåªè¦ç¼–è¯‘å‡ºæ¥çš„classæ–‡ä»¶ç¬¦åˆè§„èŒƒï¼Œè™šæ‹Ÿæœºå°±èƒ½å¤Ÿæ­£å¸¸çš„æ‰§è¡Œã€‚äº†è§£ä¸€ä¸‹classæ–‡ä»¶çš„ç›¸å…³çŸ¥è¯†å…¶å®žå¯¹äºŽç†è§£å„ç±»classæ–‡ä»¶æ“çºµåº“ä»¥åŠåŸºäºŽclassæ“çºµçš„AOPç­‰ç­‰ç¼–ç¨‹æ¨¡å¼çš„åŽŸç†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥äº†è§£ä¸€ä¸‹classæ–‡ä»¶æ˜¯ä»€ä¹ˆæ ·çš„ç»“æž„çš„ã€‚æƒ³è¦äº†è§£classæ–‡ä»¶çš„ç»“æž„ï¼Œæœ€æƒå¨çš„èŽ«è¿‡äºŽå®˜æ–¹çš„ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒäº†ã€‹ï¼Œåœ¨Javaè™šæ‹Ÿæœºè§„èŒƒä¸­ï¼Œç¬¬å››ç« æ˜¯æœ‰å…³classæ–‡ä»¶ç»“æž„çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´è¿‡ä¸€éã€‚é€šè¿‡é˜…è¯»ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´äº†è§£åˆ°classçš„ç»“æž„ï¼š A class file consists of a stream of 8-bit bytes. All 16-bit, 32-bit, and 64-bitquantities are constructed by reading in two, four, and eight consecutive 8-bitbytes, respectively. Multibyte data items are always stored in big-endian order,where the high bytes come first. In the Java SE platform, this format is supportedby interfaces java.io.DataInput and java.io.DataOutput and classes such asjava.io.DataInputStream and java.io.DataOutputStream. classæ–‡ä»¶å¯ä»¥ç”¨ä¸€ä¸ªç»“æž„æ¥è¡¨ç¤ºï¼š è¿™ä¸ªç»“æž„ä¸­æ¯ä¸€é¡¹å¤§è‡´çš„å«ä¹‰æˆ‘ä»¬æ¥ç®€å•è¯´æ˜Žä¸€ä¸‹å§ï¼ˆè¯¦æƒ…è¯·æŸ¥çœ‹è™šæ‹Ÿæœºè§„èŒƒï¼‰ï¼š å¼€å¤´çš„magic u4å«åšâ€œé­”æ•°â€ï¼ŒJavaè™šæ‹Ÿå™¨é€šè¿‡è¯»å–è¿™ä¸ªæ•°æ¥åˆ¤æ–­å½“å‰æ–‡ä»¶æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„u4ä»£è¡¨å®ƒæ˜¯æ— ç¬¦å·çš„4ä¸ªbyteï¼Œè¿™ä¸ªæ•°å§‹ç»ˆåº”è¯¥æ˜¯0xCAFEBABEï¼› minor_versionã€major_versionåˆ†åˆ«æ˜¯classæ–‡ä»¶çš„æ¬¡ç‰ˆæœ¬å’Œä¸»ç‰ˆæœ¬ï¼› u2 constant_pool_count ã€cp_info constant_pool[constant_pool_count-1]ä»£è¡¨å¸¸é‡æ± ä¸­é¡¹ç›®æ•°å’Œä»£è¡¨äº†å¸¸é‡æ± æœ¬èº«ï¼› u2 access_flags : ä»£è¡¨classè®¿é—®æ ‡è®°ï¼Œä¾‹å¦‚ï¼špublic protectedï¼› u2 this_class : ä»£è¡¨æ”¾ç½®ç±»ååœ¨å¸¸é‡æ± ä¸­çš„ç´¢å¼•ï¼› u2 super_class : ä»£è¡¨çˆ¶ç±»åç§°åœ¨å¸¸é‡æ± ä¸­çš„ç´¢å¼•ï¼› u2 interfaces_count; u2 interfaces[interfaces_count]; ä»£è¡¨æ‰€å®žçŽ°çš„æŽ¥å£é›†åˆçš„å¤§å°ï¼ŒåŠæŽ¥å£é›†åˆæœ¬èº«ï¼› u2 fields_count; field_info fields[fields_count]; ä»£è¡¨å±žæ€§é›†åˆå¤§å°ä»¥åŠå±žæ€§é›†åˆæœ¬èº«ï¼› u2 methods_count; method_info methods[methods_count]; ä»£è¡¨æ–¹æ³•é›†åˆå¤§å°ä»¥åŠæ–¹æ³•é›†åˆæœ¬èº«ï¼› u2 attributes_count; attribute_info attributes[attributes_count]; java classæ–‡ä»¶å†…éƒ¨å±žæ€§ä¿¡æ¯é›†åˆå¤§å°å’Œå†…éƒ¨å±žæ€§ä¿¡æ¯é›†åˆæœ¬èº«ã€‚è¿™é‡Œæä¸€ä¸‹ï¼Œæˆ‘ä»¬å‰é¢çš„æåˆ°çš„LocalVariableTableçš„ä¿¡æ¯å°±å­˜å‚¨åœ¨è¿™é‡Œã€‚ åˆ°äº†è¿™é‡Œæˆ‘ä»¬å¤§è‡´å›žé¡¾ä¸€ä¸‹å§ï¼Œæˆ‘ä»¬ä»Žå°è¯•è§£å†³åå°„èŽ·å¾—æ–¹æ³•å‚æ•°çœŸå®žåç§°å¼€å§‹ï¼Œäº†è§£äº†Javaç¼–è¯‘å‚æ•°ã€Springè‡ªåŠ¨ç»‘å®šç›¸å…³å¤„ç†åŽŸç†ã€jdk8ç¼–è¯‘å‚æ•°æ–°ç‰¹æ€§ã€ä»¥åŠJava classæ–‡ä»¶çš„ç»“æž„ã€‚é€šè¿‡è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œå°±ä¸€ä¸ªâ€œè‡ªåŠ¨ç»‘å®šâ€è¿™ä¸ªå¹³å¸¸éƒ½æ„Ÿè§‰ä¸åˆ°å®ƒå­˜åœ¨çš„å°åŠŸèƒ½èƒŒåŽï¼Œè¿˜æœ‰è¿™èŽ«å¤šæ·±å±‚æ¬¡çš„æŠ€æœ¯åœ¨é‡Œé¢ï¼Œç”±æ­¤å¯è§ï¼ŒSpringä¹‹æ‰€ä»¥å¦‚æ­¤å¼ºå¤§è€Œä¸”æ˜“ç”¨ï¼Œç¦»ä¸å¼€å„ç±»åº•å±‚æŠ€æœ¯çš„æ”¯æŒï¼Œè¿™å°±è®©æˆ‘æƒ³èµ·ä»¥å‰çœ‹åˆ°è¿‡çš„ä¸€ä½æŠ€æœ¯åšä¸»çš„æ ‡è¯­ï¼šâ€œåªæœ‰æ·±å…¥ï¼Œæ–¹èƒ½æµ…å‡ºâ€ï¼Œæƒ³æƒ³ç¡®å®žæ˜¯è¿™ä¸ªé“ç†ã€‚ æ³¨ï¼šåœ¨ç ”ç©¶è¿‡ç¨‹ä¸­æˆ‘å‚è€ƒä»¥ä¸‹å‡ ä½çš„æ–‡ç« ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ï¼š åå°„èŽ·å–ä¸€ä¸ªæ–¹æ³•ä¸­çš„å‚æ•°åï¼ˆä¸æ˜¯ç±»åž‹ï¼‰ Java è¿è¡Œæ—¶èŽ·å–æ–¹æ³•å‚æ•°å java Classæ–‡ä»¶å†…éƒ¨ç»“æž„è§£æž æ·±å…¥ç†è§£JVM : classæ–‡ä»¶ç»“æž„ä¹‹å¸¸é‡æ± (1) æ·±å…¥ç†è§£JVM : classæ–‡ä»¶ç»“æž„ä¹‹ç±»ä¿¡æ¯æè¿°ã€å­—æ®µè¡¨ã€æ–¹æ³•è¡¨(2) è§¦æ‘¸javaå¸¸é‡æ±  å®žçŽ°ä¸€ä¸ªJava Classè§£æžå™¨çš„å®žåŠ›ä»£ç åˆ†äº« Java class file Tutorial: Java Class file format, revealedâ€¦ The Java Class File Format The Java class file lifestyle An introduction to the basic structure and lifestyle of the Java class file]]></content>
      <tags>
        <tag>åå°„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤šæ¬¡å­—ç¬¦ä¸²ç›¸åŠ ä¸€å®šè¦ç”¨StringBuilderè€Œä¸ç”¨ + å—ï¼Ÿ]]></title>
    <url>%2Fc45b5759.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨å†™ä¸€ä¸ªè¯»å–Java class Fileå¹¶è¿›è¡Œåˆ†æžçš„Demoæ—¶ï¼Œå¶ç„¶å‘çŽ°äº†ä¸‹é¢è¿™ä¸ªåœºæ™¯(åŸºäºŽoracle jdk 1.8.0_144)ï¼š 12345678910package test;public class Test8 &#123; String s1 = &quot;111&quot;, s2 = &quot;222&quot;, s3 = &quot;333&quot;, s4 = &quot;444&quot;; public String test() &#123; return s1 + s2 + s3 + s4 + &quot;5555&quot; + &quot;66666666666666666666666666&quot; + &quot;777&quot; + new String(&quot;æµ‹è¯•æµ‹è¯•&quot;) + String.valueOf(&quot;test test&quot;) + &quot;é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²é•¿å­—ç¬¦ä¸²&quot;; &#125;&#125; è¿™æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç±»ï¼Œåªå®Œæˆäº†å­—ç¬¦ä¸²çš„ + æ“ä½œï¼Œæˆ‘ä»¬æŸ¥çœ‹å¯¹åº”ç”Ÿæˆçš„classæ–‡ä»¶çš„outlineï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182// class version 52.0 (52)// access flags 0x21public class test/Test8 &#123; // compiled from: Test8.java // access flags 0x0 Ljava/lang/String; s1 // access flags 0x0 Ljava/lang/String; s2 // access flags 0x0 Ljava/lang/String; s3 // access flags 0x0 Ljava/lang/String; s4 // access flags 0x1 public &lt;init&gt;()V L0 LINENUMBER 3 L0 ALOAD 0 INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V L1 LINENUMBER 5 L1 ALOAD 0 LDC &quot;111&quot; PUTFIELD test/Test8.s1 : Ljava/lang/String; ALOAD 0 LDC &quot;222&quot; PUTFIELD test/Test8.s2 : Ljava/lang/String; ALOAD 0 LDC &quot;333&quot; PUTFIELD test/Test8.s3 : Ljava/lang/String; ALOAD 0 LDC &quot;444&quot; PUTFIELD test/Test8.s4 : Ljava/lang/String; RETURN L2 LOCALVARIABLE this Ltest/Test8; L0 L2 0 MAXSTACK = 2 MAXLOCALS = 1 // access flags 0x1 public test()Ljava/lang/String; L0 LINENUMBER 8 L0 NEW java/lang/StringBuilder DUP INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt; ()V ALOAD 0 GETFIELD test/Test8.s1 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; ALOAD 0 GETFIELD test/Test8.s2 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; ALOAD 0 GETFIELD test/Test8.s3 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; ALOAD 0 GETFIELD test/Test8.s4 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; LDC &quot;555566666666666666666666666666777&quot; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; NEW java/lang/String DUP LDC &quot;\u6d4b\u8bd5\u6d4b\u8bd5&quot; INVOKESPECIAL java/lang/String.&lt;init&gt; (Ljava/lang/String;)V INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; LDC &quot;test test&quot; INVOKESTATIC java/lang/String.valueOf (Ljava/lang/Object;)Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; LDC &quot;\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32\u957f\u5b57\u7b26\u4e32&quot; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; INVOKEVIRTUAL java/lang/StringBuilder.toString ()Ljava/lang/String; ARETURN L1 LOCALVARIABLE this Ltest/Test8; L0 L1 0 MAXSTACK = 4 MAXLOCALS = 1&#125; è¯·æ³¨æ„è¿™æ®µï¼š 1234567891011// access flags 0x1 public test()Ljava/lang/String; L0 LINENUMBER 8 L0 NEW java/lang/StringBuilder DUP INVOKESPECIAL java/lang/StringBuilder.&lt;init&gt; ()V ALOAD 0 GETFIELD test/Test8.s1 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; ALOAD 0 æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå³ä¾¿æˆ‘ä»¬æ²¡æœ‰æ˜¾å¼çš„ä½¿ç”¨StringBuilderï¼Œå®žé™…ä¸Šç¼–è¯‘å™¨ä¹Ÿä¼šéšå¼çš„å°†æˆ‘ä»¬çš„ + è¿ç®—ç¬¦ä¼˜åŒ–ä¸ºStringBuilderçš„append()æ“ä½œï¼›å¦å¤–ï¼Œå…¶ä¸­å­—ç¬¦ä¸²å¸¸é‡çš„ç›¸åŠ è¿™é‡Œï¼Œä¹Ÿå°±æ˜¯ &quot;5555&quot; + &quot;66666666666666666666666666&quot; + &quot;777&quot; è¿™é‡Œå¯¹åº”çš„æ“ä½œæ˜¯ï¼š 123GETFIELD test/Test8.s4 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; LDC &quot;555566666666666666666666666666777&quot; ç›´æŽ¥è¢«åˆå¹¶åœ¨äº†ä¸€æ¬¡(å…·ä½“è¿™æ˜¯ä»€ä¹ˆæ“ä½œæˆ‘ä¸æ˜¯å¾ˆæ˜Žç™½) è¿™æ—¶å€™æˆ‘å°±æƒ³èµ·æ¥ï¼ŒåŽŸæ¥ä¸€ç›´è¢«æ•™å¯¼çš„â€œå­—ç¬¦ä¸²ç›¸åŠ ä¸€å®šè¦ç”¨StringBuilderè€Œä¸è¦ç”¨ + â€çœŸçš„æ­£ç¡®å—ï¼Ÿè¿™ä¸ªå€¼å¾—æ·±æ€ã€‚ 2017-01-22æ›´æ–°ï¼š 123GETFIELD test/Test8.s4 : Ljava/lang/String; INVOKEVIRTUAL java/lang/StringBuilder.append (Ljava/lang/String;)Ljava/lang/StringBuilder; LDC &quot;555566666666666666666666666666777&quot; ç›´æŽ¥è¢«åˆå¹¶åœ¨äº†ä¸€æ¬¡(å…·ä½“è¿™æ˜¯ä»€ä¹ˆæ“ä½œæˆ‘ä¸æ˜¯å¾ˆæ˜Žç™½) è¿™é‡Œå¯èƒ½æ˜¯ç¼–è¯‘å™¨åšäº†â€œå…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤â€è¿™ä¸ªä¼˜åŒ–æ“ä½œ 2017-01-25æ›´æ–°ï¼š åœ¨å¾ªçŽ¯+=çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šåšä¼˜åŒ–å·¥ä½œçš„ï¼Œä½†æ˜¯IDEä»ç„¶ä¼šç»™å‡ºè­¦å‘Šï¼Œä¸çŸ¥é“ç¼–è¯‘å™¨çš„ä¼˜åŒ–æ˜¯å¦åœ¨æ‰€æœ‰æƒ…å†µä¸‹å‡ä¼šè§¦å‘ï¼ˆæœ‰å¾…ç»§ç»­å­¦ä¹ ï¼‰ 12345678public static void main(String[] args) &#123; String s = &quot;&quot;; for (int i = 0; i &lt; 10000; i++) &#123; int int_ = new Random().nextInt(); s += int_; &#125; System.out.println(s);&#125;]]></content>
      <tags>
        <tag>JVM</tag>
        <tag>ç¼–è¯‘åŽŸç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ†äº«ä¸€ä¸‹æˆ‘åœ¨Windowså¹³å°ä¸‹çš„ä¸€äº›ä½¿ç”¨ä¹ æƒ¯]]></title>
    <url>%2Ff6e0adc6.html</url>
    <content type="text"><![CDATA[å›žæƒ³è¿™åå‡ å¹´ä½¿ç”¨PCçš„ç»åŽ†å½“ä¸­ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨å’ŒWindowså¹³å°æ‰“äº¤é“ï¼Œåœ¨åå‡ å¹´çš„ä½¿ç”¨å½“ä¸­ï¼Œä¹Ÿé€æ¸å½¢æˆäº†ä¸€äº›è‡ªå·±çš„ä½¿ç”¨ä¹ æƒ¯å’Œç»éªŒï¼Œæ‹¿å‡ºæ¥åˆ†äº«ä¸€ä¸‹å§ï¼Œä¹Ÿè®¸å¤§å®¶ä¹Ÿæœ‰å„è‡ªçš„ä¹ æƒ¯ä¸Žç»éªŒä¹Ÿä¸å¦¨åˆ†äº«å‡ºæ¥ã€‚ â€œæ¡Œé¢â€å°±è¦æ¥å½“æ¡Œé¢æ¥ç”¨æˆ‘ä¸ªäººæœ‰ä¸ªä¹ æƒ¯ï¼Œæˆ‘çš„æ¡Œé¢ä¸Šåªä¿ç•™â€œå›žæ”¶ç«™â€ä¸€ä¸ªå¸¸é©»çš„å›¾æ ‡ï¼Œä¸é•¿æ—¶é—´æ”¾ä»»ä½•å…¶ä»–å›¾æ ‡(åŒ…æ‹¬â€œæˆ‘çš„ç”µè„‘â€ï¼Œç­‰ï¼Œä»¥åŠå„ç±»å¿«æ·æ–¹å¼)ã€‚æˆ‘ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿæ—¢ç„¶å¾®è½¯æŠŠæ¡Œé¢(desktop)å‘½åä¸ºâ€œæ¡Œé¢â€é‚£ä¹ˆæˆ‘æƒ³å¾®è½¯çš„æ„å›¾å°±æ˜¯æƒ³è®©æˆ‘ä»¬æŠŠå®ƒå½“åšä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ç†æ¡Œé¢ä¸€æ ·æ¥ä½¿ç”¨ã€‚å¹³å¸¸åœ¨ç‰©ç†æ¡Œé¢ä¸Šæˆ‘å°±ä¸ä¼šæ‘†æ”¾ä»»ä½•ç”¨ä¸åˆ°çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¿™ä¸ªä¹ æƒ¯æˆ‘ä¹ŸæŠŠå®ƒå¸¦åˆ°äº†äºŒç»´ç©ºé—´é‡Œäº†ã€‚æˆ‘è™½ç„¶ä¸ä¼šåœ¨æ¡Œé¢ä¸Šæ‘†æ”¾å¿«æ·æ–¹å¼ï¼Œä½†æ˜¯æˆ‘ä¼šæŠŠæœ€è¿‘æ‰‹å¤´ä¸Šéœ€è¦ç”¨åˆ°çš„æ–‡ä»¶ä¸´æ—¶æ”¾åˆ°ä¸Šè¾¹ï¼Œç­‰ä¸éœ€è¦çš„æ—¶å€™æˆ‘å°±ä¼šæŠŠå®ƒæ‹½åˆ°å›žæ”¶ç«™é‡Œï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘ä¸ºä»€ä¿ç•™å›žæ”¶ç«™åœ¨æ¡Œé¢å³ä¸‹è§’çš„éƒ¨åˆ†åŽŸå› ï¼‰ï¼Œè¯´åˆ°è¿™é‡Œæˆ‘è§‰å¾—æœ‰å¿…è¦æä¸€ä¸‹â€œå¿«æ·æ–¹å¼â€è¿™ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªä¸œè¥¿ç»è¥å¥½äº†æ˜¯ä¼šå¿«æ·ä¾¿åˆ©ï¼Œä½†æ˜¯ä¸æ³¨æ„ç»è¥ç»´æŠ¤ï¼ˆæ¯”å¦‚å®‰è£…å„ç±»ç¨‹åºä¸€èˆ¬æœ€åŽæœ‰ä¸ªé€‰é¡¹â€œæ˜¯å¦ç”Ÿæˆæ¡Œé¢å¿«æ·æ–¹å¼â€ï¼Œä¸€èˆ¬é»˜è®¤éƒ½æ˜¯â€œæ˜¯â€ï¼‰æ¡Œé¢ä¸Šä¸€å¤§å †å¿«æ·æ–¹å¼åœ¨é‚£é‡Œï¼Œä½ çœŸçš„è§‰å¾—è¿™æ ·â€œå¿«æ·â€å—ï¼Ÿ å–„ç”¨ä»»åŠ¡æ ã€å¼€å§‹èœå•ä¸Šé¢æåˆ°äº†ï¼Œæˆ‘ä¸åœ¨æ¡Œé¢ä¸Šæ‘†æ”¾å¿«æ·æ–¹å¼ï¼Œé‚£ä¹ˆï¼Œæˆ‘æ€Žä¹ˆæ ·ä½¿ç”¨ä¸€äº›å¸¸ç”¨çš„è½¯ä»¶å‘¢ï¼Ÿæˆ‘æ˜¯ç”¨å¿«é€Ÿå¯åŠ¨æ å’Œâ€œå›ºå®šåˆ°å¼€å§‹èœå•â€æ¥å®žçŽ°çš„ï¼Œæˆ‘ä¼šæŠŠæœ€å¸¸ç”¨çš„è½¯ä»¶æ”¾å…¥å¿«é€Ÿå¯åŠ¨æ ï¼Œè€Œæ¬¡å¸¸ç”¨çš„å›ºå®šåˆ°å¼€å§‹èœå•ï¼ˆå°¤å…¶win10çš„å¼€å§‹èœå•ç›¸å½“é«˜æ•ˆï¼‰ï¼Œä¸å¸¸ç”¨çš„ï¼Œå°±åˆ°å®‰è£…æ—¶ç”Ÿæˆçš„èœå•é¡¹é‡Œæ‰¾å§ï¼Œåæ­£ç”¨å®ƒçš„å‡ çŽ‡å¾ˆä½Žï¼ŒçŽ°ç”¨çŽ°æ‰¾ã€‚å¯¹äºŽå¿«é€Ÿå¯åŠ¨æ ï¼Œæˆ‘åŒæ ·ä¸ä¼šåœ¨ä¸Šè¾¹æ”¾è¿‡å¤šçš„å¿«æ·æ–¹å¼ï¼Œå¦‚æžœè¿‡å¤šï¼Œé‚£å°±ä¸å«â€œå¿«é€Ÿâ€äº†ã€‚ å–„ç”¨æœç´¢æåˆ°æœç´¢å°±å¿…é¡»è¦æEverythingè¿™æ¬¾ç¥žå™¨ï¼Œä¸å¤šè¯´äº†ï¼Œè°ç”¨è°çŸ¥é“ï¼Œå¦å¤–win10ä¸­è‡ªå¸¦çš„æœç´¢å·²ç»å¾ˆå¥½ç”¨äº†ï¼Œå°¤å…¶è¿˜æœ‰ç§‘å¡”å¨œï¼Œé‚£ä¹ˆå°±å–„åŠ åˆ©ç”¨å§ã€‚ å–„ç”¨é»˜è®¤å€¼æˆ‘åœ¨Windowså¹³å°å®‰è£…è½¯ä»¶æ—¶ï¼Œæœ‰ä¸ªä¹ æƒ¯ï¼šä»Žä¸ä¸»åŠ¨æ”¹å˜è½¯ä»¶çš„å®‰è£…ä½ç½®ï¼ˆæ€»æ˜¯ä½¿ç”¨å®‰è£…ç¨‹åºæä¾›çš„é»˜è®¤å€¼ï¼‰ï¼Œé™¤éžä¸å¾—å·²ï¼Œä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿå¥—ç”¨å¼€å‘å½“ä¸­çš„ä¸€å¥è¯å§ï¼šâ€œçº¦å®šä¼˜å…ˆäºŽé…ç½®â€ã€‚ å°½é‡é¿å…å¯¹ç£ç›˜è¿›è¡Œåˆ†åŒºæˆ–å°‘åˆ†åŒºè®°å¾—æ—©äº›å¹´çš„æ—¶å€™ï¼Œéƒ½æµè¡Œä¸€ä¸Šæ¥å°±ç»™ç¡¬ç›˜åˆ†å‡ºä¸ªDã€Eã€Fã€Gã€Hæ¥ï¼Œä¸åˆ†ä¸èˆ’æœï¼Œä½†æ˜¯åŽæ¥ä¹°ç¬”è®°æœ¬çš„æ—¶å€™æˆ‘æƒŠå¥‡çš„å‘çŽ°åŽ‚å•†åªç»™äº†ä¸¤ä¸ªåŒºï¼ˆä¸€ä¸ªæžå¤§åœ°Cå’Œä¸€ä¸ªå¾ˆå°çš„Dï¼‰ï¼Œæœ‰çš„ç”šè‡³ä¸åˆ†åŒºï¼Œå…¶å®žæƒ³æƒ³ï¼Œè¿™æ ·åšæ‰æ˜¯å¯¹çš„ï¼Œè¦é‚£ä¹ˆå¤šåˆ†åŒºçš„æ„ä¹‰ä½•åœ¨ï¼Ÿå¦‚æžœæ˜¯ä¸€ä¸ªåˆ†åŒºçš„è¯å‰ªåˆ‡ç²˜è´´æ˜¯ç§’çš„ï¼Œè·¨åˆ†åŒºçš„è¯å°±ã€‚ã€‚ã€‚ï¼ˆå½“ç„¶ï¼ŒçŽ°åœ¨ä¸€èˆ¬éƒ½ä¸å†æ˜¯ä¸€å—ç¡¬ç›˜äº†ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯å›ºæ€+è‹¥å¹²æœºæ¢°äº†ï¼Œè¿™æ›´æ²¡å¿…è¦åˆ†åŒºäº†ï¼‰ã€‚ å–„ç”¨å³é”®èœå•å¾ˆå¤šè½¯ä»¶åœ¨å®‰è£…æ—¶ä¼šè¯¢é—®æ˜¯å¦æ·»åŠ å³é”®èœå•é¡¹ï¼Œä¸€èˆ¬æˆ‘ä¹ æƒ¯äºŽåªä¿ç•™å¿…è¦çš„å³é”®èœå•é¡¹ï¼Œä¸è¿‡å¤šå®‰è£…ï¼Œå¦å¤–WinRARæˆ–è€…BandZipéƒ½æ˜¯å¯ä»¥å±‚å å³é”®èœå•é¡¹çš„ï¼›è¿˜æœ‰ï¼Œæ“ä½œç³»ç»Ÿå…¶å®žè¿˜å†…ç½®äº†ä¸€ä¸ªéžå¸¸å®žç”¨çš„åŠŸèƒ½ï¼šå½“ä½ æŒ‰ä½shiftåœ¨æ–‡ä»¶å¤¹ä¸Šä½¿ç”¨å³é”®èœå•æ—¶ï¼Œä¼šå¤šå‡ºä¸€é¡¹â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£(W)â€ï¼Œè€Œåœ¨æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¸ŠæŒ‰ä½shiftæ‰“å¼€å³é”®èœå•æ—¶ä¼šå¤šå‡ºä¸€é¡¹â€œå¤åˆ¶ä¸ºè·¯å¾„(A)â€ï¼Œä¸ç”¨è¯´ä¹ŸçŸ¥é“ï¼Œè¿™ä¸ªåŠŸèƒ½å¯¹äºŽç¨‹åºå‘˜æ¥è¯´å¤ªå®žç”¨äº†ï¼Œä¸ç”¨cd Nå±‚è·¯å¾„äº†ã€‚]]></content>
      <tags>
        <tag>ç”Ÿæ´»</tag>
        <tag>æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºŽé¢è¯•é¢˜â€œArrayListå¾ªçŽ¯remove()è¦ç”¨Iteratorâ€çš„ç ”ç©¶]]></title>
    <url>%2F7c4f41d7.html</url>
    <content type="text"><![CDATA[ä¸¤ä¸ªæœˆå‰æˆ‘åœ¨å‚åŠ ä¸€åœºé¢è¯•çš„æ—¶å€™ï¼Œè¢«é—®åˆ°äº†ArrayListå¦‚ä½•å¾ªçŽ¯åˆ é™¤å…ƒç´ ï¼Œå½“æ—¶æˆ‘å›žç­”ç”¨Iterator,å½“é¢è¯•å®˜é—®ä¸ºä»€ä¹ˆè¦ç”¨Iteratorè€Œä¸ç”¨foreachæ—¶ï¼Œæˆ‘æ²¡æœ‰ç­”å‡ºæ¥ï¼Œå¦‚ä»Šåˆå›žæƒ³åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è§‰å¾—åº”è¯¥æŠŠå®ƒæžä¸€æžï¼Œæ‰€ä»¥æˆ‘å°±å†™äº†ä¸€ä¸ªå°çš„demoå¹¶ç»“åˆé˜…è¯»æºä»£ç æ¥éªŒè¯äº†ä¸€ä¸‹ã€‚ ä¸‹é¢æ˜¯æˆ‘éªŒè¯çš„ArrayListå¾ªçŽ¯remove()çš„4ç§æƒ…å†µ,ä»¥åŠå…¶ç»“æžœ(åŸºäºŽoracle jdk1.8)ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//List&lt;Integer&gt; list = new ArrayList&lt;&gt;();//list.add(1);//list.add(2);//list.add(3);//list.add(4);//å¾ªçŽ¯remove()çš„4ç§æƒ…å†µçš„ä»£ç ç‰‡æ®µï¼š//#1for (Integer integer : list) &#123; list.remove(integer);&#125;ç»“æžœï¼šException in thread &quot;main&quot; java.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901) at java.util.ArrayList$Itr.next(ArrayList.java:851)-----------------------------------------------------------------------------------//#2Iterator&lt;Integer&gt; iterator = list.iterator();while(iterator.hasNext()) &#123; Integer integer = iterator.next(); list.remove(integer);&#125;ç»“æžœï¼šException in thread &quot;main&quot; java.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901) at java.util.ArrayList$Itr.next(ArrayList.java:851)-----------------------------------------------------------------------------------//#3for (int i = 0; i &lt; list.size(); i++) &#123; list.remove(i);&#125;System.out.println(list);ç»“æžœï¼š[2, 4]-----------------------------------------------------------------------------------//#4Iterator&lt;Integer&gt; iterator = list.iterator();while (iterator.hasNext())&#123; iterator.next(); iterator.remove();&#125;System.out.println(list.size());ç»“æžœï¼š(å”¯ä¸€ä¸€ä¸ªå¾—åˆ°æœŸæœ›å€¼çš„)0 å¯ä»¥çœ‹å‡ºæ¥è¿™å‡ ç§æƒ…å†µåªæœ‰æœ€åŽä¸€ç§æ˜¯å¾—åˆ°é¢„æœŸç»“æžœçš„ï¼Œå…¶ä»–çš„è¦ä¹ˆå¼‚å¸¸è¦ä¹ˆå¾—ä¸åˆ°é¢„æœŸç»“æžœï¼Œä¸‹é¢å’±ä»¬ä¸€ä¸ªä¸€ä¸ªè¿›è¡Œåˆ†æžã€‚ #1123456789//#1for (Integer integer : list) &#123; list.remove(integer);&#125;ç»“æžœï¼šException in thread &quot;main&quot; java.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901) at java.util.ArrayList$Itr.next(ArrayList.java:851) é€šè¿‡å¼‚å¸¸æ ˆï¼Œæˆ‘ä»¬å¯ä»¥å®šä½æ˜¯åœ¨ArrayListçš„å†…éƒ¨ç±»Itrçš„checkForComodificationæ–¹æ³•ä¸­çˆ†å‡ºäº†ConcurrentModificationExceptionå¼‚å¸¸(å…³äºŽè¿™ä¸ªå¼‚å¸¸æ˜¯æ€Žä¹ˆå›žäº‹å’±ä»¬æš‚ä¸”ä¸æ)æˆ‘ä»¬æ‰“å¼€ArrayListçš„æºç ï¼Œå®šä½åˆ°901è¡Œå¤„ï¼š 1234final void checkForComodification() &#123; if (modCount != expectedModCount) throw new ConcurrentModificationException();&#125; è¿™ä¸ªçˆ†å‡ºå¼‚å¸¸çš„æ–¹æ³•å®žé™…ä¸Šå°±åšäº†ä¸€ä»¶äº‹ï¼Œæ£€æŸ¥modCount != expectedModCountå› ä¸ºæ»¡è¶³äº†è¿™ä¸ªæ¡ä»¶ï¼Œæ‰€ä»¥æŠ›å‡ºäº†å¼‚å¸¸ï¼Œç»§ç»­æŸ¥çœ‹modCountå’ŒexpectedModCountè¿™ä¸¤ä¸ªå˜é‡ï¼Œå‘çŽ°modCountæ˜¯ç»§æ‰¿è‡ªAbstractListçš„ä¸€ä¸ªå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§æœ‰ä¸€å¤§æ®µæ³¨é‡Š 123456789101112131415161718192021222324252627/** * The number of times this list has been &lt;i&gt;structurally modified&lt;/i&gt;. * Structural modifications are those that change the size of the * list, or otherwise perturb it in such a fashion that iterations in * progress may yield incorrect results. * * &lt;p&gt;This field is used by the iterator and list iterator implementation * returned by the &#123;@code iterator&#125; and &#123;@code listIterator&#125; methods. * If the value of this field changes unexpectedly, the iterator (or list * iterator) will throw a &#123;@code ConcurrentModificationException&#125; in * response to the &#123;@code next&#125;, &#123;@code remove&#125;, &#123;@code previous&#125;, * &#123;@code set&#125; or &#123;@code add&#125; operations. This provides * &lt;i&gt;fail-fast&lt;/i&gt; behavior, rather than non-deterministic behavior in * the face of concurrent modification during iteration. * * &lt;p&gt;&lt;b&gt;Use of this field by subclasses is optional.&lt;/b&gt; If a subclass * wishes to provide fail-fast iterators (and list iterators), then it * merely has to increment this field in its &#123;@code add(int, E)&#125; and * &#123;@code remove(int)&#125; methods (and any other methods that it overrides * that result in structural modifications to the list). A single call to * &#123;@code add(int, E)&#125; or &#123;@code remove(int)&#125; must add no more than * one to this field, or the iterators (and list iterators) will throw * bogus &#123;@code ConcurrentModificationExceptions&#125;. If an implementation * does not wish to provide fail-fast iterators, this field may be * ignored. */protected transient int modCount = 0; å¤§è‡´çš„æ„æ€æ˜¯è¿™ä¸ªå­—æ®µç”¨äºŽæœ‰fail-fastè¡Œä¸ºçš„å­é›†åˆç±»çš„ï¼Œç”¨æ¥è®°å½•é›†åˆè¢«ä¿®æ”¹è¿‡çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å›žåˆ°ArrayListå¯ä»¥æ‰¾åˆ°åœ¨add(E e)çš„è°ƒç”¨é“¾ä¸­çš„ä¸€ä¸ªæ–¹æ³•ensureExplicitCapacity(int minCapacity) ä¸­ä¼šå¯¹modCountè‡ªå¢žï¼š 1234567private void ensureExplicitCapacity(int minCapacity) &#123; modCount++; // overflow-conscious code if (minCapacity - elementData.length &gt; 0) grow(minCapacity);&#125; æˆ‘ä»¬åœ¨åˆå§‹åŒ–listæ—¶è°ƒç”¨äº†4æ¬¡add(E e)æ‰€ä»¥çŽ°åœ¨modCountçš„å€¼ä¸º4 å†æ¥æ‰¾expectedModCountï¼šè¿™ä¸ªå˜é‡æ˜¯å®šä¹‰åœ¨ArrayListçš„Iteratorçš„å®žçŽ°ç±»Iträ¸­çš„ï¼Œå®ƒé»˜è®¤è¢«èµ‹å€¼ä¸ºmodCount çŸ¥é“äº†è¿™ä¸¤ä¸ªå˜é‡æ˜¯ä»€ä¹ˆäº†ä»¥åŽï¼Œæˆ‘ä»¬å¼€å§‹èµ°æŸ¥å§ï¼Œåœ¨Itrçš„ç›¸å…³æ–¹æ³•ä¸­åŠ å¥½æ–­ç‚¹(ç¼–è¯‘å™¨ä¼šå°†foreachç¼–è¯‘ä¸ºä½¿ç”¨Iteratorçš„æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹Itrå°±å¯ä»¥äº†)ï¼Œå¼€å§‹è°ƒè¯•ï¼š å¾ªçŽ¯ï¼š åœ¨è¿­ä»£çš„æ¯æ¬¡next()æ—¶éƒ½ä¼šè°ƒç”¨checkForComodification() list.remove()ï¼š åœ¨ArrayListçš„remove(Object o)ä¸­åˆè°ƒç”¨äº†fastRemove(index)ï¼š fastRemove(index)ä¸­å¯¹modCountè¿›è¡Œäº†è‡ªå¢ž,åˆšæ‰è¯´è¿‡modCountç»è¿‡4æ¬¡add(E e)åˆå§‹åŒ–åŽæ˜¯4æ‰€ä»¥++åŽçŽ°åœ¨æ˜¯5ï¼š ç»§ç»­å¾€ä¸‹èµ°ï¼Œè¿›å…¥ä¸‹æ¬¡è¿­ä»£ï¼š åˆä¸€æ¬¡æ‰§è¡Œnext()ï¼Œnext()è°ƒç”¨checkForComodification()ï¼Œè¿™æ—¶åœ¨ä¸Šè¾¹çš„è¿‡ç¨‹ä¸­modCountç”±äºŽfastRemove(index)çš„æ“ä½œå·²ç»å˜æˆäº†5è€ŒexpectedModCountåˆ™æ²¡æœ‰äººåŠ¨ï¼Œæ‰€ä»¥å¾ˆå¿«å°±æ»¡è¶³äº†æŠ›å‡ºå¼‚å¸¸çš„æ¡ä»¶modCount != expectedModCount(ä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„fail-fast)ï¼Œç¨‹åºé€€å‡ºã€‚ #21234567891011//#2Iterator&lt;Integer&gt; iterator = list.iterator();while(iterator.hasNext()) &#123; Integer integer = iterator.next(); list.remove(integer);&#125;ç»“æžœï¼šException in thread &quot;main&quot; java.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901) at java.util.ArrayList$Itr.next(ArrayList.java:851) å…¶å®žè¿™ä¸ª#2å’Œ#1æ˜¯ä¸€æ ·çš„ï¼Œforeachä¼šåœ¨ç¼–è¯‘æœŸè¢«ä¼˜åŒ–ä¸ºIteratorè°ƒç”¨ï¼Œæ‰€ä»¥çœ‹#1å°±å¥½å•¦ã€‚ #312345678//#3for (int i = 0; i &lt; list.size(); i++) &#123; list.remove(i);&#125;System.out.println(list);ç»“æžœï¼š[2, 4] è¿™ç§ä¸€æœ¬æ­£ç»çš„èƒ¡è¯´å…«é“çš„æƒ…å†µä¹Ÿè®¸åœ¨å†™ä»£ç çŠ¯å›°çš„æƒ…å†µä¸‹ä¼šå‡ºçŽ°â€¦ ä¸åšæ–‡å­—è§£é‡Šäº†ï¼Œç”¨println()æ¥è¯´æ˜Žå§ï¼š 123456789101112131415161718192021222324ç¬¬0æ¬¡å¾ªçŽ¯å¼€å§‹remove(0)å‰çš„list: [1, 2, 3, 4]remove(0)å‰çš„list.size()=4æ‰§è¡Œäº†remove(0)remove(0)åŽçš„list.size()=3remove(0)åŽçš„list: [2, 3, 4]ä¸‹ä¸€æ¬¡å¾ªçŽ¯çš„i=1ä¸‹ä¸€æ¬¡å¾ªçŽ¯çš„list.size()=3ç¬¬0æ¬¡å¾ªçŽ¯ç»“æŸæ˜¯å¦è¿˜æœ‰æ¡ä»¶è¿›å…¥ä¸‹æ¬¡å¾ªçŽ¯?: trueç¬¬1æ¬¡å¾ªçŽ¯å¼€å§‹remove(1)å‰çš„list: [2, 3, 4]remove(1)å‰çš„list.size()=3æ‰§è¡Œäº†remove(1)remove(1)åŽçš„list.size()=2remove(1)åŽçš„list: [2, 4]ä¸‹ä¸€æ¬¡å¾ªçŽ¯çš„i=2ä¸‹ä¸€æ¬¡å¾ªçŽ¯çš„list.size()=2ç¬¬1æ¬¡å¾ªçŽ¯ç»“æŸæ˜¯å¦è¿˜æœ‰æ¡ä»¶è¿›å…¥ä¸‹æ¬¡å¾ªçŽ¯?: falseProcess finished with exit code 0 å®žé™…ä¸ŠArrayListä¸­Itrç”¨æ¸¸æ ‡å’Œæœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼•æ¥è§£å†³äº†è¿™ç§sizeè¶Šåˆ è¶Šå°ï¼Œä½†æ˜¯è¦åˆ é™¤å…ƒç´ çš„indexè¶Šæ¥è¶Šå¤§çš„å°´å°¬å±€é¢ï¼Œè¿™ä¸ªå°†åœ¨#4é‡Œè¯´æ˜Žã€‚ #4è¿™ä¸ªæ‰æ˜¯æ­£å„¿å…«ç»èƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œçš„æ–¹å¼ï¼Œç”¨äº†ArrayListä¸­è¿­ä»£å™¨Itrçš„remove()è€Œä¸æ˜¯ç”¨ArrayListæœ¬èº«çš„remove()ï¼Œæˆ‘ä»¬è°ƒè¯•ä¸€ä¸‹å§çœ‹çœ‹åˆ°åº•ç»åŽ†äº†ä»€ä¹ˆï¼š è¿­ä»£ï¼š Itråˆå§‹åŒ–ï¼šæ¸¸æ ‡ cursor = 0; æœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼• lastRet = -1; æœŸæœ›ä¿®æ”¹æ¬¡æ•° expectedModCount = modCount = 4; è¿­ä»£çš„hasNext()ï¼šæ£€æŸ¥æ¸¸æ ‡æ˜¯å¦å·²ç»åˆ°è¾¾å½“å‰listçš„sizeï¼Œå¦‚æžœæ²¡æœ‰åˆ™è¯´æ˜Žå¯ä»¥ç»§ç»­è¿­ä»£ï¼š è¿­ä»£çš„next()ï¼š checkForComodification() æ­¤æ—¶expectedModCountå’ŒmodCountæ˜¯ç›¸ç­‰çš„ï¼Œä¸ä¼šæŠ›å‡ºConcurrentModificationExceptionï¼Œç„¶åŽå–åˆ°æ¸¸æ ‡(ç¬¬ä¸€æ¬¡è¿­ä»£æ¸¸æ ‡æ˜¯0)å¯¹åº”çš„listçš„å…ƒç´ ï¼Œå†å°†æ¸¸æ ‡+1ï¼Œä¹Ÿå°±æ˜¯æ¸¸æ ‡åŽç§»æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åŽå°†æ¸¸æ ‡åŽŸå€¼0èµ‹ç»™æœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯æœ€åŽä¸€æ¬¡è¿”å›žçš„æ˜¯ç´¢å¼•0å¯¹åº”çš„å…ƒç´  iterator.remove()ï¼šåŒæ ·checkForComodification()ç„¶åŽè°ƒç”¨ArrayListçš„remove(lastRet)åˆ é™¤æœ€åŽè¿”å›žçš„å…ƒç´ ,åˆ é™¤åŽmodCountä¼šè‡ªå¢ž åˆ é™¤å®ŒæˆåŽï¼Œå°†æ¸¸æ ‡èµ‹å€¼æˆæœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼•ï¼Œå…¶å®žä¹Ÿå°±æ˜¯å°†æ¸¸æ ‡å›žé€€äº†ä¸€æ ¼å›žåˆ°äº†ä¸Šä¸€æ¬¡çš„ä½ç½®ï¼Œç„¶åŽå°†æœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼•é‡æ–°è®¾ç½®ä¸ºäº†åˆå§‹å€¼-1,æœ€åŽexpectedModCountåˆé‡æ–°èµ‹å€¼ä¸ºäº†ä¸Šä¸€æ­¥è¿‡ç¨‹å®ŒæˆåŽæ–°çš„modCount ç”±ä¸Šä¸¤ä¸ªæ­¥éª¤å¯ä»¥çœ‹å‡ºæ¥ï¼Œè™½ç„¶listçš„sizeæ¯æ¬¡remove()éƒ½ä¼š-1ï¼Œä½†æ˜¯ç”±äºŽæ¯æ¬¡remove()éƒ½ä¼šå°†æ¸¸æ ‡å›žé€€ï¼Œç„¶åŽå°†æœ€åŽä¸€æ¬¡è¿”å›žå€¼ç´¢å¼•é‡ç½®ï¼Œæ‰€ä»¥å®žé™…ä¸Šæ²¡å›žremove()çš„éƒ½æ˜¯å½“å‰é›†åˆçš„ç¬¬0ä¸ªå…ƒç´ ï¼Œå°±ä¸ä¼šå‡ºçŽ°#3ä¸­sizeè¶Šåˆ è¶Šå°ï¼Œè€Œè¦åˆ é™¤å…ƒç´ çš„ç´¢å¼•è¶Šæ¥è¶Šå¤§çš„æƒ…å†µäº†ï¼ŒåŒæ—¶ç”±äºŽåœ¨remove()è¿‡ç¨‹ä¸­expectedModCountå’ŒmodCountå§‹ç»ˆé€šè¿‡èµ‹å€¼ä¿æŒç›¸ç­‰ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šå‡ºçŽ°fail-fastæŠ›å‡ºå¼‚å¸¸çš„æƒ…å†µäº†ã€‚ ä»¥ä¸Šæ˜¯æˆ‘é€šè¿‡èµ°æŸ¥æºç çš„æ–¹å¼å¯¹é¢è¯•é¢˜â€œArrayListå¾ªçŽ¯remove()è¦ç”¨Iteratorâ€åšçš„ä¸€ç‚¹ç ”ç©¶ï¼Œæ²¡è€ƒè™‘å¹¶å‘åœºæ™¯ï¼Œè¿™ç¯‡æ–‡ç« å†™äº†å¤§æ¦‚3ä¸ªå¤šå°æ—¶ï¼Œå†™å®Œè¿™ç¯‡æ–‡ç« åŠžå…¬å®¤å°±å‰©æˆ‘ä¸€ä¸ªäººäº†ï¼Œæˆ‘ä¹Ÿè¯¥å›žåŽ»äº†ï¼Œä»Šå¤©1024ç¨‹åºå‘˜èŠ‚ï¼Œå¤§å®¶èŠ‚æ—¥å¿«ä¹ï¼ 2017.10.25æ›´æ–°#1æ„Ÿè°¢@llearnçš„æé†’ï¼Œ#3ä¹Ÿå¯ä»¥ç”¨ç”¨å·§å¦™çš„æ–¹å¼æ¥å¾—åˆ°æ­£ç¡®çš„ç»“æžœçš„(å†é¢è¯•çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—å¯ä»¥å’Œé¢è¯•å®˜è¯´ä¸ä¸€å®šè¦ç”¨Iteratoräº†ï¼Œæ„Ÿè°¢@llearnï¼š //#3 æˆ‘è§‰å¾—å¯ä»¥è¿™æ ·for (int i = 0; i &lt; list.size(); ) { list.remove(0);} System.out.println(list); 2017.10.25æ›´æ–°#2æ„Ÿè°¢@ChinLongçš„æé†’ï¼Œæä¾›äº†å¦ä¸€ç§ä¸ç”¨Iteratorçš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å€’ç€å¾ªçŽ¯(è¿™ç§æ–¹æ¡ˆæˆ‘å†™å®Œæ–‡ç« æ—¶ä¹Ÿæƒ³åˆ°äº†ï¼Œä½†æ²¡æœ‰è‡ªå·±å°è¯åˆ°demoä¸Š)ï¼Œæ„Ÿè°¢@ChinLongï¼š ç„¶é“å°±æ²¡æœ‰äººå’Œæˆ‘ä¸€ä¸‹å–œæ¬¢å€’ç€åˆ çš„.å¬åˆ«äººè¯´å€’ç€è¿­ä»£é€Ÿåº¦ç¨å¾®å¿«ä¸€ç‚¹???for (int i = list.size() -1; i &gt;= 0; iâ€“ ) { list.remove(i);} System.out.println(list);]]></content>
      <tags>
        <tag>æºç åˆ†æž</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°å½•ä¸€ä¸‹åœ¨å­¦ä¹ ä¸€ä¸ªçŸ¥è¯†æ—¶äº§ç”Ÿçš„ä¸€ç‚¹ç‚¹å‘æ•£æ€§çš„æ€è€ƒ]]></title>
    <url>%2F4538d809.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨çœ‹ä¸€ç³»åˆ—å…³äºŽå¹¶å‘çš„æ–‡ç« æ—¶ï¼Œåœ¨ä¸€ç¯‡æ–‡ç« ä¸­æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹æˆ‘æ²¡æœ‰æŽ¥è§¦è¿‡ï¼ŒäºŽæ˜¯æˆ‘å°†è¿™ä¸ªçŸ¥è¯†ç‚¹ä½œä¸ºå…³é”®å­—æ¥æœç´¢ï¼Œæœç´¢åˆ°äº†å¦ä¸€ç¯‡æ–‡ç« æ¥å­¦ä¹ è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œç„¶åŽåœ¨è¿™ç¯‡åŒ…å«é‚£ä¸ªçŸ¥è¯†ç‚¹çš„æ–‡ç« ä¸­åˆå‡ºçŽ°äº†å¦ä¸€ä¸ªæ–°çš„æˆ‘ä¸äº†è§£çš„çŸ¥è¯†ç‚¹ï¼ŒäºŽæ˜¯åˆæœç´¢åˆ°äº†ä¸€ç¯‡æ–‡ç« æ¥äº†è§£è¿™ä¸ªçŸ¥è¯†ç‚¹ï¼Œç­‰æœ€åŽæ²¡æœ‰ç‰¹åˆ«éœ€è¦äº†è§£çš„çŸ¥è¯†ç‚¹äº†ï¼Œå°±ä¸€æ­¥æ­¥å€’æŽ¨å›žåˆ°äº†å¼€å§‹çš„é‚£ç¯‡æ–‡ç« ã€‚è¿™æ—¶æˆ‘çªç„¶æ„è¯†åˆ°ï¼Œä¹‹æ‰€ä»¥å‡ºçŽ°äº†åˆšæ‰é‚£ä¸ªé€’å½’å­¦ä¹ çš„è¿‡ç¨‹ï¼Œæ˜¯å› ä¸ºè¿™å‡ ä¸ªçŸ¥è¯†æ˜¯ä¹‹é—´æ˜¯ç›¸äº’ä¾èµ–çš„ã€‚ è¿™è®©æˆ‘æƒ³åˆ°äº†å¹³å¸¸ç»å¸¸ç”¨åˆ°çš„mavenå’Œgradleï¼Œä»¥åŠlibä¾èµ–çš„æ¦‚å¿µï¼šä¸€ä¸ªlibä¾èµ–é¡¹ä¼šä¾èµ–å¦ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªlibå¯èƒ½åˆä¼šä¾èµ–å¦å¦ä¸€ä¸ªã€‚ã€‚ã€‚å†å¾€ä¸Šå±‚é€»è¾‘æƒ³ï¼Œå…¶å®žmavenå’Œgradleåœ¨æŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯åœ¨å¤„ç†çŸ¥è¯†ä¹‹é—´çš„ä¾èµ–ï¼ˆå› ä¸ºä¸€ä¸ªlibå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè§£å†³ç‰¹å®šé—®é¢˜çš„çŸ¥è¯†ç‚¹ï¼‰ï¼Œå†ç»§ç»­å¾€ä¸Šå±‚æƒ³ï¼Œå…¶å®žå°±ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿï¼ˆæˆ–è€…æ³›åŒ–ä¸ºä»»ä½•ä¸€ç§ç³»ç»Ÿï¼Œä¸ä¸€å®šå±€é™äºŽè½¯ä»¶ç³»ç»Ÿï¼‰è€Œè¨€ï¼Œæ˜¯ç”±ä¸€ä¸ªä¸ªç›¸äº’ä¾èµ–çš„çŸ¥è¯†æ‰€æž„æˆçš„ï¼Œæˆ–è€…è¯´æ˜¯ç”±ä¸€ä¸ªä¸ªç›¸äº’ä¾èµ–çš„æ™ºåŠ›ç»“æžœæ‰€æž„æˆçš„ï¼Œä»ŽæŸä¸ªæ–¹é¢æ¥è¯´ï¼Œè½¯ä»¶ç³»ç»Ÿæ˜¯äººç±»çš„ä¸€éƒ¨åˆ†æ€ç»´åœ¨çŽ°å®žä¸–ç•Œä¸­çš„ä¸€ç§æ˜ å°„ï¼›è¿˜å¯ä»¥ç»§ç»­å‘ä¸Šæ€è€ƒï¼Œæ•´ä¸ªäººç±»ç¤¾ä¼šçš„æ–‡æ˜Žä¹Ÿæ˜¯å»ºç«‹åœ¨ä¸€ä¸ªåˆä¸€ä¸ªç›¸äº’ä¾èµ–çš„çŸ¥è¯†ä½“ç³»ä¸Šçš„ï¼Œè¿™äº›çŸ¥è¯†ä½“ç³»æœ‰äº›æ˜¯ä»Žä¸Šå¤æ—¶ä»£ä¸€ä»£ä¸€ä»£æ›´æ–°æ¼”åŒ–çš„ï¼Œæœ‰çš„æ˜¯æ–°çš„å‘çŽ°ï¼Œä»–ä»¬ä¹‹é—´æˆ–å¤šæˆ–å°‘ä¹Ÿæ˜¯æœ‰å…³è”çš„ï¼Œæ˜¯ä¸€ä¸ªä¸ªç›¸äº’å…³è”çš„æ™ºåŠ›ç»“æžœæ‰€æž„æˆçš„ï¼›åœ¨è¿™ä¸ªå±‚é¢ä¸Šçœ‹è½¯ä»¶ç³»ç»Ÿä½“ç³»å’Œäººç±»çš„æ–‡æ˜Žä½“ç³»æ˜¯å¾ˆåƒçš„ï¼›ä»Žè¿™é‡Œæˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­å‘æ•£æ€ç»´ï¼šå½“åœ¨ä¸€ä¸ªå±‚é¢æˆ–è€…è¯´ç³»ç»Ÿä¸­é‡åˆ°è§£å†³ä¸äº†çš„é—®é¢˜æ—¶ï¼Œå¯ä»¥è·³åˆ°æ›´å¤§çš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒï¼ˆcontextï¼‰é‡ŒåŽ»æƒ³åŠžæ³•ï¼Œä¹Ÿå°±æ˜¯å‘ä¸Šå±‚é€»è¾‘æ€è€ƒç„¶åŽå°†ä¸Šå±‚é€»è¾‘çš„æ€è€ƒè¿›è¡Œå‘ä¸‹çš„æŠ½è±¡ç„¶åŽè§£å†³ä¸‹å±‚çš„é—®é¢˜ã€‚å…¶å®žæƒ³æƒ³é¢å‘å¯¹è±¡è¿™ç§ç¼–ç¨‹æ¨¡åž‹çš„å‡ºçŽ°ï¼Œä¸ä¹Ÿæ˜¯å°è¯•å°†çŽ°å®žä¸–ç•Œè¿›è¡ŒæŠ½è±¡ï¼Œä»Žè€Œè¯•å›¾è§£å†³è®¡ç®—æœºç³»ç»Ÿä¸­æŸä¸ªæ–¹é¢çš„é—®é¢˜å—ã€‚è¿™æ ·çš„ä¾‹å­åº”è¯¥è¿˜æœ‰å¾ˆå¤šã€‚è¿™è®©æˆ‘æƒ³åˆ°äº†å°æ—¶å€™ç»å¸¸å¬çš„å•ç”°èŠ³è¯„ä¹¦ï¼Œæ€»ä¼šæœ‰è¿™ä¹ˆæ ·çš„ä¸€å¥è¯ï¼šâ€œï¼ˆæŸäººï¼‰è™šæ™ƒä¸€æ‹›ï¼Œè·³å‡ºåœˆå¤–ã€‚â€ä¹Ÿè®¸å½“æˆ‘ä»¬é‡åˆ°æŸä¸ªè§£å†³ä¸äº†çš„é—®é¢˜æ—¶ï¼Œä¹Ÿåº”è¯¥â€œè·³å‡ºåœˆå¤–â€ï¼Œè€Œä¸æ˜¯ä»…ä»…ç€çœ¼äºŽé—®é¢˜æœ¬èº«ï¼Œè·³å‡ºåœˆå¤–åŽ»æ›´å¹¿é˜”çš„contextä¸­å¯»æ‰¾è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼Œç„¶åŽå°†è§£å†³é—®é¢˜çš„åŠžæ³•æŠ½è±¡åˆ°ä¸‹å±‚çš„é€»è¾‘contextä¸­ã€‚ å‘æ•£çš„æ¯”è¾ƒè¿œã€‚ã€‚ã€‚ç®—æ˜¯ä¸€ç‚¹ç‚¹æ€è€ƒæ€»ç»“å§ã€‚]]></content>
      <tags>
        <tag>æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é‡åšä¸€é“Javaé¢è¯•é¢˜(Fork/Join)]]></title>
    <url>%2F111da3a8.html</url>
    <content type="text"><![CDATA[å‰å‡ å¤©å‚åŠ äº†ä¸€åœºé¢è¯•ï¼Œå½“æ—¶æœ‰è¿™èŽ«ä¸€é“é¢˜ï¼š 1å¦‚ä½•å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œè®¡ç®—å¾ˆå¤§Listä¸­æ‰€æœ‰æ•´æ•°çš„å’Œï¼Ÿ è€å®žè¯´ï¼Œæˆ‘å½“æ—¶å¹¶æ²¡æœ‰æƒ³å‡ºæ¥å…·ä½“è¯¥å¦‚ä½•å®žçŽ°ï¼Œåªæ˜¯æœ‰ä¸ªå¤§è‡´çš„æ–¹å‘ï¼Œè‚¯å®šæ˜¯åˆ†æ²»æ³•çš„æ€æƒ³ï¼›è¿™ä¸¤å¤©æˆ‘ä¸€ç›´åœ¨å°è¯•å°†è¿™äº›å½“æ—¶æ²¡åšå‡ºæ¥çš„é¢˜æƒ³åŠžæ³•åšå‡ºæ¥ï¼ŒæŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œçœ‹äº†è‹¥å¹²æ–‡ç« ï¼ŒçŽ°åœ¨åè¿‡å¤´æ¥å†æ¥å°è¯•è§£å†³ä¸€ä¸‹è¿™ä¸ªé¢˜å§ã€‚ ç»è¿‡è¿™ä¸¤å¤©çš„å­¦ä¹ ï¼Œæˆ‘åŸºæœ¬ä¸Šæœé›†åˆ°äº†ä¸¤ç§è§£è¿™é“é¢˜çš„æ€è·¯ï¼š1.ç”¨CyclicBarrierè¿™ç§æ–¹æ³•ï¼Œæœ‰ç½‘å‹ç»™å‡ºäº†è¯¦å°½çš„è§£é‡Šï¼Œåœ¨æ­¤ä¸å†å¤è¿°ã€‚ 2.ç”¨Fork/Joinè¿™ä¸ªæ–¹æ³•æˆ‘æ˜¯å—åˆ°äº†è¿™å‡ ç¯‡æ–‡ç« çš„å¯å‘ï¼š JDK 7 ä¸­çš„ Fork/Join æ¨¡å¼ æˆ‘çš„Javaå¼€å‘å­¦ä¹ ä¹‹æ—…â€”â€”&gt;Javaä½¿ç”¨Fork/Joinæ¡†æž¶æ¥å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ Java å¤šçº¿ç¨‹ï¼ˆ5ï¼‰ï¼šFork/Join åž‹çº¿ç¨‹æ± ä¸Ž Work-Stealing ç®—æ³• å…·ä½“çš„çœ‹ä»£ç å§ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869package com.github.since1986.test;import java.util.concurrent.ExecutionException;import java.util.concurrent.ForkJoinPool;import java.util.concurrent.Future;import java.util.concurrent.RecursiveTask;import java.util.stream.IntStream;/** * Created by since1986 on 2017/9/17. */public class ForkJoinTest &#123; public static void main(String... args) throws InterruptedException, ExecutionException &#123; int[] array = IntStream.rangeClosed(0, 1_00_000_000).toArray(); //æ¨¡æ‹Ÿä¸€ä¸ªâ€œå¾ˆå¤§â€çš„Listï¼Œè¿™é‡Œç”¨ç›´æŽ¥ç”¨æ•°ç»„ä»£æ›¿äº†ï¼ˆé¢˜ç›®é‡Œå…¶å®žä¹Ÿæ²¡è¯´æ˜Žç™½â€œå¾ˆå¤§â€åˆ°åº•æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Œå®žé™…ä¸Šå¤ªå¤§äº†ä¼šOOMï¼Œä½†æˆ‘è§‰å¾—è¿™é“é¢˜ä¸»è¦è€ƒæŸ¥çš„æ˜¯å¯¹å¹¶å‘ç¼–ç¨‹çš„åŸºæœ¬æ€è·¯å§ï¼Œåº”è¯¥ä¸ä¼šè€ƒå¯Ÿå¤ªæ·±çš„ï¼Œæ‰€ä»¥ä¸ç”¨åœ¨æ„äº†ï¼Œè¦æ˜¯ç¡®å®žæ˜¯è¦æŠŠæ€Žä¹ˆæ ·é¿å…OOMä¹Ÿè€ƒè™‘åˆ°çš„è¯æš‚æ—¶è¿˜æ²¡æƒ³åˆ°åº”è¯¥æ€Žæ ·è§£å†³ï¼‰ //ç®€å•ç²—æš´çš„åšæ³• int sum = 0; for (int i = 0; i &lt; array.length; i++) &#123; sum += array[i]; &#125; System.out.println(sum); //Fork/Joinçš„åšæ³• ForkJoinPool forkJoinPool = new ForkJoinPool(); //èµ·ä¸€ä¸ªæ•°é‡ç­‰äºŽå¯ç”¨CPUæ ¸æ•°çš„æ± å­ï¼ˆå¯¹åº”é¢˜ç›®ä¸­â€œå……åˆ†åˆ©ç”¨å¤šæ ¸â€ï¼‰ Task task = new Task(0, array.length, 10_000, array); Future&lt;Integer&gt; future = forkJoinPool.submit(task); //æäº¤Task System.out.println(future.get()); //èŽ·å¾—è¿”å›žå€¼ forkJoinPool.shutdown(); //å…³é—­æ± å­ &#125; static class Task extends RecursiveTask&lt;Integer&gt; &#123; public static final int DEFAULT_THRESHOLD = 1000; private int high, low; private int threshold; private int[] array; Task(int low, int high, int threshold, int[] array) &#123; this.array = array; this.low = low; this.high = high; this.threshold = threshold; //ä»»åŠ¡åˆ’åˆ†çš„æœ€å°å€¼ï¼ˆè‹¥ä¸º1000åˆ™å«ä¹‰æ˜¯Forkåˆ°1000å¤§å°æ—¶å°±ä¸å†ç»§ç»­Forkäº†ï¼‰ &#125; @Override protected Integer compute() &#123; //System.out.println(&quot;low: &quot; + low + &quot; high: &quot; + high); if (high - low &lt;= threshold) &#123; //åˆ°äº†ä¸èƒ½å†Forkçš„é˜ˆå€¼åŽç›´æŽ¥å¾ªçŽ¯ç´¯åŠ è¿”å›ž int sum = 0; for (int i = low; i &lt; high; i++) &#123; sum += array[i]; &#125; //System.out.println(&quot;sum: &quot; + sum); return sum; &#125; else &#123; //æ²¡æœ‰åˆ°é˜ˆå€¼çš„è¯ï¼Œç»§ç»­é€’å½’æ‹†åˆ†ä»»åŠ¡ä¸ºå·¦ä»»åŠ¡å’Œå³ä»»åŠ¡ï¼ˆåˆ†æ²»æ³•çš„æ€æƒ³ï¼‰ int middle = (high - low) / 2 + low; //System.out.println(&quot;middle: &quot; + middle); Task leftHandTask = new Task(low, middle, threshold, array); //å·¦ä»»åŠ¡ Task rightHandTask = new Task(middle, high, threshold, array); //å³ä»»åŠ¡ leftHandTask.fork(); //å·¦ä»»åŠ¡è¿˜è¦ç»§ç»­æ‹†ï¼Œç›´åˆ°æ»¡è¶³ä¸Šè¾¹ifé‡Œçš„é˜ˆå€¼æ¡ä»¶ rightHandTask.fork(); //å³ä»»åŠ¡ä¹Ÿè¦ç»§ç»­æ‹†ï¼Œç›´åˆ°æ»¡è¶³ä¸Šè¾¹ifé‡Œçš„é˜ˆå€¼æ¡ä»¶ return leftHandTask.join() + rightHandTask.join(); //æœ€åŽJoinå¾—åˆ°ç»“æžœ &#125; &#125; &#125;&#125;]]></content>
      <tags>
        <tag>å¹¶å‘ç¼–ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨GestureDetectorå®žçŽ°åŒå‡»ToolbaråŽå°†RecyclerViewå¹³ç¼“æ»šåŠ¨è‡³é¡¶éƒ¨]]></title>
    <url>%2F861f3bbe.html</url>
    <content type="text"><![CDATA[çŽ°åœ¨å¾ˆå¤šçš„Appéƒ½ä¼šæœ‰åŒå‡»ToolbaråŽå°†å†…å®¹åˆ—è¡¨RecyclerViewå¹³ç¼“æ»šåŠ¨è‡³é¡¶éƒ¨çš„åŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½å¤§å¤§æå‡äº†ç”¨æˆ·ä½“éªŒï¼Œé‚£ä¹ˆï¼Œè¯¥å¦‚ä½•å®žçŽ°å‘¢ å®žçŽ°è¿™ä¸ªåŠŸèƒ½çš„å…³é”®å¯ä»¥åˆ†ä¸ºä¸¤ç‚¹ å®žçŽ°åŒå‡»æ‰‹åŠ¿çš„ç›‘å¬ å®žçŽ°RecyclerViewçš„å¹³æ»‘æ»šåŠ¨ ç¬¬ä¸€ç‚¹ï¼Œå®žçŽ°åŒå‡»æ‰‹åŠ¿ç›‘å¬ï¼Œè¿™ä¸ªæˆ‘å½“æ—¶èµ°äº†ä¸€ç‚¹ç‚¹å¼¯è·¯ï¼Œæˆ‘å½“æ—¶æƒ³åœ¨onTouché‡Œè‡ªå·±æ‰‹åŠ¨å®žçŽ°åŒå‡»çš„åˆ¤æ–­ï¼Œä½†æ˜¯å†™äº†ä¸€åŠçªç„¶æƒ³åˆ°ï¼Œgoogleä¸å¯èƒ½æƒ³ä¸åˆ°åŒå‡»æ‰‹åŠ¿å¤„ç†çš„è¿™ç§åœºæ™¯ï¼Œå¿…ç„¶ä¼šæœ‰ç›¸å…³çš„ç±»æ¥å¤„ç†çš„ï¼ŒäºŽæ˜¯æœäº†ä¸€ä¸‹ï¼Œæžœä¸å…¶ç„¶ï¼Œsdké‡Œæœ‰ä¸ªGestureDetectorå°±æ˜¯ä¸“é—¨å¹²è¿™ä¸ªçš„ï¼Œä¸å…‰åŒå‡»ã€è¿˜æœ‰ç”©åŠ¨ã€å•å‡»ç­‰ç­‰å‡ ä¸ªæ‰‹åŠ¿çš„å¤„ç†ï¼Œgoogleæžœç„¶å¾ˆè´´å¿ƒï¼Œéƒ½æ›¿æˆ‘ä»¬æƒ³å¥½äº†ã€‚ç„¶åŽï¼Œå°±æ˜¯ç¬¬äºŒç‚¹ï¼Œå®žçŽ°RecyclerViewå¹³æ»‘æ»šåŠ¨åˆ°é¡¶éƒ¨ï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œé‚£å°±æ˜¯å¹³æ»‘æ»šåŠ¨çš„è§¦å‘æ¡ä»¶ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æžœçŽ°åœ¨RecyclerViewå·²ç»æ˜¾ç¤ºåˆ°äº†ç¬¬9999æ¡æ•°æ®ï¼ˆä¸¾ä¸ªä¾‹å­ï¼Œå®žé™…å¯èƒ½é‡ä¸åˆ°è¿™ä¹ˆå¤§çš„æ•°ï¼‰ï¼Œè¿™æ—¶è¦è§¦å‘å¹³æ»‘æ»šåŠ¨ï¼Œä»Žç¬¬9999æ…¢æ…¢çš„å¹³æ»‘æ»šåŠ¨å›žç¬¬0ï¼Œç”¨æˆ·ä¼šå´©æºƒçš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œåˆ°äº†æŸä¸€ä¸ªå€¼æ‰å¼€å§‹å¹³æ»‘æ»šåŠ¨ï¼Œæ²¡åˆ°è¿™ä¸ªå€¼å°±ç›´æŽ¥çž¬é—´æ»šåŠ¨åˆ°è¿™ä¸ªå€¼ï¼Œç„¶åŽå†å¼€å§‹å¹³æ»‘æ»šåŠ¨ï¼Œè¿™æ ·åœ¨ç”¨æˆ·çœ‹æ¥å°±åƒæ˜¯æ•´ä¸ªåœ¨å¹³æ»‘æ»šåŠ¨ï¼Œè€Œä¸”ä¸ä¼šå¤ªæ…¢ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œæœ€ç»ˆæˆ‘ä»¬è¿˜æ˜¯è¦ç”¨ä»£ç æ¥å®žçŽ°å®ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜æ˜¯æ¥ä¸Šä»£ç å§ï¼Œçœ‹çœ‹æ€Žä¹ˆå®žçŽ°Toolbarçš„åŒå‡»ç›‘å¬ï¼š 123456789101112131415161718192021//ä»£ç ç‰‡æ®µfinal GestureDetector gestureDetector = new GestureDetector(SomeActivity.this, new GestureDetector.SimpleOnGestureListener() &#123; //ä½¿ç”¨SimpleOnGestureListenerå¯ä»¥åªè¦†ç›–å®žçŽ°è‡ªå·±æƒ³è¦çš„æ‰‹åŠ¿ @Override public boolean onDoubleTap(MotionEvent e) &#123; //DoubleTapæ‰‹åŠ¿çš„å¤„ç† LinearLayoutManager linearLayoutManager = (LinearLayoutManager) recyclerView.getLayoutManager(); if (linearLayoutManager.findFirstCompletelyVisibleItemPosition() != 0) &#123; //åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æžœçŽ°åœ¨RecyclerViewä¸æ˜¯å·²ç»æ˜¾ç¤ºäº†æœ€é¡¶éƒ¨æ¡ç›®æ—¶ï¼Œæ‰éœ€è¦åšæ»šåŠ¨åˆ°é¡¶éƒ¨çš„å¤„ç† if (linearLayoutManager.getItemCount() &gt; SMOOTH_SCROLL_THRESHOLD) &#123; //SMOOTH_SCROLL_THRESHOLDå°±æ˜¯ä¸Šè¾¹æˆ‘ä»¬è¯´çš„é‚£ä¸ªè§¦å‘å¹³æ»‘æ»šåŠ¨çš„é˜ˆå€¼ï¼Œè¿™é‡Œè®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå°çš„æ•°å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚ 10 ï¼Œå½“çŽ°åœ¨RecyclerViewæ˜¾ç¤ºçš„æ•°ç›®å¤§äºŽè¿™ä¸ªé˜ˆå€¼æ—¶å°±éœ€è¦è¿›è¡Œå‰è¾¹æåˆ°çš„â€œå…ˆçž¬é—´æ»šåŠ¨ç„¶åŽå†å¹³æ»‘æ»šåŠ¨çš„å¤„ç†äº†â€ recyclerView.scrollToPosition(SMOOTH_SCROLL_THRESHOLD); //å…ˆçž¬é—´æ»šåŠ¨åˆ°THRESHOLDä½ç½® &#125; recyclerView.smoothScrollToPosition(0); //ç„¶åŽå†ç»§ç»­å¹³æ»‘æ»šåŠ¨ï¼Œè¿™æ ·æ—¢ä¸ä¼šå¤ªæ…¢åˆä¿ç•™äº†å¹³æ»‘çš„æ•ˆæžœ &#125; return super.onDoubleTap(e); &#125;&#125;);toolbar.setOnTouchListener(new View.OnTouchListener() &#123; @Override public boolean onTouch(View v, MotionEvent event) &#123; //ä½¿ç”¨GestureDetectorå¯¹Toolbarè¿›è¡Œæ‰‹åŠ¿ç›‘å¬ return gestureDetector.onTouchEvent(event); &#125;&#125;);]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·§ç”¨æžšä¸¾æ¥å¤„ç†UIä¸­æ˜¾ç¤ºå€¼ä¸Žä¸šåŠ¡å€¼ä¸åŒçš„åœºæ™¯]]></title>
    <url>%2Fc36ec2a4.html</url>
    <content type="text"><![CDATA[åœ¨Androidä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›åœ¨UIä¸Šæ˜¾ç¤ºçš„å€¼ä¸Žå®žé™…ä¸šåŠ¡éœ€è¦çš„å€¼ä¸ä¸€è‡´çš„åœºæ™¯ï¼Œè¿™æ—¶å°±æ˜¯æžšä¸¾å‘æŒ¥ç”¨æ­¦ä¹‹åœ°çš„æ—¶å€™äº† çœ‹ä¸‹å›¾æ‰€ç¤ºçš„è¿™ä¸ªåœºæ™¯ï¼š è¿™ä¸ªåœºæ™¯æ˜¯ä¸€ä¸ªç±»ä¼¼äºŽwebä¸­&lt;select&gt;çš„åœºæ™¯ï¼ˆå›¾ä¸­è¿™ä¸ªä¸‹æ‹‰ç»„ä»¶æ˜¯æˆ‘è‡ªå·±å†™çš„ä¸€ä¸ªè‡ªå®šä¹‰Viewï¼Œç”¨äºŽæ›¿æ¢SDKå†…ç½®çš„Spinnerï¼‰ï¼Œä»Žè¿™ä¸ªåœºæ™¯ä¸­ä¸éš¾çœ‹å‡ºï¼Œæˆ‘ä»¬åœ¨UIä¸­éœ€è¦æ˜¾ç¤ºçš„å€¼å’Œä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ï¼ˆåŽç«¯ç»™çš„æŽ¥å£å®šä¹‰äº†ä¸€ç»„æ•°å­—æ¥ä½œä¸ºå‚æ•°ï¼‰ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æŽ¥æŠŠUIä¸­çš„â€œæ­£é¢â€è¿™ä¸¤ä¸ªå­—ä½œä¸ºå‚æ•°ä¼ ç»™ä¸šåŠ¡é€»è¾‘çš„æ–¹æ³•ï¼Œè€Œåº”ä¼ é€’ä¸€ä¸ªå¯¹åº”äºŽâ€œæ­£é¢â€çš„å€¼ï¼Œè¯¥å¦‚ä½•å®žçŽ°è¿™ä¸ªåœºæ™¯å‘¢ï¼Œè¿™æ—¶å€™æžšä¸¾å°±è¯¥ç™»åœºäº† Talk is cheap. Show me the code. 1234567891011121314151617181920212223242526272829303132//ä»£ç ç‰‡æ®µ1public enum Relativity &#123; //ç›´æŽ¥ä½¿ç”¨ä¸­æ–‡æ¥ç»™æžšä¸¾å‘½åï¼Œä»Žè€Œåˆ©ç”¨ç»§æ‰¿è‡ªçˆ¶ç±»çš„ .toString() æ¥è¿”å›žUIéœ€è¦çš„å€¼ å…¨éƒ¨ &#123; @Override public String value() &#123; return &quot;&quot;; &#125; &#125;, æ­£é¢ &#123; @Override public String value() &#123; return &quot;1&quot;; &#125; &#125;, ä¸­æ€§ &#123; @Override public String value() &#123; return &quot;0&quot;; &#125; &#125;, è´Ÿé¢ &#123; @Override public String value() &#123; return &quot;-1&quot;; &#125; &#125;; public abstract String value(); //å®šä¹‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•è®©å­ç±»æ¥å®žçŽ°ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¿”å›žå€¼æ˜¯ä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦ç”¨åˆ°çš„å€¼&#125; 12//ä»£ç ç‰‡æ®µ2 ï¼ˆè¿™ä¸ª bindData æ˜¯æˆ‘è‡ªå®šä¹‰Viewé‡Œçš„ç»‘å®šæ•°æ®çš„æ–¹æ³•ï¼Œå®žé™…ä¸Šé‡Œé¢æ˜¯è°ƒç”¨äº†ArrayAdapterçš„addAll(T... items)ï¼‰spinnerRelativity.bindData(Relativity.values()); //ç›´æŽ¥ä½¿ç”¨æžšä¸¾çš„ .values() è¿”å›žæ‰€æœ‰æ­¤ç±»æžšä¸¾æ‰€ç»„æˆçš„æ•°ç»„ä½œä¸ºå‚æ•°ä¼ ç»™UI 1234567891011//ä»£ç ç‰‡æ®µ3 spinnerRelativity.setOnValueChangeListener(new OnValueChangeListener() &#123; @Override public void onValueChange(View view, CharSequence originalValue, CharSequence newValue) &#123; relativity = Relativity.valueOf((String) newValue) //onValueChange æ˜¯æˆ‘è‡ªå®šä¹‰Viewé‡Œçš„ä¸€ä¸ªå›žè°ƒæ–¹æ³•ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œå½“ç”¨æˆ·é€‰ä¸­â€œå…¨éƒ¨â€æ—¶æ–¹æ³•çš„ç¬¬äºŒä¸ªCharSequenceå‚æ•°â€œnewValueâ€çš„å€¼å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² &quot;å…¨éƒ¨&quot;ï¼Œ è¿™æ—¶ï¼Œåˆ©ç”¨æžšä¸¾çš„ valueOf(String s) æ–¹æ³•å°±å¯ä»¥ä»Žè¿™ä¸ªå­—ç¬¦ä¸²å¾—åˆ°å¯¹åº”çš„æžšä¸¾å¯¹è±¡ .value(); //å¾—åˆ°æžšä¸¾å¯¹è±¡åŽå†è°ƒç”¨æžšä¸¾ä¸­è‡ªå®šä¹‰çš„ .value() èŽ·å¾—ä¸šåŠ¡é€»è¾‘æ‰€éœ€è¦çš„å€¼ //æ­¤å¤„æ˜¯ä½ çš„ä¸šåŠ¡é€»è¾‘ &#125;&#125;);]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Toolbar çš„æœ€åŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2F80327352.html</url>
    <content type="text"><![CDATA[Toolbaræ˜¯ActionBarçš„æ›¿ä»£è€…ï¼Œå¯¹äºŽåˆšåˆšå…¥é—¨çš„Androidå¼€å‘è€…ï¼Œä¹Ÿè®¸ä¼šå¯¹æ€Žæ ·ä½¿ç”¨Toolbaræ„Ÿåˆ°å›°æƒ‘(æ¯”å¦‚é‚£æ—¶çš„æˆ‘ã€‚ã€‚ã€‚)ï¼Œæ‰€ä»¥æˆ‘æŠŠToolbarçš„æœ€æœ€åŸºç¡€çš„ä½¿ç”¨æ–¹æ³•ç®€å•å†™ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¸®åˆ°åˆšå…¥é—¨çš„æœ‹å‹ **å¦‚ä½•åŽ»æŽ‰é»˜è®¤çš„`ActionBar`ï¼š** åœ¨`styles.xml`ä¸­åˆ›å»ºä¸€ä¸ªä¸»é¢˜`AppTheme.NoActionBar` 12345&lt;!-- NoActionBar --&gt;&lt;style name=&quot;AppTheme.NoActionBar&quot; parent=&quot;AppTheme&quot;&gt; &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt; &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;&lt;/style&gt; å°†è¿™ä¸ªä¸»é¢˜åº”ç”¨åˆ°applicationä¸Šï¼Œå³å¯åŽ»é™¤æ‰€æœ‰Activityé»˜è®¤çš„ActionBar 12345&lt;application android:allowBackup=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt; &lt;!-- åŽ»æŽ‰é»˜è®¤çš„ActionBar --&gt; **å¦‚ä½•ä¿®æ”¹`Toolbar`é»˜è®¤çš„æ–‡å­—é¢œè‰²ï¼š** åœ¨`style.xml`ä¸­æ·»åŠ ä¸»é¢˜ 12345678&lt;style name=&quot;AppTheme.Toolbar&quot;&gt; &lt;item name=&quot;colorControlNormal&quot;&gt;#FFEFEFEF&lt;/item&gt; &lt;item name=&quot;android:textColorPrimary&quot;&gt;#FFEFEFEF&lt;/item&gt;&lt;/style&gt;&lt;style name=&quot;AppTheme.Toolbar.Popup&quot;&gt; &lt;item name=&quot;android:textColorPrimary&quot;&gt;@android:color/black&lt;/item&gt;&lt;/style&gt; ç„¶åŽå°†ä¸»é¢˜åº”ç”¨åˆ°Toolbarä¸Š 1234567&lt;!-- æ”¹å˜æ–‡å­—é¢œè‰² --&gt;&lt;android.support.v7.widget.Toolbar android:id=&quot;@+id/your_toolbar&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;?attr/actionBarSize&quot; app:popupTheme=&quot;@style/AppTheme.Toolbar.Popup&quot; app:theme=&quot;@style/AppTheme.Toolbar&quot; /&gt; **å¦‚ä½•åŠ ä¸Šè¿”å›žæŒ‰é’®å¹¶å®žçŽ°è¿”å›žï¼š** 123Toolbar toolbar = (Toolbar) findViewById(R.id.your_toolbar);setSupportActionBar(toolbar);getSupportActionBar().setDisplayHomeAsUpEnabled(true); //å¯ç”¨è¿”å›žæŒ‰é’® 1234567891011//å®žçŽ°è¿”å›žåŠŸèƒ½@Overridepublic boolean onOptionsItemSelected(MenuItem item) &#123; switch (item.getItemId()) &#123; case android.R.id.home: //android.R.id.homeæ˜¯Androidå†…ç½®homeæŒ‰é’®çš„id finish(); break; &#125; return super.onOptionsItemSelected(item);&#125;]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TabLayout åŠ è½½åŽé»˜è®¤é€‰ä¸­æŸä¸ª Tab]]></title>
    <url>%2Ff804f392.html</url>
    <content type="text"><![CDATA[åœ¨ä½¿ç”¨ TabLayout æ—¶ä¸€èˆ¬ä¼šæœ‰åŠ è½½å®ŒæˆåŽç«‹åˆ»é€‰ä¸­æŸä¸ªTabçš„éœ€æ±‚ï¼Œå¦‚ä½•å®žçŽ°å‘¢ï¼Œæˆ‘æ›¾ç»å°è¯•è¿‡å°†Tabåœ¨XMLä¸­å†™æˆé™æ€çš„ç„¶åŽç”¨ getTabAt(i).select() æ¥é€‰ä¸­ï¼Œä½†æ˜¯å¹¶ä¸èµ·ä½œç”¨ï¼Œç„¶åŽå°è¯•äº†åŠ¨æ€æ·»åŠ Tabçš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ç”¨ addTab(TabLayout.Tab tab, boolean setSelected) çš„æ–¹å¼ï¼Œè¿™æ ·å°±ä¼šé»˜è®¤çš„é€‰ä¸­äº†ï¼ŒTODO æš‚æ—¶æ²¡æžæ˜Žç™½ä¸ºä»€ä¹ˆ getTabAt(i).select() ä¸èµ·ä½œç”¨ï¼Œä»¥åŽå†ç ”ç©¶]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨ Tagã€ åå°„åŽŸç† å’Œ findFragmentByTag å°‘å†™ä»£ç å®žçŽ°Tab åˆ‡æ¢æ—¶å®žä¾‹åŒ–ã€æ˜¾ç¤ºã€éšè— Fragment]]></title>
    <url>%2F21c4e1a1.html</url>
    <content type="text"><![CDATA[åœ¨ä¸€äº›åœºæ™¯é‡Œï¼Œ TabLayout ä¼šå¯¹åº”ä¸€ç»„Fragmentï¼Œç„¶åŽé€šè¿‡ onTabSelected(TabLayout.Tab tab) æ¥è§¦å‘Tabæ‰€å¯¹åº”Fragmentçš„ add() (å®žä¾‹åŒ–) show() ä¸Ž hide() ï¼Œé‚£ä¹ˆå¦‚ä½•å°½é‡å°‘å†™ä»£ç æ¥å®žçŽ°è¿™ä¸ªåœºæ™¯å‘¢ï¼Ÿ æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ç”¨ Tagã€ åå°„åŽŸç† ä»¥åŠ FragmentManager çš„ findFragmentByTag(String tag) æ–¹æ³• å°†Fragmentçš„ç±»çš„é™å®šåä½œä¸º Tag é™„åŠ åˆ° Tab ä¸Š onTabSelected(TabLayout.Tab tab) æ—¶èŽ·å– Tab å¯¹åº”çš„ Tagè¿™æ—¶èŽ·å¾—çš„å°±æ˜¯Fragmentçš„é™å®šå åˆ©ç”¨åå°„é€šè¿‡é™å®šåå®žä¾‹åŒ–Fragmentå¹¶ add() show() å¯¹åº”çš„Fragment hide() ä¹Ÿæ˜¯åŒæ ·çš„é“ç† ä»£ç ç‰‡æ®µï¼š 1234567891011121314151617181920212223242526tabLayout = (TabLayout) findViewById(R.id.tab_layout); final TabLayout.Tab tab1 = tabLayout .newTab() .setText(R.string.text_1) .setTag(Tab1Fragment.class.getName()); //ç”¨Fragmentçš„é™å®šåä½œä¸ºTag TabLayout.Tab tab2 = tabLayout .newTab() .setText(R.string.text_2) .setTag(Tab2Fragment.class.getName()); TabLayout.Tab tab3 = tabLayout .newTab() .setText(R.string.text_3) .setTag(Tab3Fragment.class.getName()); tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() &#123; @Override public void onTabSelected(TabLayout.Tab tab) &#123; FragmentUtils.showBeforeAddByTag(SomeActivity.this, R.id.frame_layout_fragment_container, (String) tab.getTag()); //ç”¨Tabçš„Tagæ¥è¿›ä¸€æ­¥å®ŒæˆFragmentçš„add show hide &#125; @Override public void onTabUnselected(TabLayout.Tab tab) &#123; FragmentUtils.hideByTag(SomeActivity.this, (String) tab.getTag()); &#125; @Override public void onTabReselected(TabLayout.Tab tab) &#123; &#125; &#125;); FragmentUtilsä»£ç ç‰‡æ®µï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657//é€šè¿‡åå°„å®žä¾‹åŒ–Fragment @Nullablepublic static Fragment reflectionNewInstance(@NonNull String fragmentClassName, Object... args) &#123; Class&lt;?&gt;[] parameterTypes; if (args == null) &#123; parameterTypes = new Class[0]; &#125; else &#123; parameterTypes = new Class[args.length]; for (int i = 0; i &lt; args.length; i++) &#123; parameterTypes[i] = args[i].getClass(); &#125; &#125; try &#123; Method method = Class.forName(fragmentClassName).getMethod(&quot;newInstance&quot;, parameterTypes); return (Fragment) method.invoke(null, args); &#125; catch (ClassNotFoundException e) &#123; e.printStackTrace(); &#125; catch (NoSuchMethodException e) &#123; e.printStackTrace(); &#125; catch (InvocationTargetException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; return null;&#125;//æ·»åŠ Fragmentpublic static Fragment addByTag(FragmentActivity fragmentActivity, int containerResourceId, String tag, Bundle arguments) &#123; FragmentManager fragmentManager = fragmentActivity.getSupportFragmentManager(); Fragment fragment = reflectionNewInstance(tag); fragment.setArguments(arguments); FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.add(containerResourceId, fragment, tag); fragmentTransaction.commit(); return fragment;&#125;//æ˜¾ç¤ºFragmentpublic static void showByTag(FragmentActivity fragmentActivity, String tag) &#123; FragmentManager fragmentManager = fragmentActivity.getSupportFragmentManager(); Fragment fragment = fragmentManager.findFragmentByTag(tag); //é€šè¿‡Tabä¸Šçš„tagæŸ¥æ‰¾Fragmentå®žä¾‹ FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.show(fragment); fragmentTransaction.commit();&#125;//éšè—Fragmentpublic static void hideByTag(FragmentActivity fragmentActivity, String tag) &#123; FragmentManager fragmentManager = fragmentActivity.getSupportFragmentManager(); Fragment fragment = fragmentManager.findFragmentByTag(tag); if (fragment != null) &#123; FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction(); fragmentTransaction.hide(fragment); fragmentTransaction.commit(); &#125;&#125;]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Installation error: Unknown failure çš„è§£å†³]]></title>
    <url>%2Fc19c627d.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨å¼€å‘æ—¶ç”¨Android studio debugæ–¹å¼å¾€çœŸæœºä¸Šå®‰è£…appæ—¶çˆ†å‡ºäº†Installation error: Unknown failure åŽæ¥è¯•äº†å¾ˆå¤šç§ç½‘ä¸Šè¯´çš„æ–¹æ³•å°è¯•è§£å†³ï¼ŒåŒ…æ‹¬ï¼š ä½¿ç”¨ adb kill-server å’Œ adb start-server é‡å¯è®¡ç®—æœº ç„¶åŽæˆ‘ç”šè‡³é‡è£…äº†SDKå’ŒAndroid studio éƒ½æ— æµŽäºŽäº‹ åŽæ¥çœ‹åˆ°ç½‘ä¸Šæœ‰äººè¯´å…³é—­å°ç±³çš„MIUIä¼˜åŒ–å°±å¯ä»¥äº†ï¼Œè¯•äº†è¯•æžœç„¶è¡Œäº†ï¼ å¦‚æžœå“ªä½æ˜¯ç”¨å°ç±³çœŸæœºè°ƒè¯•çš„ä¹Ÿå‡ºäº†è¿™ä¸ªé”™è¯¯å¯ä»¥è¯•è¯•ï¼Œè¿™ä¸ªä¸å¤§ä¸å°çš„å‘å®³æˆ‘å¡«äº†ä¸€ä¸‹åˆï¼Œæµªè´¹æ—¶é—´ï¼Œè€Œä¸”å¾ˆè¯¡å¼‚çš„æ˜¯å‰ä¸€é˜µæˆ‘è°ƒè¯•æ—¶è¿™ä¸ªMIUIä¼˜åŒ–ä¸€ç›´å¼€ç€ï¼Œä¹Ÿæ²¡å‡ºé—®é¢˜ï¼Œå°±æ˜¯ä»Šå¤©æˆ‘æŠŠAndroid studioå‡çº§åˆ°äº†2.3ä»¥åŽé—®é¢˜å°±å‡ºçŽ°äº†ï¼Œä¸çŸ¥é“å…·ä½“æ˜¯ä»€ä¹ˆæƒ…å†µ å¦å¤–æˆ‘çœ‹è¿˜çˆ†å‡ºäº†å¦ä¸€ä¸ªè­¦å‘Šï¼Œä¸çŸ¥é“å’Œè¿™ä¸ªæœ‰æ— å…³ç³»ï¼Œå…ˆè®°å½•ä¸€ä¸‹ 12316:38 Instant Run detected that you are running on a target device that has a work profile or multiple user accounts. Launching the app under a work profile or another user account on the target device will result in a crash. Learn more about how to run your app under a work profile.]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Sublime Text 2ä¸­å…³é—­è®°ä½ä¸Šæ¬¡æ‰“å¼€çš„æ–‡ä»¶]]></title>
    <url>%2Fd53c0d6c.html</url>
    <content type="text"><![CDATA[æ„Ÿè§‰sublimeçš„è®°ä½ä¸Šæ¬¡æ‰“å¼€æ–‡ä»¶çš„åŠŸèƒ½å¾ˆçƒ¦ï¼ŒæŠŠä»–å…³æŽ‰å§ åœ¨â€User/Preferences.sublime-settingsâ€é…ç½®æ–‡ä»¶ä¸­å¢žåŠ æ¡ç›®ï¼š &quot;hot_exit&quot;: false, &quot;remember_open_files&quot;: falseè¿™æ ·å†æ‰“å¼€å°±æ¸…çˆ½å¤šäº†ã€‚]]></content>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[osxä¸­è®©ideaä½¿ç”¨å®˜æ–¹ç‰ˆçš„git]]></title>
    <url>%2F649b00b7.html</url>
    <content type="text"><![CDATA[ideaå®‰è£…å¥½åŽé»˜è®¤çš„gitæ˜¯osxè‡ªå¸¦çš„é‚£ä¸ªgitï¼Œç‰ˆæœ¬åº”è¯¥æ¯”è¾ƒä¹…ï¼Œè€Œä¸”æ‰“å¼€ä¼šå¼¹å‡ºä¸€ä¸ªä»€ä¹ˆXcodeçš„æç¤ºæ¡†ï¼Œæ‰€ä»¥è¿˜æ˜¯åŽ»å®˜æ–¹ä¸‹è½½æœ€æ–°çš„gitå¹¶å®‰è£…å§ï¼Œå®‰è£…åŽgitçš„è·¯å¾„ä¸º/usr/local/git/bin/gitåœ¨ideaä¸­é…ç½®å¥½å°±å¯ä»¥ä½¿ç”¨äº†ã€‚]]></content>
      <tags>
        <tag>idea</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[phpstormä½¿ç”¨svnçˆ†å‡ºâ€œcannot load supported formatsâ€ çš„è§£å†³]]></title>
    <url>%2Fe442e25e.html</url>
    <content type="text"><![CDATA[ä»Žè¿™ http://subversion.apache.org/packages.html ä¸‹è½½svnå®¢æˆ·ç«¯äºŒè¿›åˆ¶åŒ…åŽä¿®æ”¹phpstormé…ç½®ä¸­ svnçš„æŒ‡å‘åˆ°ä½ çš„svnå¯æ‰§è¡Œç¨‹åºå³å¯è§£å†³]]></content>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring-data-jpaä¸­findOneä¸ŽgetOneçš„åŒºåˆ«]]></title>
    <url>%2F95c6f649.html</url>
    <content type="text"><![CDATA[é¡¹ç›®ä¸­ç”¨åˆ°äº†spring-data-jpaï¼Œä»Šå¤©åœ¨å†™ä¸€ä¸ªupdateæ–¹æ³•çš„æ—¶å€™æŠ¥äº†ä¸ªç©ºæŒ‡é’ˆï¼Œçœ‹äº†çœ‹æ˜¯å› ä¸ºä¸€ä¸ªå¯¹è±¡ä¸­çš„å…³è”æ²¡æœ‰å–å‡ºæ¥ï¼Œæˆ‘ç”¨çš„æ˜¯getOneå–å¾—è¿™ä¸ªå¯¹è±¡ï¼ŒåŠ æ–­ç‚¹çœ‹ä»¥ä¸€ä¸‹è¿™ä¸ªå¯¹è±¡æ˜¯ä¸ªhibernateçš„ä»£ç†å¯¹è±¡ï¼Œè€Œä¸æ˜¯å®žä½“ï¼Œé‡Œé¢åŸºæœ¬æ²¡æœ‰å€¼ã€‚ ç„¶åŽæˆ‘åˆæ¢æˆfindOneè¯•äº†ä¸€ä¸‹ï¼Œæ–­ç‚¹æŸ¥çœ‹è¿™ä¸ªå–å‡ºæ¥çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯å®žä½“ï¼Œå…³è”ä¹Ÿæœ‰ã€‚ findOneä¸ŽgetOneçš„æ³¨é‡Šä¸­ä¹Ÿæœ‰äº›å¸®åŠ© /** * Retrieves an entity by its id. * * @param id must not be {@literal null}. * @return the entity with the given id or {@literal null} if none found * @throws IllegalArgumentException if {@code id} is {@literal null} */ T findOne(ID id); /** * Returns a reference to the entity with the given identifier. * * @param id must not be {@literal null}. * @return a reference to the entity with the given identifier. * @see EntityManager#getReference(Class, Object) */ T getOne(ID id);æ³¨æ„getOneæ˜¯â€œReturns a referenceâ€œ]]></content>
      <tags>
        <tag>spring-data</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¸­å°†javaçŽ¯å¢ƒç”±å®‰è£…ç‰ˆçš„openjdkæ›¿æ¢ä¸ºtarç‰ˆçš„jdk]]></title>
    <url>%2Fd2972353.html</url>
    <content type="text"><![CDATA[1.å®‰ç½®å¥½ä½ çš„tarç‰ˆçš„jdk 2.è¿è¡Œå‘½ä»¤ï¼š sudo gedit ~/.bashrc ä»Žè€Œç”¨geditç¼–è¾‘ï½ž/.bashrcæ¥è®¾ç½®çŽ¯å¢ƒå˜é‡ï¼š export JAVA_HOME=/your/path/to/jdk export JRE_HOME=$JAVA_HOME/jre export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib export PATH=${JAVA_HOME}/bin:$PATH3.è¿è¡Œå‘½ä»¤ï¼š sudo update-alternatives --install /usr/bin/java java /your/path/to/jdk/bin/java 300 sudo update-alternatives --install /usr/bin/javac javac /your/path/to/jdk/bin/javac 3004.è¿è¡Œå‘½ä»¤æŒ‰æç¤ºé€‰æ‹©ä½ çš„tarç‰ˆjdkï¼š sudo update-alternatives --config java]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¿®æ”¹rootå¯†ç ]]></title>
    <url>%2Fe591e851.html</url>
    <content type="text"><![CDATA[sudo passwd]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©spring mvcæ”¯æŒputè¯·æ±‚]]></title>
    <url>%2F844b7f17.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨å†™ä¸€ä¸ªrest controllerçš„æ—¶å€™å‘çŽ°æŽ¥æ”¶ä¸åˆ°putçš„ajaxè¯·æ±‚ï¼Œæœäº†ä¸€ä¸‹ï¼Œåªè¦åŠ ä¸ŠHttpPutFormContentFilterå°±å¯ä»¥è§£å†³äº†]]></content>
      <tags>
        <tag>spring-mvc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[osxä¸­è®©ideaæ”¯æŒjdk8çš„æ–¹æ³•]]></title>
    <url>%2F97e6e554.html</url>
    <content type="text"><![CDATA[osxä¸­å¦‚æžœä½ å®‰è£…çš„æ˜¯7å³ä»¥ä¸Šç‰ˆæœ¬çš„jdkï¼Œæ˜¯æ— æ³•æ­£å¸¸æ‰“å¼€ideaçš„ï¼Œéœ€è¦ä¿®æ”¹ideaçš„é…ç½®ã€‚ æ‰“å¼€ideaåŒ…ä¸‹çš„info.plistæ–‡ä»¶ï¼Œæ‰¾åˆ°ï¼š &lt;key&gt;JVMVersion&lt;/key&gt; &lt;string&gt;1.6*&lt;/string&gt;å¹¶æ›¿æ¢ä¸ºï¼š &lt;key&gt;JVMVersion&lt;/key&gt; &lt;string&gt;1.8*&lt;/string&gt;è¿™æ ·å°±å¯ä»¥æ­£å¸¸æ‰“å¼€äº†ã€‚]]></content>
      <tags>
        <tag>idea</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³å¼€å‘çŽ¯å¢ƒä¸Žéƒ¨å±žçŽ¯å¢ƒå·®å¼‚æ€§çš„ä¸€ç§å®žè·µ]]></title>
    <url>%2Ff5f866c1.html</url>
    <content type="text"><![CDATA[åšspring webçš„åŒå­¦å¯èƒ½éƒ½ä¼šé‡åˆ°å¼€å‘çŽ¯å¢ƒä¸Žéƒ¨å±žçŽ¯å¢ƒä¸ä¸€è‡´çš„æƒ…å†µï¼Œæ¯”å¦‚è¯´æ•°æ®åº“çš„ç”¨æˆ·åä¸Žå¯†ç ï¼Œå•ç‚¹ç™»å½•æœåŠ¡å™¨çš„åŸŸåï¼Œç­‰ç­‰ï¼Œè¦æ˜¯æ¯å›žå¼€å‘å®Œæˆéœ€è¦éƒ¨ç½²æ—¶éƒ½å†åŽ»æ”¹ä¸€éé…ç½®æ–‡ä»¶å²‚ä¸æ˜¯éžå¸¸éº»çƒ¦ã€‚ äºŽæ˜¯ï¼Œæˆ‘åœ¨æˆ‘å¾—ä¸€ä¸ªé¡¹ç›®ä¸­å®žè·µäº†ä¸€ç§èƒ½å¤Ÿåœ¨éƒ¨ç½²æ—¶æ— éœ€ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹æ³•ï¼Œä»–çš„å…³é”®å°±æ˜¯ä½¿ç”¨springçš„ &lt;util:properties&gt; ï¼š &lt;context:property-placeholder properties-ref=&quot;app&quot;/&gt; &lt;!-- springçš„&lt;util:properties&gt;æœ‰è¿™æ ·ä¸¤ç‚¹ç‰¹æ€§ï¼š 1.é»˜è®¤æƒ…å†µä¸‹springä¼šç”¨å¤–éƒ¨propertiesæ–‡ä»¶ä¸­çš„propertiesæ›¿æ¢æŽ‰â€œlocalâ€çš„properties(ä¹Ÿå°±æ˜¯ä½¿ç”¨&lt;prop&gt;é…ç½®çš„properties) 2.é…ç½®äº†â€œignore-resource-not-found=trueâ€å°±ä¼šå¿½ç•¥æ‰¾ä¸åˆ°çš„propertiesæ–‡ä»¶ åˆ©ç”¨è¿™ä¸¤ç‚¹ç‰¹æ€§ï¼Œå°†å¼€å‘çº§çš„çŽ¯å¢ƒå†™åœ¨å¤–éƒ¨propertiesæ–‡ä»¶ä¸­ï¼Œå¹¶è®¾ç½®æˆâ€œignore-resource-not-found=trueâ€ï¼ŒåŒæ—¶å°†ç”Ÿäº§çº§çš„çŽ¯å¢ƒå†™åœ¨&lt;prop&gt;ä¸­ï¼Œè¿™æ ·ï¼Œå½“éƒ¨ç½²åŽå› ä¸ºå¿½ç•¥äº†æ‰¾ä¸åˆ°çš„å¤–éƒ¨propertiesæ–‡ä»¶ï¼Œæ‰€ä»¥è‡ªç„¶å°±ä½¿ç”¨äº†&lt;prop&gt;ä¸­å®šä¹‰çš„properties; åŒæ—¶ï¼Œåœ¨å¼€å‘çŽ¯å¢ƒä¸­ï¼Œå› ä¸ºèƒ½å¤Ÿæ‰¾åˆ°å¤–éƒ¨çš„propertiesæ–‡ä»¶ï¼Œæ‰€ä»¥å¤–éƒ¨é…ç½®(å¼€å‘çº§é…ç½®)å°±ä¼šè¦†ç›–æŽ‰localçš„é…ç½®(ç”Ÿäº§çº§é…ç½®)ã€‚ é€šè¿‡è¿™æ ·çš„æ–¹æ³•åœ¨éƒ¨ç½²æ—¶å°±ä¸éœ€ä¿®æ”¹ä»»ä½•é…ç½®äº†ã€‚ --&gt; &lt;util:properties id=&quot;app&quot; ignore-resource-not-found=&quot;true&quot; location=&quot;file:C:/Dev/workspace/admin/user/src/main/resources/app-config.properties&quot;&gt; &lt;!-- ç”Ÿäº§çŽ¯å¢ƒ --&gt; &lt;prop key=&quot;dataSource.url&quot;&gt;jdbc:mysql://localhost:3306/admin_user&lt;/prop&gt; &lt;prop key=&quot;dataSource.username&quot;&gt;dev&lt;/prop&gt; &lt;prop key=&quot;dataSource.password&quot;&gt;pass&lt;/prop&gt; &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop&gt; &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt; &lt;prop key=&quot;cas.service&quot;&gt;somedomain:8444/user&lt;/prop&gt; &lt;prop key=&quot;cas.server&quot;&gt;somedomain:8444/cas&lt;/prop&gt; &lt;prop key=&quot;cas.key&quot;&gt;CAS_KEY_ADMIN.USER&lt;/prop&gt; &lt;/util:properties&gt;]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨linuxä¸­å®‰è£…rpmç‰ˆçš„mysql5.6çš„æ³¨æ„äº‹é¡¹]]></title>
    <url>%2F5ad5f4e2.html</url>
    <content type="text"><![CDATA[å»ºè®®å…ˆçœ‹çœ‹å®˜æ–¹ç»™å‡ºçš„å®‰è£…æ–‡æ¡£ http://dev.mysql.com/doc/refman/5.7/en/linux-installation-rpm.html å®‰è£…å®Œæ¯•åŽä¼šç”Ÿæˆä¸€ä¸ªéšæœºçš„rootå¯†ç ï¼Œå¯†ç ä¿å­˜åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.mysql_secretæ–‡ä»¶ä¸­ åˆšå®‰è£…åŽä½¿ç”¨/etc/init.d/ä¸‹çš„åä¸ºmysqlçš„è„šæœ¬æ¥å¯åŠ¨mysqlæœåŠ¡å™¨ sh /etc/init.d/mysql start å¯åŠ¨åŽä½¿ç”¨å®¢æˆ·ç«¯è¿žæŽ¥ï¼Œæ²¡ä¿®æ”¹rootå¯†ç å‰åªèƒ½ä½¿ç”¨ SET PASSWORD å‘½ä»¤SET PASSWORD = PASSWORD(&#39;your_new_root_password&#39;);]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[.docx æ–‡ä»¶æ˜¯å¯ä»¥ç”¨winrarçœ‹åˆ°å±‚çº§ç»“æž„çš„]]></title>
    <url>%2Fa310293b.html</url>
    <content type="text"><![CDATA[ä»Šå¤©å¶å°”åœ¨ä¸€ä¸ª.zipæ–‡ä»¶é‡Œé¢çš„.docxæ–‡ä»¶ä¸Šç‚¹äº†ä¸€ä¸‹&ldquo;æŸ¥çœ‹æ–‡ä»¶&rdquo;ç»“æžœç«Ÿç„¶æ‰“å¼€äº†ä¸€ä¸ªå±‚çº§ç»“æž„ï¼Œæœ‰äº›å‡ºä¹Žæ„æ–™ï¼Œä¹Ÿè®¸ä»¥åŽèƒ½ç”¨å¾—åˆ°è¿™ä¸ªç‰¹æ€§ã€‚]]></content>
      <tags>
        <tag>å…¶ä»–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring security ä¸­å¯ç”¨è§’è‰²ç»§æ‰¿ã€ACLä¸ŽCAS]]></title>
    <url>%2F947f7f30.html</url>
    <content type="text"><![CDATA[åšé¡¹ç›®æ—¶éœ€è¦ç”¨åˆ°è§’è‰²ç»§æ‰¿ã€ACLå’ŒCASï¼Œåœ¨ç½‘ä¸Šæœäº†å‡ ç¯‡æ–‡ç« ï¼Œå†™çš„å®žåœ¨æ˜¯è¯¯äººå­å¼Ÿï¼Œç´¢æ€§ç¿»äº†ç¿»æºç ã€æ–‡æ¡£ä¸Žå®˜æ–¹ç¤ºä¾‹ï¼Œåšäº†ä¸€ä»½é…ç½®ï¼Œä¾›éœ€è¦çš„æœ‹å‹å‚è€ƒã€‚ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd&quot;&gt; &lt;!-- æ–¹æ³•å®‰å…¨ --&gt; &lt;global-method-security secured-annotations=&quot;enabled&quot; pre-post-annotations=&quot;enabled&quot; jsr250-annotations=&quot;enabled&quot; access-decision-manager-ref=&quot;methodAccessDecisionManager&quot;&gt; &lt;expression-handler ref=&quot;methodSecurityExpressionHandler&quot;/&gt; &lt;after-invocation-provider ref=&quot;postInvocationAdviceProvider&quot;/&gt; &lt;/global-method-security&gt; &lt;!-- HTTPå®‰å…¨ --&gt; &lt;http pattern=&quot;/proxy.html&quot; security=&quot;none&quot; /&gt; &lt;http entry-point-ref=&quot;casEntryPoint&quot; use-expressions=&quot;true&quot; access-decision-manager-ref=&quot;webAccessDecisionManager&quot;&gt; &lt;expression-handler ref=&quot;webSecurityExpressionHandler&quot;/&gt; &lt;intercept-url pattern=&quot;/&quot; access=&quot;hasRole(&apos;ROLE_USER&apos;)&quot;/&gt; &lt;custom-filter ref=&quot;requestSingleLogoutFilter&quot; before=&quot;LOGOUT_FILTER&quot;/&gt; &lt;custom-filter ref=&quot;singleLogoutFilter&quot; before=&quot;CAS_FILTER&quot;/&gt; &lt;custom-filter ref=&quot;casFilter&quot; position=&quot;CAS_FILTER&quot;/&gt; &lt;/http&gt; &lt;!-- â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“æŽˆæƒ(Authorization)é…ç½®â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“ --&gt; &lt;beans:bean id=&quot;aclAuthorizationStrategy&quot; class=&quot;org.springframework.security.acls.domain.AclAuthorizationStrategyImpl&quot;&gt; &lt;beans:constructor-arg name=&quot;auths&quot;&gt; &lt;beans:list&gt; &lt;beans:ref bean=&quot;supervisor&quot;/&gt; &lt;beans:ref bean=&quot;supervisor&quot;/&gt; &lt;beans:ref bean=&quot;supervisor&quot;/&gt; &lt;/beans:list&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;permissionGrantingStrategy&quot; class=&quot;org.springframework.security.acls.domain.DefaultPermissionGrantingStrategy&quot;&gt; &lt;beans:constructor-arg name=&quot;auditLogger&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.acls.domain.ConsoleAuditLogger&quot;/&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;supervisor&quot; class=&quot;org.springframework.security.core.authority.SimpleGrantedAuthority&quot;&gt; &lt;beans:constructor-arg name=&quot;role&quot; value=&quot;ROLE_SUPERVISOR&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;aclCache&quot; class=&quot;org.springframework.security.acls.domain.EhCacheBasedAclCache&quot;&gt; &lt;beans:constructor-arg name=&quot;cache&quot;&gt; &lt;beans:bean class=&quot;org.springframework.cache.ehcache.EhCacheFactoryBean&quot;&gt; &lt;beans:property name=&quot;overflowToDisk&quot; value=&quot;true&quot;/&gt; &lt;beans:property name=&quot;maxElementsInMemory&quot; value=&quot;1024&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:constructor-arg&gt; &lt;beans:constructor-arg name=&quot;permissionGrantingStrategy&quot; ref=&quot;permissionGrantingStrategy&quot;/&gt; &lt;beans:constructor-arg name=&quot;aclAuthorizationStrategy&quot; ref=&quot;aclAuthorizationStrategy&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;lookupStrategy&quot; class=&quot;org.springframework.security.acls.jdbc.BasicLookupStrategy&quot;&gt; &lt;beans:constructor-arg name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;beans:constructor-arg name=&quot;aclCache&quot; ref=&quot;aclCache&quot;/&gt; &lt;beans:constructor-arg name=&quot;aclAuthorizationStrategy&quot; ref=&quot;aclAuthorizationStrategy&quot;/&gt; &lt;beans:constructor-arg name=&quot;grantingStrategy&quot; ref=&quot;permissionGrantingStrategy&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;aclService&quot; class=&quot;org.springframework.security.acls.jdbc.JdbcMutableAclService&quot;&gt; &lt;beans:constructor-arg name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;beans:constructor-arg name=&quot;lookupStrategy&quot; ref=&quot;lookupStrategy&quot;/&gt; &lt;beans:constructor-arg name=&quot;aclCache&quot; ref=&quot;aclCache&quot;/&gt; &lt;beans:property name=&quot;classIdentityQuery&quot; value=&quot;select @@identity&quot;/&gt;&lt;!-- select @@identityç”¨äºŽèŽ·å¾—åˆšåˆšæ’å…¥çš„è‡ªå¢žid select LAST_INSERT_ID() --&gt; &lt;beans:property name=&quot;sidIdentityQuery&quot; value=&quot;select @@identity&quot;/&gt; &lt;/beans:bean&gt; &lt;!-- é€šè¿‡è¡¨è¾¾å¼ä½¿ç”¨ACL --&gt; &lt;beans:bean id=&quot;aclPermissionEvaluator&quot; class=&quot;org.springframework.security.acls.AclPermissionEvaluator&quot;&gt; &lt;beans:constructor-arg name=&quot;aclService&quot; ref=&quot;aclService&quot;/&gt; &lt;/beans:bean&gt; &lt;!-- è§’è‰²ç»§æ‰¿ --&gt; &lt;beans:bean id=&quot;roleHierarchy&quot; class=&quot;org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl&quot;&gt; &lt;beans:property name=&quot;hierarchy&quot;&gt; &lt;beans:value&gt; ROLE_DEVELOPER &gt; ROLE_SUPERVISOR ROLE_SUPERVISOR &gt; ROLE_ADMIN ROLE_ADMIN &gt; ROLE_USER &lt;/beans:value&gt; &lt;/beans:property&gt; &lt;/beans:bean&gt; &lt;!-- ç”¨äºŽwebçš„ExpressionHandler --&gt; &lt;beans:bean id=&quot;webSecurityExpressionHandler&quot; name=&quot;webSecurityExpressionHandler&quot; class=&quot;org.springframework.security.web.access.expression.DefaultWebSecurityExpressionHandler&quot;&gt; &lt;beans:property name=&quot;roleHierarchy&quot; ref=&quot;roleHierarchy&quot;/&gt; &lt;beans:property name=&quot;permissionEvaluator&quot; ref=&quot;aclPermissionEvaluator&quot;/&gt; &lt;/beans:bean&gt; &lt;!-- ç”¨äºŽmethodçš„ExpressionHandler --&gt; &lt;beans:bean id=&quot;methodSecurityExpressionHandler&quot; class=&quot;org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler&quot;&gt; &lt;beans:property name=&quot;roleHierarchy&quot; ref=&quot;roleHierarchy&quot;/&gt; &lt;beans:property name=&quot;permissionCacheOptimizer&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.acls.AclPermissionCacheOptimizer&quot;&gt; &lt;beans:constructor-arg name=&quot;aclService&quot; ref=&quot;aclService&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:property&gt; &lt;beans:property name=&quot;permissionEvaluator&quot; ref=&quot;aclPermissionEvaluator&quot;/&gt; &lt;/beans:bean&gt; &lt;!-- ç”¨äºŽweb(taglibä»¥åŠurl)çš„AccessDecisionManager --&gt; &lt;beans:bean id=&quot;webAccessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt; &lt;beans:constructor-arg&gt; &lt;beans:list&gt; &lt;beans:bean class=&quot;org.springframework.security.web.access.expression.WebExpressionVoter&quot;&gt; &lt;beans:property name=&quot;expressionHandler&quot; ref=&quot;webSecurityExpressionHandler&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean class=&quot;org.springframework.security.access.vote.RoleHierarchyVoter&quot;&gt; &lt;beans:constructor-arg ref=&quot;roleHierarchy&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot;/&gt; &lt;/beans:list&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;!-- ç”¨äºŽmethodçš„AccessDecisionManager --&gt; &lt;beans:bean id=&quot;methodAccessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.AffirmativeBased&quot;&gt; &lt;beans:constructor-arg&gt; &lt;beans:list&gt; &lt;beans:bean class=&quot;org.springframework.security.access.vote.RoleHierarchyVoter&quot;&gt; &lt;beans:constructor-arg ref=&quot;roleHierarchy&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot;/&gt; &lt;beans:bean class=&quot;org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter&quot;&gt; &lt;beans:constructor-arg name=&quot;pre&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice&quot;&gt; &lt;beans:property name=&quot;expressionHandler&quot; ref=&quot;methodSecurityExpressionHandler&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;beans:bean class=&quot;org.springframework.security.access.annotation.Jsr250Voter&quot;/&gt; &lt;/beans:list&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;!-- åŽç½®è¿‡æ»¤ --&gt; &lt;beans:bean id=&quot;postInvocationAdviceProvider&quot; class=&quot;org.springframework.security.access.prepost.PostInvocationAdviceProvider&quot;&gt; &lt;beans:constructor-arg name=&quot;postAdvice&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.access.expression.method.ExpressionBasedPostInvocationAdvice&quot;&gt; &lt;beans:constructor-arg name=&quot;expressionHandler&quot; ref=&quot;methodSecurityExpressionHandler&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;!-- â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘/æŽˆæƒ(Authorization)é…ç½®â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘ --&gt; &lt;!-- â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“è®¤è¯(Authentication)é…ç½®â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“ --&gt; &lt;authentication-manager alias=&quot;authManager&quot;&gt; &lt;authentication-provider ref=&quot;casAuthProvider&quot;/&gt; &lt;/authentication-manager&gt; &lt;beans:bean id=&quot;userService&quot; class=&quot;org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl&quot;&gt; &lt;beans:property name=&quot;enableGroups&quot; value=&quot;true&quot;/&gt; &lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/beans:bean&gt; &lt;!-- This filter handles a Single Logout Request from the CAS Server --&gt; &lt;beans:bean id=&quot;singleLogoutFilter&quot; class=&quot;org.jasig.cas.client.session.SingleSignOutFilter&quot;/&gt; &lt;!-- This filter redirects to the CAS Server to signal Single Logout should be performed --&gt; &lt;beans:bean id=&quot;requestSingleLogoutFilter&quot; class=&quot;org.springframework.security.web.authentication.logout.LogoutFilter&quot;&gt; &lt;beans:property name=&quot;filterProcessesUrl&quot; value=&quot;/j_spring_cas_security_logout&quot;/&gt; &lt;beans:constructor-arg name=&quot;logoutSuccessUrl&quot; value=&quot;https://${cas.server}/logout&quot;/&gt; &lt;beans:constructor-arg name=&quot;handlers&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler&quot;/&gt; &lt;/beans:constructor-arg&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;serviceProperties&quot; class=&quot;org.springframework.security.cas.ServiceProperties&quot;&gt; &lt;beans:property name=&quot;service&quot; value=&quot;https://${cas.service}/j_spring_cas_security_check&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;casEntryPoint&quot; class=&quot;org.springframework.security.cas.web.CasAuthenticationEntryPoint&quot;&gt; &lt;beans:property name=&quot;serviceProperties&quot; ref=&quot;serviceProperties&quot;/&gt; &lt;beans:property name=&quot;loginUrl&quot; value=&quot;https://${cas.server}/login&quot;/&gt; &lt;/beans:bean&gt; &lt;beans:bean id=&quot;casFilter&quot; class=&quot;org.springframework.security.cas.web.CasAuthenticationFilter&quot;&gt; &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;authManager&quot;/&gt; &lt;beans:property name=&quot;serviceProperties&quot; ref=&quot;serviceProperties&quot;/&gt; &lt;beans:property name=&quot;authenticationDetailsSource&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.cas.web.authentication.ServiceAuthenticationDetailsSource&quot;/&gt; &lt;/beans:property&gt; &lt;beans:property name=&quot;authenticationFailureHandler&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.web.authentication.SimpleUrlAuthenticationFailureHandler&quot;/&gt; &lt;/beans:property&gt; &lt;/beans:bean&gt; &lt;!-- NOTE: In a real application you should not use an in memory implementation. You will also want to ensure to clean up expired tickets by calling ProxyGrantingTicketStorage.cleanup() --&gt; &lt;beans:bean id=&quot;casAuthProvider&quot; class=&quot;org.springframework.security.cas.authentication.CasAuthenticationProvider&quot;&gt; &lt;beans:property name=&quot;serviceProperties&quot; ref=&quot;serviceProperties&quot;/&gt; &lt;beans:property name=&quot;key&quot; value=&quot;${cas.key}&quot;/&gt; &lt;beans:property name=&quot;authenticationUserDetailsService&quot;&gt; &lt;beans:bean class=&quot;org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper&quot;&gt; &lt;beans:constructor-arg ref=&quot;userService&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:property&gt; &lt;beans:property name=&quot;ticketValidator&quot;&gt; &lt;beans:bean class=&quot;org.jasig.cas.client.validation.Cas20ProxyTicketValidator&quot;&gt; &lt;beans:constructor-arg value=&quot;https://${cas.server}&quot;/&gt; &lt;/beans:bean&gt; &lt;/beans:property&gt; &lt;/beans:bean&gt; &lt;!-- Configuration for the environment can be overriden by system properties --&gt; &lt;context:property-placeholder system-properties-mode=&quot;OVERRIDE&quot; properties-ref=&quot;environment&quot;/&gt; &lt;util:properties id=&quot;environment&quot;&gt; &lt;beans:prop key=&quot;cas.service&quot;&gt;localhost:8444/user&lt;/beans:prop&gt; &lt;beans:prop key=&quot;cas.server&quot;&gt;localhost:8443/cas&lt;/beans:prop&gt; &lt;beans:prop key=&quot;cas.key&quot;&gt;CAS_KEY_ADMIN.USER&lt;/beans:prop&gt; &lt;/util:properties&gt; &lt;!-- â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘/è®¤è¯(Authentication)é…ç½®â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘ --&gt; &lt;/beans:beans&gt;]]></content>
      <tags>
        <tag>spring-security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“]]></title>
    <url>%2Fc1c96e3c.html</url>
    <content type="text"><![CDATA[å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“åŽå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ã€‚]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Maven æ‰“åŒ…æˆjar]]></title>
    <url>%2F87edb5b6.html</url>
    <content type="text"><![CDATA[&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;/plugin&gt;]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webstorm ä½¿ç”¨è¿œç¨‹gitä»“]]></title>
    <url>%2Fbeb2f53f.html</url>
    <content type="text"><![CDATA[1.åœ¨é¡¹ç›®ä¸Šå»ºç«‹gitä»“ï¼ˆæˆ‘æ˜¯ç›´æŽ¥å°†é¡¹ç›®åœ°å€ä½œä¸ºgitä»“çš„åœ°å€çš„ï¼‰ï¼š 2.ä½¿ç”¨Git Bashåˆ‡æ¢åˆ°åˆšæ‰åˆ›å»ºå¥½çš„gitä»“ä¸­ï¼Œç„¶åŽä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼ˆå¦‚æžœä½ æ˜¯ç”¨çš„Gitblitæ­å»ºçš„è¿œç¨‹ä»“çš„è¯ï¼Œæ–°å»ºå¥½çš„ä»“åº“Gitblitä¼šå‘Šè¯‰ä½ ä½¿ç”¨å“ªäº›å‘½ä»¤çš„ï¼Œåœ¨Gitblitçš„æ–°å»ºçš„ç©ºç™½ä»“åº“çš„ä¸»é¡µé¢ä¸Šå¯ä»¥çœ‹åˆ°ï¼‰ 3.ç„¶åŽåˆ·æ–°é¡¹ç›®å°±å¯ä»¥push/pulläº†]]></content>
      <tags>
        <tag>Webstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tomcatå¯ç”¨è¿œç¨‹è°ƒè¯•]]></title>
    <url>%2F67a94c98.html</url>
    <content type="text"><![CDATA[ä½¿ç”¨jpda startçš„æ–¹å¼å¯åŠ¨tomcatå³å¯å¯ç”¨è¿œç¨‹è°ƒè¯•ï¼Œå¯ä»¥å†™ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥æŽ§åˆ¶ï¼š export JPDA_ADDRESS=8087 ./catalina.sh jpda starté€šè¿‡JPDA_ADDRESSæŒ‡å®šjpdaä½¿ç”¨çš„ç«¯å£ï¼Œä»¥é˜²é»˜è®¤ç«¯å£è¢«å ç”¨ã€‚]]></content>
      <tags>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Eclipseçš„External Toolså¯åŠ¨Mongodb]]></title>
    <url>%2F26d76230.html</url>
    <content type="text"><![CDATA[ä½¿ç”¨Eclipseçš„External Toolså¯åŠ¨Mongodbæ¯”ç”¨cmdå¯åŠ¨è¦å¥½å¾—å¤šï¼Œå› ä¸ºå®ƒä¼šå°†æ¶ˆæ¯è¾“å‡ºåˆ°Eclipseçš„æŽ§åˆ¶å°ä¸­ï¼Œè¿™æ ·æ¯”è¾ƒæ–¹ä¾¿åœ¨å¼€å‘æ—¶æŸ¥çœ‹ã€‚]]></content>
      <tags>
        <tag>eclipse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MongoDB æ–°å»ºæ•°æ®åº“ç”¨æˆ·ä¾‹å­]]></title>
    <url>%2F8a50509b.html</url>
    <content type="text"><![CDATA[use admin db.addUser( { user: &quot;&lt;username&gt;&quot;, pwd: &quot;&lt;password&gt;&quot;, roles: [ &quot;userAdminAnyDatabase&quot;, &quot;dbAdminAnyDatabase&quot;, &quot;readWriteAnyDatabase&quot; ] } )]]></content>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³å±€åŸŸç½‘è¿žæŽ¥MySqlå¥‡æ…¢æ— æ¯”çš„é—®é¢˜]]></title>
    <url>%2F2c317dd7.html</url>
    <content type="text"><![CDATA[[mysqld] skip-name-resolve]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¿®æ”¹äº†ä¸€ä¸ªå¼€æºçš„Bootstrapè¡¨å•éªŒè¯æ’ä»¶]]></title>
    <url>%2Fce9d724.html</url>
    <content type="text"><![CDATA[jqBootstrapValidation ï¼ˆç‰ˆæœ¬1.3.7ï¼‰æ˜¯ä¸€ä¸ªä¸ºBootstrapå¢žåŠ è¡¨å•éªŒè¯åŠŸèƒ½çš„æ’ä»¶ï¼Œæœ¬æ¥æƒ³ç”¨åœ¨é¡¹ç›®ä¸­ï¼Œç»“æžœè¯•äº†ä¸€ä¸‹ä¸ç®¡ç”¨ã€‚çœ‹äº†çœ‹æºç æ‰æ˜Žç™½è¿™ä¸ªæ’ä»¶æ˜¯é’ˆå¯¹Bootstrap2.xå¼€å‘çš„ï¼Œè€Œæˆ‘ç”¨çš„æ˜¯Bootstrap3.xï¼Œç”±äºŽæ’ä»¶ä¸­æ˜¯ç”¨çš„ç¡¬ç¼–ç çš„Bootstrap2.xçš„classåä½œä¸ºselectorçš„æ‰€ä»¥è‚¯å®šä¸èµ·ä½œç”¨ï¼ŒäºŽæ˜¯æˆ‘æŠŠé‡Œé¢çš„å‡ ä¸ªclassåæ›¿æ¢æˆBootstrap3.xçš„ç±»åï¼Œå¹¶ä¸”ä¿®æ”¹äº†å‡ å¤„é€»è¾‘é”™è¯¯åŽï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ ä¸»è¦çš„æ”¹åŠ¨ï¼š1.error æ”¹ä¸º has-error, warningæ”¹ä¸ºhas-warning, successæ”¹ä¸ºhas-success, .control-groupæ”¹ä¸º .form-group2.åŽ»æŽ‰71è¡Œçš„ $form.addClass(â€œerrorâ€); ä»¥åŠ 78è¡Œçš„ $form.removeClass(â€œerrorâ€); è¿™ä¸¤å¤„éƒ½æ˜¯é€»è¾‘é”™è¯¯3.ä¿®æ”¹94-99è¡Œä»£ç ä¸ºï¼šï¼ˆåŒæ ·æ˜¯é€»è¾‘é”™è¯¯ï¼‰ // create message container if not exists if ($helpBlock.length == 0 &amp;&amp; settings.options.autoAdd &amp;&amp; settings.options.autoAdd.helpBlocks) { $helpBlock = $(&apos;&lt;div class=&quot;help-block&quot; /&gt;&apos;); $controlGroup.append($helpBlock); createdElements.push($helpBlock[0]); }]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©log4jè¾“å‡ºIDEå‹å¥½çš„æ—¥å¿—]]></title>
    <url>%2F1ccf0b4a.html</url>
    <content type="text"><![CDATA[log4j.appender.CONSOLE.layout.ConversionPattern=%l %m%nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä½¿ç”¨ %l çš„æ–¹å¼è¾“å‡ºåŽï¼Œeclipseä¼šè‡ªåŠ¨ä¸ºå¯¹åº”çš„ä»£ç è¡ŒåŠ ä¸Šé“¾æŽ¥ï¼Œè¿™æ ·é¼ æ ‡ç‚¹å‡»å°±å¯ä»¥è·³è½¬åˆ°ç›¸å…³çš„æºç ä¸­ï¼Œååˆ†æ–¹ä¾¿ã€‚]]></content>
      <tags>
        <tag>log4j</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Sonatype Nexusæ­å»ºMavené•œåƒçš„å‡ ç‚¹æ³¨æ„äº‹é¡¹]]></title>
    <url>%2Fb1eaee26.html</url>
    <content type="text"><![CDATA[Mavenåœ¨çŽ°åœ¨çš„Javaå¼€å‘ä¸­è¶Šæ¥è¶Šé‡è¦äº†ï¼Œæˆ‘å¹³å¸¸çš„é¡¹ç›®åŸºæœ¬å…¨éƒ¨ä½¿ç”¨Mavenæ¥ç®¡ç†ä¾èµ–äº†ï¼Œç”±äºŽå¿å—ä¸äº†Central Repoçš„é€Ÿåº¦ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨Sonatype Nexusåœ¨å•ä½çš„æœåŠ¡å™¨ä¸Šå®‰è£…äº†ä¸€ä¸ªMavené•œåƒï¼Œå®‰è£…å’Œä½¿ç”¨è¿‡ç¨‹ä¸­æ€»ç»“äº†å‡ ä¸ªæ³¨æ„äº‹é¡¹ï¼Œè®°å½•ä¸€ä¸‹ï¼š Update Indexçš„è¿›åº¦è¦ä»ŽScheduled Tasksä¸­æŸ¥çœ‹ã€‚ Sonatype Nexuså†…ç½®çš„é»˜è®¤Central Repoçš„åœ°å€æ˜¯ä¸€ä¸ªè¿‡æœŸçš„æ—§åœ°å€ï¼Œç”¨é‚£ä¸ªæ—§åœ°å€Update Indexå¾—åˆ°çš„Indexå°‘å¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚spring4.xçš„æœ€æ–°çš„spring-context-supporté‡Œé¢å°±æ²¡æœ‰ã€‚æ–°çš„åœ°å€æ˜¯http://repo.maven.apache.org/maven2/ï¼ˆä»¥åŽä¹Ÿè®¸è¿˜ä¼šå˜ï¼Œç•™æ„å°±è¡Œäº†ï¼‰ã€‚ adminçš„åˆå§‹å¯†ç æ˜¯admin123ã€‚]]></content>
      <tags>
        <tag>maven</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³é—­ehcacheçš„æ›´æ–°æ£€æŸ¥]]></title>
    <url>%2F79c7804c.html</url>
    <content type="text"><![CDATA[ä¸çŸ¥é“ehcacheçŽ©çš„ä»€ä¹ˆå¥—è·¯ï¼Œç«Ÿç„¶è¿˜åšäº†ä¸ªæ›´æ–°æ£€æŸ¥åœ¨æ ¸å¿ƒé‡Œé¢ï¼Œè€Œä¸”è¿˜æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œè€Œä¸”è¿˜ä¼šçˆ†ioå¼‚å¸¸ï¼Œè¿˜æ˜¯æŠŠå®ƒå…³äº†å§ï¼š &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;http://ehcache.org/ehcache.xsd&quot; updateCheck=&quot;false&quot;&gt;updateCheck=â€falseâ€]]></content>
      <tags>
        <tag>ehcache</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®©slf4jæŽ¥ç®¡commons-loggingï¼Œå¹¶ä½¿ç”¨log4jå®žçŽ°]]></title>
    <url>%2Fad8d006e.html</url>
    <content type="text"><![CDATA[&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt;]]></content>
      <tags>
        <tag>log4j</tag>
        <tag>slf4j</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxä¸­ä½¿ç”¨æŒ‡å®šç”¨æˆ·è¿è¡Œå‘½ä»¤]]></title>
    <url>%2F4549a801.html</url>
    <content type="text"><![CDATA[su username -c &apos;cmd&apos;]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[spring mvcä¸­å¯ç”¨MatrixVariable]]></title>
    <url>%2F2b0fad20.html</url>
    <content type="text"><![CDATA[@MatrixVariable åœ¨Spring MVCä¸­é»˜è®¤æ˜¯ä¸å¯ç”¨çš„ï¼Œå¯ç”¨å®ƒéœ€è¦è®¾ç½® enable-matrix-variables=â€trueâ€ &lt;annotation-driven enable-matrix-variables=&quot;true&quot; /&gt;]]></content>
      <tags>
        <tag>spring-mvc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³â€œis marked as crashed and should be repairedâ€]]></title>
    <url>%2F82484bbc.html</url>
    <content type="text"><![CDATA[ç”±äºŽæœåŠ¡å™¨å­˜å‚¨æ»¡äº†å¯¼è‡´MySQLå¯åŠ¨ä¸èµ·æ¥äº†ï¼Œæ¸…ç†äº†å­˜å‚¨ç©ºé—´åŽå†å¯åŠ¨MySQLæŠ¥äº†ä¸ªâ€œTable XX is marked as crashed and should be repairedâ€ï¼Œçœ‹æ„æ€åº”è¯¥æ˜¯è¡¨æŸåäº†ï¼Œæœäº†ä¸€ä¸‹ï¼Œè§£å†³è¿™ä¸ªç”¨ myisamchk å°±å¯ä»¥äº†ï¼ˆæˆ‘çš„è¡¨éƒ½æ˜¯ISAMå¼•æ“Žçš„ï¼‰ã€‚ å…·ä½“ç”¨æ³•ï¼š myisamchk -r /your/table/data/path.MYI]]></content>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centosä¸Šå°†Gitblitå®‰è£…ä¸ºæœåŠ¡]]></title>
    <url>%2Fc0048afd.html</url>
    <content type="text"><![CDATA[å•ä½æœ‰äº›é¡¹ç›®éœ€è¦ç‰ˆæœ¬æŽ§åˆ¶ï¼Œæƒ³ç”¨Gitæ¥ç®¡ç†ï¼Œä¹ æƒ¯äº†Githubè¿™ç§æ–¹å¼ï¼Œä½†æ˜¯å•ä½çš„é¡¹ç›®æ”¾åœ¨Githubçš„å…¬å…±ä»“ä¹Ÿä¸å¤ªåˆé€‚ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±æ­ä¸€ä¸ªhubã€‚ç±»hubè½¯ä»¶ä¸å°‘ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯Gitblitï¼ˆé€‰æ‹©å®ƒæ˜¯å› ä¸ºå®ƒæ˜¯ç”¨Javaå†™çš„ï¼‰ã€‚åœ¨å®‰è£…Gitblitæ—¶æˆ‘å¤§æ¦‚çœ‹äº†å‡ çœ¼å®˜æ–¹ç½‘ç«™ï¼Œæ²¡æ‰¾åˆ°å®‰è£…æ–‡æ¡£ï¼Œç„¶åŽå°±ç½‘æœäº†ä¸€ä¸‹ï¼Œå¦å¤–çœ‹äº†çœ‹Gitblité‡Œé¢çš„å‡ ä¸ªshellè„šæœ¬ï¼Œå¤§è‡´ä¹Ÿæ˜Žç™½æ˜¯æ€Žä¹ˆå›žäº‹äº†ï¼Œç„¶åŽå°±å¼€å§‹å®‰è£…äº†ã€‚ è¯´ä¸€ä¸‹å®‰è£…çš„æ­¥éª¤å§ï¼šï¼ˆæˆ‘å®‰è£…çš„æ˜¯Gitblit GO è¿™æ˜¯ä¸€ä¸ªSingle-Stack Solutionçš„ç‰ˆæœ¬ï¼ŒGitblitä¹Ÿæœ‰WARç‰ˆçš„å’Œå…¶ä»–çš„ç‰ˆæœ¬ï¼‰ 1.è§£åŽ‹GitblitåŽ‹ç¼©åŒ…åˆ°/opt/gitblit ï¼Œè¦æƒ³æŠŠGitblitå®‰è£…æˆæœåŠ¡ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯é»˜è®¤çš„ç›®å½•ï¼Œæƒ³æ”¾åˆ°åˆ«çš„ç›®å½•ä¸‹å®‰è£…æˆæœåŠ¡åº”è¯¥è¿˜å¾—æ”¹é…ç½®(æ”¹service-centos.shæ–‡ä»¶)ï¼Œæ²¡å¿…è¦è‡ªæ‰¾éº»çƒ¦äº† 2.è¿è¡Œå®‰è£…ç›®å½•ä¸‹çš„ install-service-centos.sh è„šæœ¬ï¼Œè¿™æ ·å°±æŠŠGitblitå®‰è£…æˆæœåŠ¡äº† å†è¯´ä¸€ä¸‹åŸºæœ¬çš„ä½¿ç”¨å§ï¼š Gitblité»˜è®¤æä¾›çš„æ˜¯HTTPSåè®®ä¸‹çš„è®¿é—®ï¼Œè€Œä¸æä¾›HTTPçš„ï¼Œé»˜è®¤ç«¯å£ä»Žä¸Šå›¾å¯ä»¥çœ‹å‡ºæ¥æ˜¯ 8443ï¼Œæ‰€ä»¥åªè¦è®¿é—®https://yourdomain:8443 å°±å¯ä½¿ç”¨Gitblitäº† Gitblitçš„é»˜è®¤å¸å·/å¯†ç æ˜¯admin/adminï¼Œç™»å½•åŽè‡ªå·±ä¿®æ”¹å¯†ç å°±å¯ä»¥äº†ï¼ŒGitblitçš„è®¤è¯ä¸ŽæŽˆæƒä¿¡æ¯ä¿å­˜åœ¨ Gitblitæ ¹ç›®å½•/data/users.confæ–‡ä»¶ä¸­]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³äº†ä¸€ä¸ªcronä»»åŠ¡æ‰§è¡ŒåŽæ— æ•ˆæžœçš„é—®é¢˜]]></title>
    <url>%2F50b4e0a7.html</url>
    <content type="text"><![CDATA[å†™äº†ä¸€ä¸ªshellè„šæœ¬æ”¾åˆ°crontabä¸­ï¼Œç»“æžœçœ‹äº†çœ‹ï¼Œcronæ‰§è¡Œäº†è„šæœ¬ï¼Œä½†æ˜¯å´æ²¡æœ‰æ‰§è¡ŒåŽåº”æœ‰çš„æ•ˆæžœï¼Œæ‰‹å·¥æ‰§è¡Œè¿™ä¸ªè„šæœ¬æ˜¯æ­£å¸¸çš„ï¼Œè„šæœ¬çš„æƒé™ä¹Ÿæ˜¯755ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å°±æ˜¯åœ¨ä»»åŠ¡ä¸­æ‰§è¡Œæ²¡æœ‰æ•ˆæžœï¼Œä¸çŸ¥é“æ˜¯æ€Žä¹ˆå›žäº‹ï¼ŒåŽæ¥åœ¨åŒäº‹ï¼ˆç½‘ç®¡ï¼‰çš„å¸®åŠ©ä¸‹è§£å†³äº†ï¼Œè§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨è„šæœ¬æœ€å‰é¢å†™ä¸Š cdåˆ°è„šæœ¬æ‰€åœ¨ç›®å½•å°±å¯ä»¥äº†ã€‚(åŽæ¥è¯•äº†è¯•ä¾æ—§ä¸è¡Œï¼Œä¼šå‡ºçŽ°ä¸€äº›èŽ«åçš„é”™è¯¯ï¼Œå½»åº•çš„è§£å†³æ–¹æ³•éœ€è¦å¯¼å…¥çŽ¯å¢ƒå˜é‡ï¼Œçœ‹è¿™ç¯‡æ–‡ç« ) #å®šä¹‰è„šæœ¬è¿è¡Œçš„ç›®å½• app_path="/your/app/path" #cdåˆ°è¿è¡Œç›®å½•(ä¸è¿™æ ·åšè„šæœ¬ä¸ä¼šæ­£å¸¸æ‰§è¡Œ) cd $app_path]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³æ‰‹åŠ¨è¿è¡Œè„šæœ¬æ‰§è¡Œæ­£å¸¸è€Œæ”¾å…¥crontabåŽä¸æ­£å¸¸çš„æ–¹æ³•]]></title>
    <url>%2F7ad46a54.html</url>
    <content type="text"><![CDATA[è§£å†³éœ€è¦ å¯¼å…¥çŽ¯å¢ƒå˜é‡ æœ‰ä¸¤ç§å¯¼å…¥æ–¹æ³•ï¼š åœ¨crontab -eç¼–è¾‘æ—¶åŠ å…¥ . /etc/profile;/bin/sh #ä¸»è¦&quot;.&quot;åŽè¦æœ‰ä¸ªç©ºæ ¼ 0 12 * * * . /etc/profile;/bin/sh /your/sh/your_sh.shåœ¨ä½ è¦è¿è¡Œçš„è„šæœ¬çš„å¼€å¤´åŠ å…¥ source /etc/profile]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[.htaccessæ²¡æœ‰ç”Ÿæ•ˆçš„è§£å†³]]></title>
    <url>%2Fdd32fb1b.html</url>
    <content type="text"><![CDATA[&lt;Directory &quot;/your/app/path&quot;&gt; AllowOverride ALL Order allow,deny Allow from all &lt;/Directory&gt;åœ¨apacheé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸Šé…ç½®å³å¯ã€‚]]></content>
      <tags>
        <tag>Apache</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Zend Serverå®‰è£…åŽé¦–æ¬¡è¿è¡Œå°±å‡ºçŽ°Internal Server Errorçš„è§£å†³]]></title>
    <url>%2Fc88826b2.html</url>
    <content type="text"><![CDATA[åˆšæ‰å®‰è£…äº†Zend Serverï¼Œå®‰è£…åŽé¦–æ¬¡è¿è¡Œå°±çˆ†å‡ºäº†ä¸€ä¸ªInternal Server Errorï¼ŒäºŽæ˜¯çœ‹äº†çœ‹æ—¥å¿— \Apache2\logs\error.log ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œè®°å½•ï¼š [Sun May 25 22:57:04 2014] [error] Zend Enabler cannot load because of a problem in its configuration file: XML parse error on line 1 column 1 - invalid byte &apos;?&apos; at position 3 of a 3-byte sequenceç„¶åŽæ‰¾äº†æ‰¾Zend Serverå®‰è£…ç›®å½•ï¼Œå‘çŽ° \ZendServer\etc\ ä¸­æœ‰ä¸ªZendEnablerConf.xmlï¼Œæ—¥å¿—é‡Œæåˆ°äº†â€œZend Enablerâ€åº”è¯¥å°±æ˜¯å®ƒäº†ï¼Œæ‰“å¼€çœ‹äº†çœ‹]]></content>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL Workbenchä¸èƒ½è¾“å…¥ä¸­æ–‡çš„è§£å†³]]></title>
    <url>%2F34613f1d.html</url>
    <content type="text"><![CDATA[MySQL Workbenchæ˜¯MySQLå®˜æ–¹çš„GUIå·¥å…·ï¼ŒåŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå¼ºå¤§çš„ï¼Œå¯æ˜¯åœ¨ä½¿ç”¨æ—¶æˆ‘å‘çŽ°é‡Œé¢ä¸èƒ½è¾“å…¥ä¸­æ–‡ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸ºWorkbenchåŽ‹æ ¹å°±ä¸æ”¯æŒä¸­æ–‡ï¼ŒåŽæ¥åˆgoogleäº†ä¸€ä¸‹ï¼Œæ‰å‘çŽ°è¿™å¯èƒ½æ˜¯ä¸ªBugï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯googleè¾“å…¥æ³•ï¼Œå¥½åƒåªè¦ä½¿ç”¨googleè¾“å…¥æ³•å°±ä¸èƒ½åœ¨Workbenchä¸­è¾“å…¥ä¸­æ–‡ï¼Œç„¶åŽæˆ‘æ¢äº†è¾“å…¥æ³•è¯•äº†è¯•æžœç„¶å¯ä»¥äº†ã€‚]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linuxä¸‹å®‰è£…jdk7å‡ºçŽ°unpacking of archive failed on file]]></title>
    <url>%2F7b8d56af.html</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨Linuxä¸Šå®‰è£…rpmç‰ˆçš„jdk7ï¼Œç»“æžœçˆ†å‡ºäº† unpacking of archive failed on file /usr/java/jdk1.7.0_55/lib/visualvm/profiler/modules/org-netbeans-modules-profiler.jar;537efea1: cpio: readæœ€åŽè¯•äº†ä¸€ä¸‹ï¼Œè™½ç„¶æ²¡æžæ˜Žç™½å‡ºçŽ°çš„å…·ä½“åŽŸå› ï¼Œä½†æ˜¯å¥½æ­¹ä¹Ÿè§£å†³äº†ï¼Œé—®é¢˜å¥½åƒå‡ºåœ¨è¿…é›·ä¸Šï¼Œç¬¬ä¸€å¼€å§‹æˆ‘ç”¨çš„è¿…é›·ä¸‹è½½çš„rpmåŒ…ç„¶åŽä¼ åˆ°æœåŠ¡å™¨ä¸Šçš„ï¼Œå°±å‡ºé”™äº†ï¼ŒåŽæ¥æˆ‘ç›´æŽ¥æ”¹ç”¨æµè§ˆå™¨ä¸‹è½½äº†ä¸€éï¼Œå®‰è£…æˆåŠŸäº†ã€‚]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Spring Securityä¸­å¯ç”¨Group Authorities]]></title>
    <url>%2F5c1a4b42.html</url>
    <content type="text"><![CDATA[æˆ‘çš„ä¸€ä¸ªé¡¹ç›®éœ€è¦ä½¿ç”¨Spring Securityçš„Group Authoritiesï¼Œä½†æ˜¯æŒ‰ç…§é»˜è®¤çš„é…ç½®æ–¹å¼ &lt;authentication-manager&gt; &lt;authentication-provider&gt; &lt;jdbc-user-service data-source-ref=&quot;dataSource&quot;/&gt; &lt;password-encoder hash=&quot;bcrypt&quot; /&gt; &lt;/authentication-provider&gt; &lt;/authentication-manager&gt;Group Authoritieså¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼Œæ‰€ä»¥æˆ‘çœ‹äº†çœ‹é…ç½®é¡¹ &lt;jdbc-user-service&gt;å¯¹åº”çš„ç±» org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl çš„æºç ï¼š {% asset_img bVdn3y.png %} å…¶ä¸­æœ‰ä¸ªâ€œenableGroupsâ€å±žæ€§ï¼Œé»˜è®¤å€¼æ˜¯â€œfalseâ€ã€‚å¥½äº†ï¼Œè¿™æ ·å°±æ˜Žç™½äº†ï¼ŒGroup Authoritiesé»˜è®¤æ˜¯ä¸ç”Ÿæ•ˆçš„ï¼Œçœ‹äº†çœ‹åœ¨ &lt;jdbc-user-service&gt;è¿™ä¸ªé…ç½®é¡¹ä¸­å¹¶æ²¡enableGroupsè¿™æ ·çš„å±žæ€§ï¼Œçœ‹æ¥åªèƒ½è‡ªå·±é…ç½®jdbc-user-serviceçš„beanäº†ï¼ŒäºŽæ˜¯æˆ‘é…ç½®å¥½äº†jdbc-user-serviceçš„beanï¼Œè¯•äº†è¯•ï¼Œæžœç„¶ç”Ÿæ•ˆäº†ã€‚ &lt;authentication-manager&gt; &lt;authentication-provider user-service-ref=&quot;jdbcUserDetailsService&quot;&gt; &lt;jdbc-user-service data-source-ref=&quot;dataSource&quot;/&gt; &lt;password-encoder hash=&quot;bcrypt&quot; /&gt; &lt;/authentication-provider&gt; &lt;/authentication-manager&gt; &lt;beans:bean id=&quot;jdbcUserDetailsService&quot; class=&quot;org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl&quot;&gt; &lt;beans:property name=&quot;enableGroups&quot; value=&quot;true&quot; /&gt; &lt;beans:property name=&quot;jdbcTemplate&quot; ref=&quot;jdbcTemplate&quot; /&gt; &lt;/beans:bean&gt;log: 2014/05/23 09:52:23:626 CST [DEBUG] DataSourceUtils - Returning JDBC Connection to DataSource 2014/05/23 09:52:23:627 CST [DEBUG] JdbcTemplate - Executing prepared SQL query 2014/05/23 09:52:23:627 CST [DEBUG] JdbcTemplate - Executing prepared SQL statement [select g.id, g.group_name, ga.authority from groups g, group_members gm, group_authorities ga where gm.username = ? and g.id = ga.group_id and g.id = gm.group_id] 2014/05/23 09:52:23:627 CST [DEBUG] DataSourceUtils - Fetching JDBC Connection from DataSource 2014/05/23 09:52:23:627 CST [TRACE] StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [admin], value class [java.lang.String], SQL type unknown 2014/05/23 09:52:23:628 CST [DEBUG] DataSourceUtils - Returning JDBC Connection to DataSource]]></content>
      <tags>
        <tag>spring-security</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨Springä¸­é…ç½®ä½¿ç”¨commons-loggingçš„simplelogæ¥è¾“å‡ºæ—¥å¿—]]></title>
    <url>%2F662c0ce1.html</url>
    <content type="text"><![CDATA[çƒ¦é€äº†log4jï¼Œæœ€æ–°ç‰ˆçš„åŒ…ç»“æž„å˜åŠ¨ä¹Ÿä¸åšä¸‹å…¼å®¹ï¼Œåœ¨springé¡¹ç›®ä¸­ç”¨ä¼šçˆ†æ‰¾ä¸åˆ°classï¼Œmavenä»“ä¸­çš„è€ç‰ˆåˆä¾èµ–äº†ä¸€å¤§å †Java1.4çš„ä¸œè¥¿ï¼Œå®žåœ¨æ˜¯ä¸çˆ½ï¼ŒäºŽæ˜¯æžœæ–­æŠ›å¼ƒï¼Œæ”¹ç”¨commons-loggingçš„simplelogæ¥è¾“å‡ºæ—¥å¿—ã€‚ è¦åœ¨springä¸­ä½¿ç”¨simplelogè¾“å‡ºæ—¥å¿—ï¼Œéœ€è¦åœ¨classpathä¸­æ”¾å…¥ä¸¤ä¸ªpropertiesï¼šcommons-logging.propertieså’Œsimplelog.properties commons-logging.propertiesï¼š org.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLogsimplelog.propertiesï¼š #Set to true if you want the Log instance name to be included in output messages. Defaults to false. org.apache.commons.logging.simplelog.showlogname=true #Set to true if you want the last component of the name to be included in output messages. Defaults to true. #org.apache.commons.logging.simplelog.showShortLogname=false #Set to true if you want the current date and time to be included in output messages. Default is false. org.apache.commons.logging.simplelog.showdatetime=true #The date and time format to be used in the output messages. The pattern describing the date and time format is the same that is used in java.text.SimpleDateFormat. If the format is not specified or is invalid, the default format is used. The default format is yyyy/MM/dd HH:mm:ss:SSS zzz. #org.apache.commons.logging.simplelog.dateTimeFormat=yyyy/MM/dd HH:mm:ss:SSS zzz #Default logging detail level for all instances of SimpleLog. Must be one of: trace debug info warn error fatal If not specified, defaults to info. #org.apache.commons.logging.simplelog.defaultlog=debug ## Configure logging levels org.apache.commons.logging.simplelog.log.org.springframework.jdbc=trace]]></content>
      <tags>
        <tag>spring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[The use of filters=none is no longer supported]]></title>
    <url>%2F3b5f29e2.html</url>
    <content type="text"><![CDATA[org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: The use of &quot;filters=&apos;none&apos;&quot; is no longer supported. Please define a separate &lt;http&gt; element for the pattern you want to exclude and use the attribute &quot;security=&apos;none&apos;&quot;.ä¸Šè¾¹æ˜¯é”™è¯¯ä¿¡æ¯ï¼ŒæŒ‰ç…§ä¿¡æ¯ä¸­çš„æç¤ºå»ºç«‹ä¸€ä¸ªç‹¬ç«‹çš„ï¼ˆä»¥å‰çš„ç‰ˆæœ¬æ˜¯åœ¨ä¸­ï¼‰ç„¶åŽåœ¨å…¶ä¸­å®šä¹‰patternå¹¶ä¸”security=â€noneâ€å°±å¯ä»¥äº†ã€‚ &lt;http request-matcher=&quot;regex&quot; pattern=&quot;(/login){1}/?\S*$&quot; security=&quot;none&quot; /&gt;]]></content>
      <tags>
        <tag>spring-mvc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jspä¸­ä½¿ç”¨ELèŽ·å¾—contextPath]]></title>
    <url>%2F1a703ea8.html</url>
    <content type="text"><![CDATA[${pageContext.request.contextPath}]]></content>
      <tags>
        <tag>jsp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†™äº†ä¸€ä¸ªæ‰¹é‡ä¸‹è½½é¡µé¢ä»¥åŠé¡µé¢å¼•ç”¨å›¾ç‰‡çš„è„šæœ¬]]></title>
    <url>%2F412fa4b7.html</url>
    <content type="text"><![CDATA[#!/bin/bash # #æ‰¹é‡ä¸‹è½½é¡µé¢ä»¥åŠé¡µé¢å¼•ç”¨å›¾ç‰‡çš„è„šæœ¬ # #write by since1986 at 2014-05-12 #é¡µé¢å¼•ç”¨å›¾ç‰‡çš„ç›®æ ‡ä¸‹è½½ç›®å½• img_download_destination_folder=&quot;/opt/gbk/inc/wbts&quot; #é¡µé¢å¼•ç”¨å›¾ç‰‡çš„ä¸‹è½½åˆ—è¡¨æ–‡ä»¶ img_download_list_file_path=&quot;/tmp/page_and_img_download.list&quot; #é¡µé¢å¼•ç”¨å›¾ç‰‡çš„å¼•ç”¨æ–¹å¼çš„æ­£åˆ™ img_regex=&quot;http://\S*(\.jpg|\.gif)&quot; #è¯»å–ä¸‹è½½ä»»åŠ¡å®šä¹‰æ–‡ä»¶ ä¸‹è½½ä»»åŠ¡å®šä¹‰æ–‡ä»¶ä½¿ç”¨ æ¯è¡Œä¸€æ®µ â€œè¦ä¸‹è½½çš„é¡µé¢é“¾æŽ¥=ä¸‹è½½ç›®æ ‡è·¯å¾„â€ çš„å½¢å¼å®šä¹‰å¤šä¸ªä¸‹è½½ä»»åŠ¡ page_src_url_map=`cat page_urls.map` #å¾ªçŽ¯ä¸‹è½½ä»»åŠ¡å®šä¹‰ä¸­çš„æ¯ä¸€é¡¹ä¸‹è½½ä»»åŠ¡ for line in $page_src_url_map do page_src_url=`echo $line | cut -d= -f1` #ä»Žä¸‹è½½å®šä¹‰ä¸­èŽ·å¾—è¦ä¸‹è½½é¡µé¢çš„æºåœ°å€ page_desc_path=`echo $line | cut -d= -f2` #ä»Žä¸‹è½½å®šä¹‰ä¸­èŽ·å¾—è¦ä¸‹è½½é¡µé¢çš„ç›®æ ‡è·¯å¾„ wget $page_src_url -c -O $page_desc_path #ä½¿ç”¨æ–­ç‚¹ç»­ä¼ çš„æ–¹å¼ä¸‹è½½é¡µé¢ cat $page_desc_path | egrep -o $img_regex &gt; $img_download_list_file_path #æå–ä¸‹è½½å¥½çš„é¡µé¢ä¸­åŒ…å«çš„å¼•ç”¨å›¾ç‰‡çš„é“¾æŽ¥å¹¶ä¿å­˜ä¸ºä¸‹è½½åˆ—è¡¨æ–‡ä»¶ wget -c -P ${img_download_destination_folder}/img/ -i $img_download_list_file_path #ä¾æ®å¼•ç”¨å›¾ç‰‡ä¸‹è½½åˆ—è¡¨æ–‡ä»¶ä¸‹è½½å¼•ç”¨å›¾ç‰‡ rm -rf $img_download_list_file_path #åˆ é™¤å¼•ç”¨å›¾ç‰‡ä¸‹è½½åˆ—è¡¨æ–‡ä»¶ done]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux shell ä¸‹è½½æŸä¸€httpé¡µé¢ä¸­å¼•ç”¨çš„jpgå’Œgifæ–‡ä»¶]]></title>
    <url>%2F9547e223.html</url>
    <content type="text"><![CDATA[ä¸»è¦ä½¿ç”¨ curl ä¸Ž wget å‘½ä»¤ï¼š curl -s &quot;your_url&quot; | egrep -o &apos;http://\S*(\.jpg|\.gif)&apos; &gt; download.list #&quot;your_url&quot;shiæ˜¯åŒ…å«å›¾ç‰‡urlçš„é¡µé¢åœ°å€ wget -i download.list]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Androidä¸­ä½¿ç”¨apache commons-netå‘é€åŽå°é‚®ä»¶çš„æ–¹æ³•]]></title>
    <url>%2F5afc8d59.html</url>
    <content type="text"><![CDATA[ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»‹ç»äº†ä½¿ç”¨Javamail-androidåœ¨androidä¸­å‘é€åŽå°é‚®ä»¶çš„æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªJavamail-androidå¹¶ä¸æ˜¯ä¸€ä¸ªé è°±çš„å¼€æºç»„ç»‡å‘å¸ƒçš„ï¼Œè€Œä¸”æ˜¯ä¿®æ”¹è¿‡çš„Javaeeï¼Œæ€»è§‰å¾—ç”¨èµ·æ¥åˆ«æ‰­ï¼Œæ‰€ä»¥æˆ‘å°±ä¸€ç›´æœå¯»ä¸€ç§æ›´é è°±çš„è§£å†³æ–¹æ¡ˆã€‚æ€»ç®—åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œçœ‹åˆ°äº†è¿™ä¸¤ç¯‡æ–‡ç« ï¼šSending email without user interaction in Androidï¼ŒSending a mail in Java (and Android) with Apache Commons Net SMTP : STARTTLS, SSLï¼Œåœ¨è¿™ä¸¤ç¯‡æ–‡ç« ä¸­ä»‹ç»äº†ä½¿ç”¨ apache commons-net æ¥å‘é€é‚®ä»¶çš„æ–¹æ³•ã€‚è¿™ä¸ªå°±å¾ˆå¯¹è·¯äº†ï¼Œapacheå‡ºå“ï¼Œæ­£è§„å¤§åŽ‚ï¼Œè´¨é‡ä¿¡å¾—è¿‡äº§å“ï¼Œå‘µå‘µã€‚ æ ¸å¿ƒä»£ç ç‰‡æ®µï¼š // å»ºç«‹å‘é€é‚®ä»¶ä»»åŠ¡ new AsyncTask&lt;String, Integer, Boolean&gt;() { @Override protected Boolean doInBackground(String... params) { //ä½¿ç”¨commons-netä¸­çš„AuthenticatingSMTPClient AuthenticatingSMTPClient client = new AuthenticatingSMTPClient(&quot;TLS&quot;, true); try { client.connect(&quot;smtp.gmail.com&quot;, 465); client.ehlo(&quot;localhost&quot;); //éœ€è¦ehloä¸€ä¸‹ client.sendCommand(&quot;AUTH XOAUTH2 &quot; + Base64.encodeBase64URLSafeString( String.format(&quot;user=%s\1auth=Bearer %s\1\1&quot;, me.name, oauthToken).getBytes()) ); //å‘é€Googleçš„XOAUTH2å‘½ä»¤ client.setSender(me.name); //å¤„ç†å¤šä¸ªæ”¶ä»¶äºº String[] recipientsArray = null; if(recipients.toString().contains(&quot;,&quot;)) { recipientsArray = recipients.toString().trim().split(&quot;,&quot;); for( String recipient : recipientsArray ) { client.addRecipient(recipient); } }else { recipientsArray = new String[]{recipients.toString()}; client.addRecipient(recipients.toString()); } //å¤„ç†é‚®ä»¶ä¸»é¢˜ä¸Žæ­£æ–‡ Writer writer = client.sendMessageData(); if(null != writer) { //ä½¿ç”¨apache mime4jä¸­çš„EncoderUtilæ¥å¤„ç†ä¸­æ–‡ä¹±ç çš„é—®é¢˜ String encodedSubject = EncoderUtil.encodeIfNecessary(subject, Usage.TEXT_TOKEN, 0); //ä½¿ç”¨apache mime4jä¸­çš„EncoderUtilæ¥ç¼–ç é‚®ä»¶ä¸»é¢˜ String encodedBody = EncoderUtil.encodeB(body.getBytes()); //ä½¿ç”¨apache mime4jä¸­çš„EncoderUtilæ¥ç¼–ç é‚®ä»¶æ­£æ–‡ Log.i(SMSBroadcastReceiver.class.getName(), &quot;encodedSubject: &quot; + encodedSubject); Log.i(SMSBroadcastReceiver.class.getName(), &quot;encodedBody: &quot; + encodedBody); SimpleSMTPHeader header = new SimpleSMTPHeader(me.name, recipientsArray[0], encodedSubject); header.addHeaderField(&quot;Content-Type&quot;, &quot;text/plain; charset=UTF-8&quot;); header.addHeaderField(&quot;Content-Transfer-Encoding&quot;, &quot;base64&quot;); for (int i = 0; i &lt; recipientsArray.length; i++) { if(0 == i) continue; header.addCC(recipientsArray[i]); } writer.write(header.toString()); writer.write(encodedBody); writer.close(); } return true; } catch (Exception e) { return false; } finally { try { client.disconnect(); } catch (IOException e) { } } } }.execute();]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆšåˆšå­¦ä¹ åˆ°çš„Androidä½¿ç”¨Javamailé€šè¿‡XOauthè°ƒç”¨Gmail APIå‘é€é‚®ä»¶çš„æ–¹æ³•]]></title>
    <url>%2Ffc4f8587.html</url>
    <content type="text"><![CDATA[å‰æ™¯çŸ¥è¯†ï¼šOAuthï¼ŒJavamail-androidï¼ŒJavamail api in android using XOauth æˆ‘çš„ä¸€ä¸ªAppé¡¹ç›®éœ€è¦åœ¨Serviceä¸­è‡ªåŠ¨å‘é€é‚®ä»¶çš„åŠŸèƒ½ï¼Œå› ä¸ºæ˜¯åŽå°è‡ªåŠ¨å‘é€é‚®ä»¶ï¼Œä¸èƒ½å‡ºçŽ°é‚®ä»¶UIæ‰€ä»¥éœ€è¦ä½¿ç”¨Javamailæ¥å‘é€ï¼Œåœ¨Androidä¸­å¹¶æœªåŒ…å«Javamailï¼Œæ‰€ä»¥éœ€è¦ç¬¬ä¸‰æ–¹libï¼šJavamail-androidï¼›åŒæ—¶ç”±äºŽæˆ‘çš„Appçš„é‚®ä»¶å‘é€æœåŠ¡ä¸åº”ä¿å­˜ç”¨æˆ·çš„é‚®ä»¶å¸å·ä¸Žå¯†ç ï¼ˆå› ä¸ºä¼šæœ‰å®‰å…¨é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥å°±å¿…é¡»è¦ç”¨åˆ°XOauthçš„æ–¹å¼ï¼ˆä¹Ÿå°±æ˜¯æ— éœ€å­˜å‚¨ç”¨æˆ·é‚®ä»¶å¸å·å’Œå¯†ç çš„æ–¹å¼ï¼‰æ¥è°ƒç”¨Gmail APIæ¥å‘é€é‚®ä»¶ã€‚ å…³é”®åœ¨äºŽXOauthçš„AuthTokençš„èŽ·å–ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­è®²çš„å¾ˆæ¸…æ¥šäº†ï¼Œéœ€è¦ä½¿ç”¨AccountManageræ¥èŽ·å–AuthTokenï¼Œå…³é”®ä»£ç å¦‚ä¸‹ï¼š AccountManager accountManager = AccountManager.get(context); //èŽ·å¾—æœ¬æœºç¬¬ä¸€ä¸ªgoogleè´¦å· Account me = accountManager.getAccountsByType(&quot;com.google&quot;)[0]; //æ³¨æ„åœ¨èŽ·å¾—AUTHTOKENå‰è¦invalidateAuthTokenä¸€ä¸‹ï¼Œå¦åˆ™ä¼šå¾—åˆ°nullçš„AUTHTOKEN accountManager.invalidateAuthToken(&quot;com.google&quot;, mailProperties.oauthToken); accountManager.getAuthToken(me, &quot;oauth2:https://mail.google.com/&quot;, null, true, new AccountManagerCallback&lt;Bundle&gt;() { @Override public void run(AccountManagerFuture&lt;Bundle&gt; future) { try { //é€šè¿‡å›žè°ƒæ–¹æ³•èŽ·å¾—AUTHTOKEN mailProperties.oauthToken = future.getResult().getString(AccountManager.KEY_AUTHTOKEN); Log.i(SMSBroadcastReceiver2.class.getName(), mailProperties.oauthToken); } catch (OperationCanceledException e) { e.printStackTrace(); } catch (AuthenticatorException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } } }, null);èŽ·å–åˆ°äº†AuthTokenåŽï¼Œå‰©ä¸‹çš„å°±ç®€å•äº†ï¼ŒæŒ‰éƒ¨å°±ç­ä½¿ç”¨Javamailå‘é€é‚®ä»¶å°±å¯ä»¥äº†ï¼Œå‘é€é‚®ä»¶çš„æ–¹æ³•å‚ç…§ï¼šJavamail api in android using XOauth å°±å¯ä»¥äº†ã€‚]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆšåˆšå­¦ä¹ åˆ°çš„Androidæœ‰æ•ˆçš„å½»åº•é€€å‡ºAppçš„æ–¹æ³•ï¼Œè®°å½•ä¸€ä¸‹]]></title>
    <url>%2Fc2861e7f.html</url>
    <content type="text"><![CDATA[æœ€è¿‘åœ¨å†™ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªActivityå’Œä¸€ä¸ªServiceçš„Appï¼Œè¿™ä¸ªAppéœ€è¦å®žçŽ°å½»åº•é€€å‡ºçš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯å…³é—­æ‰€æœ‰Activityå¹¶ä¸”ç»“æŸServiceã€‚ ç»“æŸServiceçš„æ–¹æ³•æ¯”è¾ƒæ˜Žç¡®ï¼Œä½¿ç”¨stopServiceå°±å¯ä»¥äº†ï¼Œå…³é”®æ˜¯æƒ³è¦ç»“æŸæ‰€æœ‰Activityå°±éœ€è¦è´¹ç‚¹åŠ²äº†ï¼Œä¸€å¼€å§‹æˆ‘å°è¯•ç”¨ .getSystemService(ACTIVITY_SERVICE).killBackgroundProcesses(getPackageName());è¿™æ ·çš„æ–¹æ³•æ¥ç»“æŸæŽ‰æ‰€æœ‰Activityï¼Œä½†æ˜¯è¯•äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ•ˆæžœã€‚ç„¶åŽGoogleäº†ä¸€ä¸‹ï¼Œçœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œæ–‡ç« ä¸­çš„æ–¹æ³•è¿˜æ˜¯æ¯”è¾ƒç®€å•ç®¡ç”¨çš„ï¼Œç„¶åŽæˆ‘åˆæŒ‰ç…§è‡ªå·±çš„éœ€è¦å¯¹è¿™ä¸ªæ–‡ç« ä¸­æä¾›çš„æ–¹æ³•åšäº†ä¸€äº›ä¿®æ”¹ï¼ŒçŽ°åœ¨åŸºæœ¬ä¸Šå®žçŽ°äº†æˆ‘çš„Appçš„éœ€æ±‚ã€‚ è¿™ä¸ªæ–¹æ³•å…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå•ä¾‹ä¸­ç»´æŠ¤ä¸€ä¸ªActivityçš„listï¼Œåœ¨æ¯ä¸ªActivityçš„onCreateä¸­è°ƒç”¨è¿™ä¸ªå•ä¾‹çš„addActivity()ï¼ŒæŠŠå½“å‰Activityæ”¾åˆ°listä¸­ï¼Œç„¶åŽæƒ³è¦å½»åº•é€€å‡ºAppï¼ˆä¹Ÿå°±æ˜¯finshæ‰€æœ‰çš„Activityï¼‰ï¼Œåªè¦è°ƒç”¨å•ä¾‹ä¸­çš„finshAllActivities()ï¼ˆfinshAllActivities()ä¼šéåŽ†è¿™ä¸ªlistï¼Œè°ƒç”¨listä¸­æ¯ä¸€å…ƒç´ çš„finshï¼‰å°±å¯ä»¥äº†ã€‚ package since1986.opensmspostman; import java.util.Arrays; import java.util.LinkedList; import android.app.Activity; public class ActivityManager { private LinkedList&lt;Activity&gt; activityLinkedList = new LinkedList&lt;Activity&gt;(); private ActivityManager() { } private static ActivityManager instance; public static ActivityManager getInstance(){ if(null == instance){ instance = new ActivityManager(); } return instance; } //å‘listä¸­æ·»åŠ Activity public ActivityManager addActivity(Activity activity){ activityLinkedList.add(activity); return instance; } //ç»“æŸç‰¹å®šçš„Activity(s) public ActivityManager finshActivities(Class&lt;? extends Activity&gt;... activityClasses){ for (Activity activity : activityLinkedList) { if( Arrays.asList(activityClasses).contains( activity.getClass() ) ){ activity.finish(); } } return instance; } //ç»“æŸæ‰€æœ‰çš„Activities public ActivityManager finshAllActivities() { for (Activity activity : activityLinkedList) { activity.finish(); } return instance; } }]]></content>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jquery.formlocalstorageæ›´æ–°]]></title>
    <url>%2F3a36d2f2.html</url>
    <content type="text"><![CDATA[jquery.formlocalstorageæ›´æ–°ï¼š æä¾›äº†é€šè¿‡æ£€æµ‹æœåŠ¡å™¨ç«¯è¿”å›žçš„flagä»Žè€Œè§¦å‘è‡ªåŠ¨æ¸…é™¤æš‚å­˜çš„åŠŸèƒ½ï¼ˆåŽŸæ¥åªèƒ½åœ¨è¡¨å•æäº¤æ—¶è‡ªåŠ¨æ¸…é™¤æš‚å­˜ï¼‰ã€‚ æ”¹ç”¨addClassä¸ŽremoveClassçš„æ–¹å¼åŠ è½½æš‚å­˜çš„æ ·å¼ã€‚ æš‚å­˜è§¦å‘äº‹ä»¶æ”¹æˆäº†ä½¿ç”¨.live()çš„æ–¹å¼åŠ è½½ã€‚]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[eclipseå¯ä»¥åœ¨é€‰ä¸­è¡Œä¸­æ›¿æ¢å†…å®¹]]></title>
    <url>%2F657513ae.html</url>
    <content type="text"><![CDATA[å¾ˆå®žç”¨çš„åŠŸèƒ½ã€‚]]></content>
      <tags>
        <tag>eclipse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spring Securityç»“åˆCASçš„é…ç½®]]></title>
    <url>%2Fc621863d.html</url>
    <content type="text"><![CDATA[åœ¨æˆ‘çš„å‡ ä¸ªé¡¹ç›®é‡Œéœ€è¦ç”¨åˆ°å•ç‚¹ç™»å½•ï¼Œæˆ‘é€‰ç”¨äº†CASï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªä¸€èˆ¬æ€§çš„Spring Securityç»“åˆCASçš„é…ç½®æ–‡ä»¶ &lt;?xml version="1.0"?&gt; &lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:security="http://www.springframework.org/schema/security" xmlns:context="http://www.springframework.org/schema/context" xmlns:util="http://www.springframework.org/schema/util" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/util/spring-util.xsd http://www.springframework.org/schema/util/spring-util-3.0.xsd"&gt; &lt;!-- Enable security, let the casAuthenticationEntryPoint handle all intercepted urls. The CAS_FILTER needs to be in the right position within the filter chain. --&gt; &lt;security:http auto-config="true" entry-point-ref="casAuthenticationEntryPoint" path-type="regex"&gt; &lt;security:port-mappings&gt; &lt;security:port-mapping http="${portHttp}" https="${portHttps}"/&gt; &lt;/security:port-mappings&gt; &lt;security:logout success-handler-ref="simpleUrlLogoutSuccessHandler" /&gt; &lt;security:intercept-url pattern="/.*" requires-channel="https" /&gt; &lt;security:intercept-url pattern="(/admin/){1}\S*" access="ROLE_ADMIN" /&gt; &lt;security:intercept-url pattern="/{1}\S*" access="ROLE_USER, ROLE_ADMIN" /&gt; &lt;security:intercept-url pattern="(/api/ws/){1}\S*" filters="none" /&gt; &lt;security:custom-filter position="CAS_FILTER" ref="casAuthenticationFilter" /&gt; &lt;/security:http&gt; &lt;!-- ä¼¼ä¹ŽcasFilterä¸ŽcasEntryPointçš„åŠŸèƒ½æœ‰é‡å ã€‚å…¶å®žï¼ŒcasEntryPointåªæ˜¯æä¾›è®¤è¯å…¥å£çš„ä½œç”¨ï¼Œå½“æ²¡æœ‰ç™»å½•ï¼Œå°†è·³è½¬åˆ°è¯¥åœ°å€ã€‚ The entryPoint intercepts all the CAS authentication requests. It redirects to the CAS loginUrl for the CAS login page. --&gt; &lt;bean id="casAuthenticationEntryPoint" class="org.springframework.security.cas.web.CasAuthenticationEntryPoint"&gt; &lt;property name="loginUrl" value="${casAuthenticationEntryPoint.loginUrl}" /&gt; &lt;property name="serviceProperties" ref="serviceProperties" /&gt; &lt;/bean&gt; &lt;!-- æ³¨é”€çš„urlæ˜¯/j_spring_security_logout --&gt; &lt;!-- The CAS filter handles the redirect from the CAS server and starts the ticket validation. casFilteræ˜¯å¤„ç†CAS service ticketçš„ã€‚ --&gt; &lt;bean id="casAuthenticationFilter" class="org.springframework.security.cas.web.CasAuthenticationFilter"&gt; &lt;property name="authenticationManager" ref="authenticationManager" /&gt; &lt;/bean&gt; &lt;!-- Required for the casProcessingFilter, so define it explicitly set and specify an Id Even though the authenticationManager is created by default when namespace based config is used. --&gt; &lt;security:authentication-manager alias="authenticationManager"&gt; &lt;security:authentication-provider ref="casAuthenticationProvider" /&gt; &lt;/security:authentication-manager&gt; &lt;!-- Handles the CAS ticket processing. --&gt; &lt;bean id="casAuthenticationProvider" class="org.springframework.security.cas.authentication.CasAuthenticationProvider"&gt; &lt;property name="serviceProperties" ref="serviceProperties" /&gt; &lt;property name="authenticationUserDetailsService" ref="authenticationUserDetailsService" /&gt; &lt;property name="ticketValidator"&gt; &lt;bean class="org.jasig.cas.client.validation.Cas20ServiceTicketValidator"&gt; &lt;constructor-arg index="0" value="${casAuthenticationProvider.casServerUrlPrefix}" /&gt; &lt;/bean&gt; &lt;/property&gt; &lt;property name="key" value="${casAuthenticationProvider.key}" /&gt; &lt;/bean&gt; &lt;!-- ä½ éœ€è¦æ·»åŠ ä¸€ä¸ª ServiceProperties beanï¼Œåˆ°ä½ çš„application contexté‡Œã€‚ è¿™è¡¨çŽ°ä½ çš„CASæœåŠ¡ã€‚ è¿™é‡Œçš„serviceå¿…é¡»æ˜¯ä¸€ä¸ªç”±CasAuthenticationFilterç›‘æŽ§çš„URLã€‚ è¿™ä¸ªsendRenewé»˜è®¤æ˜¯falseï¼Œä½†å¦‚æžœä½ çš„ç¨‹åºç‰¹åˆ«æ•æ„Ÿå°±åº”è¯¥è®¾ç½®æˆtrueã€‚ è¿™ä¸ªå‚æ•°ä½œç”¨æ˜¯ï¼Œå‘Šè¯‰CASç™»å½•æœåŠ¡ï¼Œä¸€ä¸ªå•ç‚¹ç™»å½•æ²¡æœ‰åˆ°è¾¾ã€‚ å¦åˆ™ï¼Œç”¨æˆ·éœ€è¦é‡æ–°è¾“å…¥ ä»–ä»¬çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæ¥èŽ·å¾—è®¿é—®æœåŠ¡çš„æƒé™ã€‚ --&gt; &lt;bean id="serviceProperties" class="org.springframework.security.cas.ServiceProperties"&gt; &lt;property name="service" value="${serviceProperties.service}" /&gt; &lt;/bean&gt; &lt;bean id="authenticationUserDetailsService" class="org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper"&gt; &lt;property name="userDetailsService" ref="jdbcUserDetailsService" /&gt; &lt;/bean&gt; &lt;security:jdbc-user-service data-source-ref="ucDataSource" id="jdbcUserDetailsService" authorities-by-username-query="${jdbcUserDetailsService.authoritiesByUsernameQuery}" /&gt; &lt;bean id="simpleUrlLogoutSuccessHandler" class="org.springframework.security.web.authentication.logout.SimpleUrlLogoutSuccessHandler"&gt; &lt;property name="alwaysUseDefaultTargetUrl" value="true" /&gt; &lt;property name="defaultTargetUrl" value="${simpleUrlLogoutSuccessHandler.defaultTargetUrl}" /&gt; &lt;/bean&gt; &lt;/beans&gt; é™„åŠ è¯´æ˜Žï¼š è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯æ•°æ®åº“ä¿å­˜æŽˆæƒä¿¡æ¯çš„æ–¹å¼ï¼Œå› æ­¤ä½¿ç”¨äº†jdbc-user-serviceï¼šï¼ˆåœ¨æˆ‘çš„é¡¹ç›®é‡Œæ•°æ®åº“åå«&ldquo;uc&rdquo;ï¼Œä¸‹é¢ç»™å‡ºæ•°æ®åº“ç»“æž„å§ï¼‰ DROP TABLE IF EXISTS `uc`.`users`; CREATE TABLE `uc`.`users` (`username` varchar(32) NOT NULL, `password` varchar(255) NOT NULL DEFAULT &#39;&#39;, `enabled` bit(1) NOT NULL DEFAULT b&#39;1&#39;, PRIMARY KEY (`username`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; DROP TABLE IF EXISTS `uc`.`authorities`; CREATE TABLE `uc`.`authorities` (`username` varchar(32) NOT NULL, `application_context` varchar(32) NOT NULL, `authority` varchar(32) NOT NULL, PRIMARY KEY (`username`,`authority`,`application_context`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; DROP TABLE IF EXISTS `uc`.`persistent_logins`; CREATE TABLE `uc`.`persistent_logins` ( `username` varchar(32) NOT NULL, `series` varchar(255) NOT NULL, `token` varchar(255) NOT NULL, `last_used` datetime NOT NULL, PRIMARY KEY (`series`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; data-source-ref=&quot;ucDataSource&quot;é‡Œé¢çš„ucDataSourceæ˜¯æˆ‘é¡¹ç›®é‡ŒSpring Securityä¿å­˜æŽˆæƒä¿¡æ¯çš„æ•°æ®åº“çš„æ•°æ®æºï¼Œåˆ°æ—¶å€™æ¢æˆä½ è‡ªå·±çš„å°±è¡Œ]]></content>
      <tags>
        <tag>spring-security</tag>
        <tag>CAS</tag>
        <tag>å•ç‚¹ç™»å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨eclipseä¸­æ‰‹å·¥ç®¡ç†ä¾èµ–é¡¹çš„ä¸€ç‚¹ç»éªŒ]]></title>
    <url>%2F949a74c2.html</url>
    <content type="text"><![CDATA[æˆ‘çš„é¡¹ç›®ä¸€èˆ¬ä½¿ç”¨mavenæ¥ç®¡ç†ä¾èµ–é¡¹ï¼Œå¯æ˜¯æœ‰äº›jaråœ¨mavençš„é‚£å‡ ä¸ªå…¬æœä¸Šæ‰¾ä¸åˆ°ï¼Œåªå¥½ä¸‹è½½å¥½äº†è¿™äº›jarç„¶åŽæ”¾åˆ°é¡¹ç›®é‡Œï¼Œè¦æ˜¯æ¯ä¸€ä¸ªé¡¹ç›®éƒ½æŠŠè¿™äº›jaræ”¾ä¸€éï¼Œè‚¯å®šä¼šé€ æˆç‰ˆæœ¬æ··ä¹±ç­‰ç­‰çš„é—®é¢˜ï¼Œæœ€å¥½æ˜¯ç»Ÿä¸€ç®¡ç†è¿™äº›jarã€‚ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±æ­ä¸ªmavenç§æœæ¥ç®¡ç†ï¼Œä½†æ˜¯æœ‰æ—¶å€™æ²¡è¿™ä¸ªæ¡ä»¶ï¼‰ä½ å¯ä»¥åœ¨eclipseä¸­å»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é¡¹ç›®ï¼ˆæ¯”å¦‚ä¸‹å›¾åä¸ºâ€œlibâ€çš„é¡¹ç›®ï¼‰ï¼Œç„¶åŽæŠŠè¿™äº›jaråˆ†é—¨åˆ«ç±»éƒ½æ”¾åœ¨é‡Œé¢ï¼Œéœ€è¦ç”¨è¿™äº›jarçš„é¡¹ç›®ä»Žè¿™ä¸ªå•ç‹¬çš„é¡¹ç›®é‡Œç»Ÿä¸€å¼•ç”¨è¿™äº›jarå°±è¡Œäº†ï¼Œç”±äºŽæ‰€æœ‰é¡¹ç›®éƒ½å¼•ç”¨çš„ä¸€ä¸ªé¡¹ç›®é‡Œçš„jarï¼Œè¿™æ ·å°±èƒ½å®žçŽ°è¿™äº›jarçš„ç»Ÿä¸€ç®¡ç†äº†ï¼Œä¹Ÿå°±ä¸ç”¨æ‹…å¿ƒç‰ˆæœ¬æ··ä¹±ä¹‹ç±»çš„é—®é¢˜äº†ã€‚]]></content>
      <tags>
        <tag>eclipse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨struts2ä¸­æŠŠé…ç½®æ–‡ä»¶æŒ‰æ¨¡å—åˆ†å¼€]]></title>
    <url>%2Fedafe376.html</url>
    <content type="text"><![CDATA[åœ¨struts2ä¸­ï¼Œä½ å¯ä»¥æŠŠé…ç½®æ–‡ä»¶æŒ‰æ¨¡å—åˆ†å¼€ï¼Œè¿™æ ·èƒ½ä¿æŒä»£ç ç®€æ´ï¼Œæ–¹æ³•æ˜¯åœ¨ä¸»struts.xmlé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨æ¥å¼•ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶ã€‚ &lt;!-- å¤–éƒ¨é…ç½®æ–‡ä»¶ --&gt; &lt;include file=&quot;struts/customer.xml&quot; /&gt; &lt;include file=&quot;struts/user.xml&quot; /&gt; &lt;include file=&quot;struts/order.xml&quot; /&gt;ç›®å½•ç»“æž„ï¼š]]></content>
      <tags>
        <tag>struts2</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sql server BCP å·¥å…·çš„ä½¿ç”¨]]></title>
    <url>%2F47c8ad47.html</url>
    <content type="text"><![CDATA[EXEC master..xp_cmdshell &apos;bcp &lt;database-name&gt; &lt;table-name&gt; in &lt;csv-file&gt; -c -t, -S &lt;server-name&gt; -U &lt;username&gt; -P &lt;password&gt;&apos;å…¶ä¸­ï¼š EXEC master..xp_cmdshell ï¼š master..xp_cmdshell æ˜¯masteræ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹ï¼Œä¸»è¦ç”¨æ¥åœ¨ç®¡ç†å™¨é‡Œé¢æ‰§è¡Œæ“ä½œç³»ç»Ÿçš„ä¸€äº›å‘½ä»¤ in: ä»£è¡¨æ˜¯ å¯¼å…¥ : ä½ CSVæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ å¦‚ï¼ˆH:\1.csvï¼‰]]></content>
      <tags>
        <tag>SqlServer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MySQL 1067 é”™è¯¯äº§ç”Ÿçš„ä¸€ç§åŽŸå› ]]></title>
    <url>%2F503c1e52.html</url>
    <content type="text"><![CDATA[å¯åŠ¨MySQLæ—¶æŠ¥äº†ä¸ª1067é”™è¯¯ï¼Œèµ·ä¸èµ·æ¥ äºŽæ˜¯çœ‹äº†çœ‹æ“ä½œç³»ç»Ÿæ—¥å¿—æ‰¾åˆ°äº†åŽŸå›  åŽŸæ¥æ˜¯åœ¨MySQLå®‰è£…ç›®å½•çš„mysqlæ–‡ä»¶å¤¹ä¸‹å°‘äº†ä¸€ä¸ªåä¸ºhost.MYDçš„æ–‡ä»¶ï¼Œé‡è£…MySQLåŽè‡ªç„¶å°±è§£å†³äº†ã€‚]]></content>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ASCIIç ä¸Žcharçš„äº’è½¬]]></title>
    <url>%2F4c688f28.html</url>
    <content type="text"><![CDATA[åªè¦å¼ºåˆ¶ç±»åž‹è½¬æ¢å°±è¡Œ int ascii_a = 97; char a = (char) ascii_a ; System.out.println(a);ç»“æžœä¸º a char a = &apos;a&apos;; int ascii = (int)a; System.out.println(ascii);ç»“æžœä¸º 97]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[notepad2ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼]]></title>
    <url>%2Fe0adeeb7.html</url>
    <content type="text"><![CDATA[ç¿»äº†ç¿»æ³¨å†Œè¡¨ï¼Œçœ‹åˆ°äº†å‡ ä¸ªnotepad2(ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨)ä¸­çš„æ­£åˆ™å¼ï¼Œè®°ä¸‹æ¥ä»¥å¤‡ç”¨ IPï¼š ^(?:(?:25[0-5]|2[0-4]\d|[01]\d\d|\d?\d)(?(?=\.?\d)\.)){4}$DATEï¼š ((\d{2}(([02468][048])|([13579][26]))[\-\/\s]?((((0?[13578])|(1[02]))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(3[01])))|(((0?[469])|(11))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(30)))|(0?2[\-\/\s]?((0?[1-9])|([1-2][0-9])))))|(\d{2}(([02468][1235679])|([13579][01345789]))[\-\/\s]?((((0?[13578])|(1[02]))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(3[01])))|(((0?[469])|(11))[\-\/\s]?((0?[1-9])|([1-2][0-9])|(30)))|(0?2[\-\/\s]?((0?[1-9])|(1[0-9])|(2[0-8]))))))\s?(((0?[1-9])|(1[0-2]))\:([0-5][0-9])((\s)|(\:([0-5][0-9]))))?\s?(AM|PM|am|pm)?]]></content>
      <tags>
        <tag>æ­£åˆ™è¡¨è¾¾å¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†™äº†ä¸€ä¸ªå®žçŽ°è¡¨å•æš‚å­˜åŠŸèƒ½çš„jqueryæ’ä»¶]]></title>
    <url>%2Ff253a876.html</url>
    <content type="text"><![CDATA[jquery.formLocalStorage æ˜¯ä¸€ä¸ªå®žçŽ°é€šç”¨è¡¨å•æš‚å­˜åŠŸèƒ½çš„jqueryæ’ä»¶ åŽŸç†ï¼š ç›‘æŽ§è¡¨å•åŸŸå˜åŒ–ï¼Œå¹¶ä½¿ç”¨HTML5 WebStorageä¸­çš„localStorageæ¥å­˜å‚¨è¿™äº›æœ‰å˜åŒ–çš„è¡¨å•åŸŸçš„å€¼ï¼Œå¹¶åœ¨ä»Žæ–°åŠ è½½è¡¨å•æ—¶å°†å­˜å‚¨çš„å€¼è½½å…¥å›žè¡¨å•åŸŸä¸­ï¼Œä»Žè€Œå®žçŽ°æš‚å­˜åŠŸèƒ½ã€‚ åŠŸèƒ½ç‰¹ç‚¹ï¼š 1.ä¸ä½¿ç”¨æœåŠ¡å™¨ç«¯å­˜å‚¨ï¼ŒèŠ‚çœæœåŠ¡å™¨èµ„æºã€‚ 2.ä»£ç ç®€ç»ƒï¼Œä½¿ç”¨é»˜è®¤é…ç½®çš„è¯åªéœ€ä¸€å°æ®µä»£ç  $(&quot;#your_form_id&quot;).formLocalStorage(); å³å¯æžå®šï¼Œæ— éœ€å†™ä¸€å¤§å¨æœåŠ¡å™¨ç«¯é€»è¾‘ã€‚ 3.ä¸°å¯Œçš„é…ç½®é¡¹ä¸Žé»˜è®¤å€¼ï¼Œé€šè¿‡é…ç½®é¡¹å¯ä»¥è‡ªå®šä¹‰æš‚å­˜å†…å®¹çš„æ ·å¼ï¼Œæš‚å­˜åŠ è½½å®Œæ¯•ã€å­˜å‚¨å®Œæ¯•ä¸Žåˆ é™¤å®Œæ¯•åŽçš„å›žè°ƒäº‹ä»¶ä»¥åŠæš‚å­˜çš„å­˜å‚¨å‘½åè§„åˆ™ï¼Œä¹Ÿå¯ä½¿ç”¨é»˜è®¤å€¼ä»Žè€Œå‡å°‘è¿‡åº¦çš„é…ç½®å·¥ä½œã€‚ ç”¨æ³•ï¼š 1.ä½¿ç”¨é»˜è®¤é…ç½®ï¼š 1$("#your_form_id").formLocalStorage(); 2.ä½¿ç”¨è‡ªå®šä¹‰é…ç½®ï¼š 1234$("#your_form_id").formLocalStorage(&#123; storage_name_perfix : 'your_storage_name_perfix', //è‡ªå®šä¹‰æš‚å­˜å­˜å‚¨çš„å‘½åå‰ç¼€ storage_events : 'click' //è‡ªå®šä¹‰æš‚å­˜è§¦å‘äº‹ä»¶&#125;); å·²çŸ¥çš„é—®é¢˜ï¼š 1.æœ‰äº›åŠ¨æ€å†™å…¥è¡¨å•é¡¹çš„å†…å®¹æ— æ³•ç›‘æµ‹åˆ°ï¼Œä¹Ÿä¸èƒ½æš‚å­˜ã€‚ 2.é»˜è®¤çš„storage_name_perfixæ˜¯this.context.URL + form_selector + &quot;@&quot;ï¼Œåœ¨æäº¤åŽè‹¥this.context.URLå‘ç”Ÿå˜åŒ–åˆ™ä¼šå®šä½ä¸åˆ°æš‚å­˜ï¼Œæœ€å¥½ä½¿ç”¨åˆ«çš„å”¯ä¸€å€¼ä½œä¸ºé»˜è®¤storage_name_perfix]]></content>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[No subject alternative names presentçš„åŽŸå› ]]></title>
    <url>%2F6fbeaa53.html</url>
    <content type="text"><![CDATA[æˆ‘çš„ä¸€ä¸ªé¡¹ç›®ç”¨åˆ°casæ‰€ä»¥éœ€è¦ç”¨httpsï¼Œéœ€è¦ç”Ÿæˆè¯ä¹¦ï¼Œåœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆè¯ä¹¦æ—¶æˆ‘ç”¨çš„ipåœ°å€ä½œä¸ºdnameä¸­çš„CNå€¼ï¼Œä½†æ˜¯å´å‡ºçŽ°äº† â€œNo subject alternative names presentâ€å¼‚å¸¸ï¼ŒåŽæ¥googleäº†ä¸€ä¸‹ï¼Œäº†è§£åˆ°åŽŸå› å¤§æ¦‚æ˜¯ä¸èƒ½ç”¨ipï¼Œå¿…é¡»ç”¨åŸŸåï¼Œè§ï¼š http://lovespss.blog.51cto.com/1907593/620487 http://www.coderanch.com/t/523511/sockets/java/Certificate-No-subject-alternative-names æ‰€ä»¥æžäº†ä¸ªåŸŸåé‡æ–°ç”Ÿæˆè¯ä¹¦ï¼ŒOKäº†ï¼Œçœ‹æ¥åŽŸå› å°±æ˜¯ä¸èƒ½ç”¨ipã€‚ å¦é™„ï¼škeytoolä½¿ç”¨ ç”Ÿæˆï¼š./keytool -genkeypair -alias &lt;åˆ«å&gt; -dname &quot;CN=&lt;åŸŸå&gt;&quot; -keystore &lt;keystoreè·¯å¾„&gt; -validity &lt;æœ‰æ•ˆå¤©æ•°&gt; å¯¼å‡ºï¼š./keytool -export -alias &lt;åˆ«å&gt; -file &lt;å¯¼å‡ºçš„è¯ä¹¦æ–‡ä»¶è·¯å¾„&gt; -keystore &lt;keystoreè·¯å¾„&gt; å¯¼å…¥ï¼š./keytool -import -alias &lt;åˆ«å&gt; -file &lt;è¦å¯¼å…¥çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„&gt; -keystore &lt;keystoreè·¯å¾„&gt;]]></content>
      <tags>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jfreechartå‡ºçŽ°sun.awt.X11GraphicsEnvironmentå¼‚å¸¸çš„è§£å†³]]></title>
    <url>%2Fa80c5461.html</url>
    <content type="text"><![CDATA[è§£å†³è¿™ä¸ªéœ€è¦tomcatå¯åŠ¨æ—¶åŠ ä¸Šå‚æ•° -Djava.awt.headless=true åœ¨ç³»ç»Ÿ(æˆ‘ç”¨çš„centos6.0)çš„â€/etc/profile.dâ€ä¸‹å»ºä¸¤ä¸ªæ–‡ä»¶ï¼š å†…å®¹å¦‚ä¸‹: java.sh java.csh]]></content>
      <tags>
        <tag>jfreechart</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hibernate ä¸è¾“å‡ºsqlå‚æ•°çš„è§£å†³]]></title>
    <url>%2Fbb09a4bd.html</url>
    <content type="text"><![CDATA[æˆ‘çš„ä¸€ä¸ªé¡¹ç›®(spring hibernate cxf)ä½¿ç”¨slf4j + log4j æ¥è¾“å‡ºæ—¥å¿—ï¼ŒæŒ‰è¯´åªè¦é…ç½®ä¸Š log4j.logger.org.hibernate.type.descriptor.sql.BasicBinder=TRACE å³å¯å®žçŽ°hibernateä¸­sqlå‚æ•°çš„è¾“å‡ºï¼Œå¯æ˜¯å®ƒæ­»æ´»å°±æ˜¯æ²¡æœ‰è¾“å‡ºï¼ŒåŽæ¥æˆ‘ä»”ç»†æŸ¥äº†æŸ¥ï¼Œå‘çŽ°åŽŸæ¥åœ¨classpathä¸­å­˜åœ¨ç€ slf4j-jdk14.jar ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨mavenæ¥ç®¡ç†ä¾èµ–é¡¹ï¼Œè¿™ä¸ªjaræ˜¯cxf-distribution-manifestçš„ä¾èµ–ï¼Œæ‰€ä»¥ä¼šåœ¨classpathé‡Œï¼Œåªè¦åœ¨mavenä¸­æŽ’é™¤è¿™ä¸ªä¾èµ–åŽï¼Œè¿™ä¸ªjarå°±ä¸ä¼šå†è·‘åˆ°classpathé‡Œäº†ï¼Œè¿™æ ·ï¼Œå°±èƒ½æ­£å¸¸çš„è¾“å‡ºå‚æ•°äº†ã€‚]]></content>
      <tags>
        <tag>hibernate</tag>
      </tags>
  </entry>
</search>
